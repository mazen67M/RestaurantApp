{"@t":"2026-01-17T16:52:26.5188586Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T16:52:26.6906734Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T16:52:26.6952579Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T16:52:27.2164510Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-17T16:52:29.7599859Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T16:52:29.7672041Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T16:52:29.7722148Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T16:52:31.2100478Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T16:52:31.2145226Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T16:52:31.2188545Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T16:52:31.5042958Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.API\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.API\\Program.cs:line 355","SourceContext":"Program"}
{"@t":"2026-01-17T16:52:31.7275701Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-17T16:52:31.8858485Z","@mt":"Hosting failed to start","@l":"Error","@x":"System.IO.IOException: Failed to bind to address http://127.0.0.1:5009: address already in use.\r\n ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.\r\n ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.\r\n   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)\r\n   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)\r\n   at System.Net.Sockets.Socket.Bind(EndPoint localEP)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)\r\n   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)\r\n   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)","EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}
{"@t":"2026-01-17T17:02:48.7676987Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T17:02:48.8964090Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T17:02:48.9011857Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T17:02:49.4138596Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-17T17:02:53.0240700Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:02:53.0421687Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:02:53.0567679Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:02:55.4318215Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:02:55.4425848Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:02:55.4557273Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:02:55.9904801Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.API\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.API\\Program.cs:line 355","SourceContext":"Program"}
{"@t":"2026-01-17T17:02:56.4542247Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-17T17:02:56.5622839Z","@mt":"Hosting failed to start","@l":"Error","@x":"System.IO.IOException: Failed to bind to address http://127.0.0.1:5009: address already in use.\r\n ---> Microsoft.AspNetCore.Connections.AddressInUseException: Only one usage of each socket address (protocol/network address/port) is normally permitted.\r\n ---> System.Net.Sockets.SocketException (10048): Only one usage of each socket address (protocol/network address/port) is normally permitted.\r\n   at System.Net.Sockets.Socket.UpdateStatusAfterSocketErrorAndThrowException(SocketError error, Boolean disconnectOnFailure, String callerName)\r\n   at System.Net.Sockets.Socket.DoBind(EndPoint endPointSnapshot, SocketAddress socketAddress)\r\n   at System.Net.Sockets.Socket.Bind(EndPoint localEP)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportOptions.CreateDefaultBoundListenSocket(EndPoint endpoint)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketConnectionListener.Bind()\r\n   at Microsoft.AspNetCore.Server.Kestrel.Transport.Sockets.SocketTransportFactory.BindAsync(EndPoint endpoint, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.Infrastructure.TransportManager.BindAsync(EndPoint endPoint, ConnectionDelegate connectionDelegate, EndpointConfig endpointConfig, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.<>c__DisplayClass28_0`1.<<StartAsync>g__OnBind|0>d.MoveNext()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.BindEndpointAsync(ListenOptions endpoint, AddressBindContext context, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.LocalhostListenOptions.BindAsync(AddressBindContext context, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.Internal.AddressBinder.AddressesStrategy.BindAsync(AddressBindContext context, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.BindAsync(CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Server.Kestrel.Core.KestrelServerImpl.StartAsync[TContext](IHttpApplication`1 application, CancellationToken cancellationToken)\r\n   at Microsoft.AspNetCore.Hosting.GenericWebHostService.StartAsync(CancellationToken cancellationToken)\r\n   at Microsoft.Extensions.Hosting.Internal.Host.<StartAsync>b__14_1(IHostedService service, CancellationToken token)\r\n   at Microsoft.Extensions.Hosting.Internal.Host.ForeachService[T](IEnumerable`1 services, CancellationToken token, Boolean concurrent, Boolean abortOnFirstException, List`1 exceptions, Func`3 operation)","EventId":{"Id":11,"Name":"HostedServiceStartupFaulted"},"SourceContext":"Microsoft.Extensions.Hosting.Internal.Host"}
{"@t":"2026-01-17T17:29:04.6749851Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T17:29:04.7460296Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T17:29:04.7487843Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T17:29:05.1402349Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-17T17:29:09.3736757Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:29:09.3825775Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:29:09.3900919Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:29:10.9474632Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:29:10.9535670Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:29:10.9617255Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T17:29:11.4406658Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.API\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.API\\Program.cs:line 355","SourceContext":"Program"}
{"@t":"2026-01-17T17:29:11.6583674Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.API\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-17T17:29:31.0257285Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c176986f58fcd6b20a9511af03bcd505","@sp":"5c2f0f1e445ae9ed","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T17:29:31.0193750Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:31.0676153Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"c176986f58fcd6b20a9511af03bcd505","@sp":"5c2f0f1e445ae9ed","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNILTNSHBIIP:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP","CorrelationId":"77b69f27-4004-4cc6-b9fa-e3796668faa6"}
{"@t":"2026-01-17T17:29:40.5011142Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c176986f58fcd6b20a9511af03bcd505","@sp":"5c2f0f1e445ae9ed","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":9481.1993,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:40.8718639Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c176986f58fcd6b20a9511af03bcd505","@sp":"7f669f3a7e6bf20e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T17:29:40.8715504Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIQ:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIIQ"}
{"@t":"2026-01-17T17:29:40.9022622Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c176986f58fcd6b20a9511af03bcd505","@sp":"7f669f3a7e6bf20e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":30.5391,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIQ:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIIQ"}
{"@t":"2026-01-17T17:29:40.9543619Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c176986f58fcd6b20a9511af03bcd505","@sp":"91e9d2f3f1b0acdd","Method":"GET","Path":"/hubs/orders","Query":"?id=yG9TVoDiibN7OY7-SACRkg","Time":"2026-01-17T17:29:40.9541728Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIR:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIIR"}
{"@t":"2026-01-17T17:29:41.1558462Z","@mt":"Client connected: {ConnectionId}","@tr":"c176986f58fcd6b20a9511af03bcd505","@sp":"91e9d2f3f1b0acdd","ConnectionId":"VdWNZafCWRyD53NHmyQFiQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"VdWNZafCWRyD53NHmyQFiQ","RequestId":"0HNILTNSHBIIR:00000001","RequestPath":"/hubs/orders","CorrelationId":"64ed0f6a-69f6-4b94-8aad-14f3e5d23120"}
{"@t":"2026-01-17T17:29:41.2527207Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"VdWNZafCWRyD53NHmyQFiQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"VdWNZafCWRyD53NHmyQFiQ","RequestId":"0HNILTNSHBIIR:00000001","RequestPath":"/hubs/orders","CorrelationId":"64ed0f6a-69f6-4b94-8aad-14f3e5d23120"}
{"@t":"2026-01-17T17:29:41.6280912Z","@mt":"Client disconnected: {ConnectionId}","@tr":"c176986f58fcd6b20a9511af03bcd505","@sp":"91e9d2f3f1b0acdd","ConnectionId":"VdWNZafCWRyD53NHmyQFiQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"VdWNZafCWRyD53NHmyQFiQ","RequestId":"0HNILTNSHBIIR:00000001","RequestPath":"/hubs/orders","CorrelationId":"64ed0f6a-69f6-4b94-8aad-14f3e5d23120"}
{"@t":"2026-01-17T17:29:41.6530958Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c176986f58fcd6b20a9511af03bcd505","@sp":"91e9d2f3f1b0acdd","Method":"GET","Path":"/hubs/orders","Query":"?id=yG9TVoDiibN7OY7-SACRkg","StatusCode":101,"Duration":698.7283,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIR:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIIR"}
{"@t":"2026-01-17T17:29:42.8922705Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"92586bb56977717fdff51c49be0b44af","@sp":"5886dcd7cd7e8e22","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T17:29:42.8921384Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:43.4070689Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"92586bb56977717fdff51c49be0b44af","@sp":"5886dcd7cd7e8e22","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":514.7418,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:43.4506838Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9f84f9e12db0a8dd3647f14069cde99f","@sp":"a07e8c1fb1b2f4b6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T17:29:43.4505614Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIS:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIIS"}
{"@t":"2026-01-17T17:29:43.4686656Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9f84f9e12db0a8dd3647f14069cde99f","@sp":"a07e8c1fb1b2f4b6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":17.7833,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIS:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIIS"}
{"@t":"2026-01-17T17:29:43.4781417Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d246b955b51716bdf2d28a5f022f62de","@sp":"d0ffbd2a4dadea4e","Method":"GET","Path":"/hubs/orders","Query":"?id=FsgYtrmsXtZazKt2gIRz9w","Time":"2026-01-17T17:29:43.4780075Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIT:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIIT"}
{"@t":"2026-01-17T17:29:43.4989667Z","@mt":"Client connected: {ConnectionId}","@tr":"d246b955b51716bdf2d28a5f022f62de","@sp":"d0ffbd2a4dadea4e","ConnectionId":"gVy2NwWcvl0g8cFOq1X7Tw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"gVy2NwWcvl0g8cFOq1X7Tw","RequestId":"0HNILTNSHBIIT:00000001","RequestPath":"/hubs/orders","CorrelationId":"2b47a4f2-603e-47ee-a48e-773693a0cf52"}
{"@t":"2026-01-17T17:29:43.5113610Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"gVy2NwWcvl0g8cFOq1X7Tw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"gVy2NwWcvl0g8cFOq1X7Tw","RequestId":"0HNILTNSHBIIT:00000001","RequestPath":"/hubs/orders","CorrelationId":"2b47a4f2-603e-47ee-a48e-773693a0cf52"}
{"@t":"2026-01-17T17:29:44.9942242Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bfd9dfcc13f481400f38ff31bd4cbf0e","@sp":"b7d02ced44c9cb04","Method":"GET","Path":"/api/orders/8","Query":"","Time":"2026-01-17T17:29:44.9940442Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000003","RequestPath":"/api/orders/8","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:45.1984967Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"bfd9dfcc13f481400f38ff31bd4cbf0e","@sp":"b7d02ced44c9cb04","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"e931466f-9626-4f49-a8cf-c214d940a05f","ActionName":"RestaurantApp.API.Controllers.OrdersController.GetOrder (RestaurantApp.API)","RequestId":"0HNILTNSHBIIP:00000003","RequestPath":"/api/orders/8","ConnectionId":"0HNILTNSHBIIP","CorrelationId":"781b0593-bab1-4c5d-b570-601ac92b03a3"}
{"@t":"2026-01-17T17:29:45.4588200Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bfd9dfcc13f481400f38ff31bd4cbf0e","@sp":"b7d02ced44c9cb04","Method":"GET","Path":"/api/orders/8","Query":"","StatusCode":200,"Duration":464.6358,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000003","RequestPath":"/api/orders/8","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:47.0434098Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"556ab8dd5cddacc7c77753c765ca1203","@sp":"c637b937f1a32e14","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:29:47.0433206Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:47.1537146Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"556ab8dd5cddacc7c77753c765ca1203","@sp":"c637b937f1a32e14","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":110.2894,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:59.2214017Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7e20ed2f4d556fe0497beca453940da5","@sp":"7d27fdc991e3f564","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:29:59.2213088Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:59.2419024Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"7e20ed2f4d556fe0497beca453940da5","@sp":"7d27fdc991e3f564","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":20.3985,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:59.4220554Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fa040390f70ca28aa590fee69bbd8296","@sp":"888bee7c5f1ba1f4","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:29:59.4218127Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:59.4359934Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"fa040390f70ca28aa590fee69bbd8296","@sp":"888bee7c5f1ba1f4","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":14.056,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:59.5717171Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ff42d775e1bbd283f0bfe4e11dc9fe6e","@sp":"823fba97e6e9eb71","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:29:59.5715598Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:59.5862444Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"ff42d775e1bbd283f0bfe4e11dc9fe6e","@sp":"823fba97e6e9eb71","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":14.5578,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:59.7298327Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"eddce5c237cd63cea54a8fbf997518b6","@sp":"7440fe5abedb5e3d","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:29:59.7297064Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:59.7435721Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"eddce5c237cd63cea54a8fbf997518b6","@sp":"7440fe5abedb5e3d","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":13.7311,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:59.8937005Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c13f00310f285e6481aacdace72a590e","@sp":"5e5f71b16f5ad91e","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:29:59.8933951Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:29:59.9092796Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"c13f00310f285e6481aacdace72a590e","@sp":"5e5f71b16f5ad91e","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":15.5791,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:15.5854770Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e7531f5ffbc75f3049a338b930ddf740","@sp":"edadbaf61644d7b7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T17:30:15.5852758Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:15.6189042Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e7531f5ffbc75f3049a338b930ddf740","@sp":"edadbaf61644d7b7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":33.5252,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:15.6427344Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e7531f5ffbc75f3049a338b930ddf740","@sp":"406ef7527e9815ae","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T17:30:15.6426604Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIU:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIIU"}
{"@t":"2026-01-17T17:30:15.6555638Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e7531f5ffbc75f3049a338b930ddf740","@sp":"406ef7527e9815ae","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":12.7803,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIU:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIIU"}
{"@t":"2026-01-17T17:30:15.6621393Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e7531f5ffbc75f3049a338b930ddf740","@sp":"369a56246e0d4000","Method":"GET","Path":"/hubs/orders","Query":"?id=Lup-dfggp-wpiOwiGNAHcg","Time":"2026-01-17T17:30:15.6620619Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIV:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIIV"}
{"@t":"2026-01-17T17:30:15.6813230Z","@mt":"Client connected: {ConnectionId}","@tr":"e7531f5ffbc75f3049a338b930ddf740","@sp":"369a56246e0d4000","ConnectionId":"xALW7YR0dLziNKSUrHfi8g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"xALW7YR0dLziNKSUrHfi8g","RequestId":"0HNILTNSHBIIV:00000001","RequestPath":"/hubs/orders","CorrelationId":"afd81f0f-1d95-4626-968e-2624179bf862"}
{"@t":"2026-01-17T17:30:15.6873625Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"xALW7YR0dLziNKSUrHfi8g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"xALW7YR0dLziNKSUrHfi8g","RequestId":"0HNILTNSHBIIV:00000001","RequestPath":"/hubs/orders","CorrelationId":"afd81f0f-1d95-4626-968e-2624179bf862"}
{"@t":"2026-01-17T17:30:15.7070371Z","@mt":"Client disconnected: {ConnectionId}","@tr":"e7531f5ffbc75f3049a338b930ddf740","@sp":"369a56246e0d4000","ConnectionId":"xALW7YR0dLziNKSUrHfi8g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"xALW7YR0dLziNKSUrHfi8g","RequestId":"0HNILTNSHBIIV:00000001","RequestPath":"/hubs/orders","CorrelationId":"afd81f0f-1d95-4626-968e-2624179bf862"}
{"@t":"2026-01-17T17:30:15.7385150Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e7531f5ffbc75f3049a338b930ddf740","@sp":"369a56246e0d4000","Method":"GET","Path":"/hubs/orders","Query":"?id=Lup-dfggp-wpiOwiGNAHcg","StatusCode":101,"Duration":75.4593,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIV:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIIV"}
{"@t":"2026-01-17T17:30:15.8154937Z","@mt":"Client disconnected: {ConnectionId}","@tr":"d246b955b51716bdf2d28a5f022f62de","@sp":"d0ffbd2a4dadea4e","ConnectionId":"gVy2NwWcvl0g8cFOq1X7Tw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"gVy2NwWcvl0g8cFOq1X7Tw","RequestId":"0HNILTNSHBIIT:00000001","RequestPath":"/hubs/orders","CorrelationId":"2b47a4f2-603e-47ee-a48e-773693a0cf52"}
{"@t":"2026-01-17T17:30:15.8225022Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d246b955b51716bdf2d28a5f022f62de","@sp":"d0ffbd2a4dadea4e","Method":"GET","Path":"/hubs/orders","Query":"?id=FsgYtrmsXtZazKt2gIRz9w","StatusCode":101,"Duration":32344.2386,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIT:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIIT"}
{"@t":"2026-01-17T17:30:16.3891524Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5c72bb1ce2abc4a27e085285e60f7601","@sp":"d07683615585273f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T17:30:16.3890489Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:16.4846502Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5c72bb1ce2abc4a27e085285e60f7601","@sp":"d07683615585273f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":95.4443,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:16.6080232Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"74a8590ee295f37a360f9b599c3fc6f4","@sp":"72d3e429e35c1f39","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T17:30:16.6076519Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ0:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIJ0"}
{"@t":"2026-01-17T17:30:16.6402753Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"74a8590ee295f37a360f9b599c3fc6f4","@sp":"72d3e429e35c1f39","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":32.4789,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ0:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIJ0"}
{"@t":"2026-01-17T17:30:16.6560845Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fe329c7d69e26259532fc392468a676b","@sp":"a11b0d9eb7d72fa8","Method":"GET","Path":"/hubs/orders","Query":"?id=5Z-5g-Ip23J067B-mSMptA","Time":"2026-01-17T17:30:16.6559350Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ1:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIJ1"}
{"@t":"2026-01-17T17:30:16.7337066Z","@mt":"Client connected: {ConnectionId}","@tr":"fe329c7d69e26259532fc392468a676b","@sp":"a11b0d9eb7d72fa8","ConnectionId":"qdEI5r0rfVceXkRj2hYPsQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"qdEI5r0rfVceXkRj2hYPsQ","RequestId":"0HNILTNSHBIJ1:00000001","RequestPath":"/hubs/orders","CorrelationId":"24b4124a-5c78-4e35-b75f-283811472bef"}
{"@t":"2026-01-17T17:30:16.8321227Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"qdEI5r0rfVceXkRj2hYPsQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"qdEI5r0rfVceXkRj2hYPsQ","RequestId":"0HNILTNSHBIJ1:00000001","RequestPath":"/hubs/orders","CorrelationId":"24b4124a-5c78-4e35-b75f-283811472bef"}
{"@t":"2026-01-17T17:30:17.1826870Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"30b9eb4ee487e18a07f2e2660579b4a7","@sp":"3ac3f9055ffbd2fc","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T17:30:17.1825884Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:17.2146743Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"30b9eb4ee487e18a07f2e2660579b4a7","@sp":"3ac3f9055ffbd2fc","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":31.947,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:17.2365968Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"30b9eb4ee487e18a07f2e2660579b4a7","@sp":"6847f0977c081a20","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T17:30:17.2363810Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ2:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIJ2"}
{"@t":"2026-01-17T17:30:17.2505128Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"30b9eb4ee487e18a07f2e2660579b4a7","@sp":"6847f0977c081a20","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":14.0351,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ2:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIJ2"}
{"@t":"2026-01-17T17:30:17.2604476Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"30b9eb4ee487e18a07f2e2660579b4a7","@sp":"5f641b800c9a4484","Method":"GET","Path":"/hubs/orders","Query":"?id=A23a9jwdMb7ObomSmDrayA","Time":"2026-01-17T17:30:17.2603042Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ3:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIJ3"}
{"@t":"2026-01-17T17:30:17.2779619Z","@mt":"Client connected: {ConnectionId}","@tr":"30b9eb4ee487e18a07f2e2660579b4a7","@sp":"5f641b800c9a4484","ConnectionId":"29-pfSe02lbCr6SmZ8PpBA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"29-pfSe02lbCr6SmZ8PpBA","RequestId":"0HNILTNSHBIJ3:00000001","RequestPath":"/hubs/orders","CorrelationId":"93b233e1-ffe5-4ecd-b453-447a565951da"}
{"@t":"2026-01-17T17:30:17.2839038Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"29-pfSe02lbCr6SmZ8PpBA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"29-pfSe02lbCr6SmZ8PpBA","RequestId":"0HNILTNSHBIJ3:00000001","RequestPath":"/hubs/orders","CorrelationId":"93b233e1-ffe5-4ecd-b453-447a565951da"}
{"@t":"2026-01-17T17:30:17.3011781Z","@mt":"Client disconnected: {ConnectionId}","@tr":"30b9eb4ee487e18a07f2e2660579b4a7","@sp":"5f641b800c9a4484","ConnectionId":"29-pfSe02lbCr6SmZ8PpBA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"29-pfSe02lbCr6SmZ8PpBA","RequestId":"0HNILTNSHBIJ3:00000001","RequestPath":"/hubs/orders","CorrelationId":"93b233e1-ffe5-4ecd-b453-447a565951da"}
{"@t":"2026-01-17T17:30:17.3096116Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"30b9eb4ee487e18a07f2e2660579b4a7","@sp":"5f641b800c9a4484","Method":"GET","Path":"/hubs/orders","Query":"?id=A23a9jwdMb7ObomSmDrayA","StatusCode":101,"Duration":49.1347,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ3:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIJ3"}
{"@t":"2026-01-17T17:30:17.3252477Z","@mt":"Client disconnected: {ConnectionId}","@tr":"fe329c7d69e26259532fc392468a676b","@sp":"a11b0d9eb7d72fa8","ConnectionId":"qdEI5r0rfVceXkRj2hYPsQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"qdEI5r0rfVceXkRj2hYPsQ","RequestId":"0HNILTNSHBIJ1:00000001","RequestPath":"/hubs/orders","CorrelationId":"24b4124a-5c78-4e35-b75f-283811472bef"}
{"@t":"2026-01-17T17:30:17.3408917Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fe329c7d69e26259532fc392468a676b","@sp":"a11b0d9eb7d72fa8","Method":"GET","Path":"/hubs/orders","Query":"?id=5Z-5g-Ip23J067B-mSMptA","StatusCode":101,"Duration":684.8515,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ1:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIJ1"}
{"@t":"2026-01-17T17:30:17.6439572Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3f1ef73a0beba16a8811b330a54d2897","@sp":"dec727b5d2a0f59f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T17:30:17.6438232Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:17.6679240Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3f1ef73a0beba16a8811b330a54d2897","@sp":"dec727b5d2a0f59f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":24.0216,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:17.6884319Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"eb249d407547f8a024fe4bbb01ac288d","@sp":"7328a7f9ba994837","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T17:30:17.6882357Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ4:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIJ4"}
{"@t":"2026-01-17T17:30:17.7192666Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"eb249d407547f8a024fe4bbb01ac288d","@sp":"7328a7f9ba994837","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":30.6297,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ4:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIJ4"}
{"@t":"2026-01-17T17:30:17.7307564Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a9bf4597bf884467f36af2012dc8fe26","@sp":"b4e15b46ee772330","Method":"GET","Path":"/hubs/orders","Query":"?id=0kwo_BkBfyXEdypw1yZ1-g","Time":"2026-01-17T17:30:17.7305308Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ5:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIJ5"}
{"@t":"2026-01-17T17:30:17.7602288Z","@mt":"Client connected: {ConnectionId}","@tr":"a9bf4597bf884467f36af2012dc8fe26","@sp":"b4e15b46ee772330","ConnectionId":"OLUZl3EaLDKMPwGUdeMcyQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"OLUZl3EaLDKMPwGUdeMcyQ","RequestId":"0HNILTNSHBIJ5:00000001","RequestPath":"/hubs/orders","CorrelationId":"105b6a33-3243-441a-8ab1-149b626338f5"}
{"@t":"2026-01-17T17:30:17.7732335Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"OLUZl3EaLDKMPwGUdeMcyQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"OLUZl3EaLDKMPwGUdeMcyQ","RequestId":"0HNILTNSHBIJ5:00000001","RequestPath":"/hubs/orders","CorrelationId":"105b6a33-3243-441a-8ab1-149b626338f5"}
{"@t":"2026-01-17T17:30:19.0045921Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"84323998927a10f88f859aa09234d625","@sp":"90ddea016813f858","Method":"GET","Path":"/api/orders/8","Query":"","Time":"2026-01-17T17:30:19.0045123Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000E","RequestPath":"/api/orders/8","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:19.0252078Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"84323998927a10f88f859aa09234d625","@sp":"90ddea016813f858","Method":"GET","Path":"/api/orders/8","Query":"","StatusCode":200,"Duration":20.5593,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000E","RequestPath":"/api/orders/8","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:20.1388539Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"85fec1ed4a273c494bfb5bf713309db6","@sp":"40412ef2c1d19d15","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:30:20.1386858Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000F","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:20.1532472Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"85fec1ed4a273c494bfb5bf713309db6","@sp":"40412ef2c1d19d15","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":14.4193,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:0000000F","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:20.3149988Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8fdbd9ef9bddc8fcb139eec9fee33475","@sp":"caffc8d11f3fc0ad","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:30:20.3149189Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000010","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:20.3302687Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"8fdbd9ef9bddc8fcb139eec9fee33475","@sp":"caffc8d11f3fc0ad","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":15.2021,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000010","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:20.5052928Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"991440c11fbeb9469f943cb052983ef8","@sp":"6a903988bdd8f8d8","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:30:20.5048068Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000011","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:30:20.5226490Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"991440c11fbeb9469f943cb052983ef8","@sp":"6a903988bdd8f8d8","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":17.5415,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIIP:00000011","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIIP"}
{"@t":"2026-01-17T17:32:42.0718708Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f2a72d344e41c8798dfdd6755b0064e9","@sp":"1afa76eac83fe014","Method":"GET","Path":"/api/orders/8","Query":"","Time":"2026-01-17T17:32:42.0717202Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ6:00000001","RequestPath":"/api/orders/8","ConnectionId":"0HNILTNSHBIJ6"}
{"@t":"2026-01-17T17:32:42.1201900Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f2a72d344e41c8798dfdd6755b0064e9","@sp":"1afa76eac83fe014","Method":"GET","Path":"/api/orders/8","Query":"","StatusCode":200,"Duration":48.3867,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ6:00000001","RequestPath":"/api/orders/8","ConnectionId":"0HNILTNSHBIJ6"}
{"@t":"2026-01-17T17:32:43.6954037Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"62bb9cff1c21079fa64d396e847cfdae","@sp":"fa8c99e2be194a59","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:32:43.6952733Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ6:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ6"}
{"@t":"2026-01-17T17:32:43.7093922Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"62bb9cff1c21079fa64d396e847cfdae","@sp":"fa8c99e2be194a59","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":14.0191,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ6:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ6"}
{"@t":"2026-01-17T17:32:45.0253198Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5b5480f52f2c05a360b19291e460e582","@sp":"8917b4eb172364e4","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:32:45.0252292Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ6:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ6"}
{"@t":"2026-01-17T17:32:45.0386375Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"5b5480f52f2c05a360b19291e460e582","@sp":"8917b4eb172364e4","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":13.3166,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ6:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ6"}
{"@t":"2026-01-17T17:38:12.1625626Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6d64afb98975e5d2ae210adcafe81f89","@sp":"4700ebdafb2f90bb","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:38:12.1624365Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:12.1765623Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"6d64afb98975e5d2ae210adcafe81f89","@sp":"4700ebdafb2f90bb","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":13.9991,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:12.3488721Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1e05fb266b8b614816397258bfb2ebea","@sp":"097708837e027bb8","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:38:12.3487873Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:12.3679189Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"1e05fb266b8b614816397258bfb2ebea","@sp":"097708837e027bb8","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":19.0225,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:12.5249479Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"364b238b4da1882789dbea214d2da23c","@sp":"b56bdd58fe40df39","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:38:12.5248451Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:12.5917196Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"364b238b4da1882789dbea214d2da23c","@sp":"b56bdd58fe40df39","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":66.8062,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:12.9670301Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"34dce67d4b269c860fce0cee40422da5","@sp":"db3d3c08f1db8073","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:38:12.9669533Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:13.0040138Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"34dce67d4b269c860fce0cee40422da5","@sp":"db3d3c08f1db8073","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":36.9789,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:13.1460468Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f07639611073bbd77e3f17938b873e53","@sp":"0243335c79632287","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T17:38:13.1459428Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:13.1690016Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"f07639611073bbd77e3f17938b873e53","@sp":"0243335c79632287","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":22.9823,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:27.8044947Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"35befb2b16c48ae5ce7e05024ab75a7d","@sp":"7452c52047cccdf2","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T17:38:27.8042633Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:28.0596654Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"35befb2b16c48ae5ce7e05024ab75a7d","@sp":"7452c52047cccdf2","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":255.306,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:38.5347683Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"aa2a59b65d64ff3c4c80e7f4b18d21cc","@sp":"be75c2a343e487a7","Method":"GET","Path":"/api/orders/6","Query":"","Time":"2026-01-17T17:38:38.5346727Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000007","RequestPath":"/api/orders/6","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:38.5964310Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"aa2a59b65d64ff3c4c80e7f4b18d21cc","@sp":"be75c2a343e487a7","Method":"GET","Path":"/api/orders/6","Query":"","StatusCode":200,"Duration":61.4352,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000007","RequestPath":"/api/orders/6","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:40.5589821Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b702c782cffd118c8187b342aee7a92d","@sp":"0a9c8178b7629920","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","Time":"2026-01-17T17:38:40.5588903Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000008","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:40.5731939Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"b702c782cffd118c8187b342aee7a92d","@sp":"0a9c8178b7629920","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","StatusCode":400,"Duration":14.2307,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000008","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:40.7238887Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"32bc85d3dab4c528ec3d3c852ad760be","@sp":"294dd168c1614d52","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","Time":"2026-01-17T17:38:40.7236905Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000009","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:40.7372254Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"32bc85d3dab4c528ec3d3c852ad760be","@sp":"294dd168c1614d52","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","StatusCode":400,"Duration":13.3618,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:00000009","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:43.3328858Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"030acde94761cb985fadd092e725b7a0","@sp":"4f54d69fd679451e","Method":"GET","Path":"/api/orders/1","Query":"","Time":"2026-01-17T17:38:43.3327968Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:0000000A","RequestPath":"/api/orders/1","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:43.3535612Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"030acde94761cb985fadd092e725b7a0","@sp":"4f54d69fd679451e","Method":"GET","Path":"/api/orders/1","Query":"","StatusCode":200,"Duration":20.6912,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:0000000A","RequestPath":"/api/orders/1","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:44.5615896Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9e5f21fdad905e1b97a5a808527b9463","@sp":"96c8e15862b03534","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-17T17:38:44.5615022Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:0000000B","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:44.5763751Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"9e5f21fdad905e1b97a5a808527b9463","@sp":"96c8e15862b03534","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":400,"Duration":14.757,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:0000000B","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:44.7509024Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e52229f4055e24f495af182554bae1b7","@sp":"aaee1af1f3b8b2d8","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-17T17:38:44.7507588Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:0000000C","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:44.7633634Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"e52229f4055e24f495af182554bae1b7","@sp":"aaee1af1f3b8b2d8","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":400,"Duration":12.4975,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:0000000C","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:44.9239105Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"df56bf1e4809775d5463396348766091","@sp":"1d18b97ee2fe350f","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-17T17:38:44.9238398Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:0000000D","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T17:38:44.9371063Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"df56bf1e4809775d5463396348766091","@sp":"1d18b97ee2fe350f","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":400,"Duration":13.2135,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ7:0000000D","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILTNSHBIJ7"}
{"@t":"2026-01-17T18:56:40.1144080Z","@mt":"Client disconnected: {ConnectionId}","@tr":"a9bf4597bf884467f36af2012dc8fe26","@sp":"b4e15b46ee772330","ConnectionId":"OLUZl3EaLDKMPwGUdeMcyQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"OLUZl3EaLDKMPwGUdeMcyQ","RequestId":"0HNILTNSHBIJ5:00000001","RequestPath":"/hubs/orders","CorrelationId":"105b6a33-3243-441a-8ab1-149b626338f5"}
{"@t":"2026-01-17T18:56:40.1166548Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a9bf4597bf884467f36af2012dc8fe26","@sp":"b4e15b46ee772330","Method":"GET","Path":"/hubs/orders","Query":"?id=0kwo_BkBfyXEdypw1yZ1-g","StatusCode":101,"Duration":5182386.0804,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ5:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIJ5"}
{"@t":"2026-01-17T18:56:40.7986574Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"06b5bd19f9506262b154b5d3af05d5fb","@sp":"bc46be096aa63d3c","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T18:56:40.7985488Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIJ8"}
{"@t":"2026-01-17T18:56:44.6750422Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"06b5bd19f9506262b154b5d3af05d5fb","@sp":"bc46be096aa63d3c","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":3876.449,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILTNSHBIJ8"}
{"@t":"2026-01-17T18:56:44.8764221Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5b9b54ea489f245223aef86199481c6f","@sp":"5fcbb3375daa4b7e","Method":"GET","Path":"/hubs/orders","Query":"?id=6IXnCXxW7baQesMX8jGMVQ","Time":"2026-01-17T18:56:44.8763192Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIJ9"}
{"@t":"2026-01-17T18:56:44.9914137Z","@mt":"Client connected: {ConnectionId}","@tr":"5b9b54ea489f245223aef86199481c6f","@sp":"5fcbb3375daa4b7e","ConnectionId":"2oh5mkhPyBrvW6pAULVA8Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"2oh5mkhPyBrvW6pAULVA8Q","RequestId":"0HNILTNSHBIJ9:00000001","RequestPath":"/hubs/orders","CorrelationId":"5f798dec-b14b-4bef-88ac-0d27499b1f92"}
{"@t":"2026-01-17T18:57:40.0293432Z","@mt":"Client disconnected: {ConnectionId}","@tr":"5b9b54ea489f245223aef86199481c6f","@sp":"5fcbb3375daa4b7e","ConnectionId":"2oh5mkhPyBrvW6pAULVA8Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"2oh5mkhPyBrvW6pAULVA8Q","RequestId":"0HNILTNSHBIJ9:00000001","RequestPath":"/hubs/orders","CorrelationId":"5f798dec-b14b-4bef-88ac-0d27499b1f92"}
{"@t":"2026-01-17T18:57:40.0321765Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5b9b54ea489f245223aef86199481c6f","@sp":"5fcbb3375daa4b7e","Method":"GET","Path":"/hubs/orders","Query":"?id=6IXnCXxW7baQesMX8jGMVQ","StatusCode":101,"Duration":55155.8153,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILTNSHBIJ9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILTNSHBIJ9"}
{"@t":"2026-01-17T19:07:19.3156979Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T19:07:19.8476722Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T19:07:19.8497371Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T19:07:21.3334527Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-17T19:07:26.9083149Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:07:26.9145535Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:07:26.9183574Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:07:28.5332670Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:07:28.5434944Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:07:28.5483111Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:07:29.0566309Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 355","SourceContext":"Program"}
{"@t":"2026-01-17T19:07:29.5731864Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-17T19:07:49.9164539Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7863a1dc71b67ecac8639c998f002a78","@sp":"bd280c72a24f4b34","Method":"POST","Path":"/api/auth/login","Query":"","Time":"2026-01-17T19:07:49.9118845Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFE:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNILVEQHFHFE"}
{"@t":"2026-01-17T19:07:49.9568842Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"7863a1dc71b67ecac8639c998f002a78","@sp":"bd280c72a24f4b34","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNILVEQHFHFE:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNILVEQHFHFE","CorrelationId":"8f29281a-0f33-4416-8601-1f3f10c4999f"}
{"@t":"2026-01-17T19:07:52.4061821Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2f3b7eedb8f604937ac372e8e42b082a","@sp":"cfe6e60457a15c80","Method":"POST","Path":"/api/auth/login","Query":"","Time":"2026-01-17T19:07:52.4054571Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:07:57.3483651Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2f3b7eedb8f604937ac372e8e42b082a","@sp":"cfe6e60457a15c80","Method":"POST","Path":"/api/auth/login","Query":"","StatusCode":200,"Duration":4942.4937,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:07:57.3483580Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7863a1dc71b67ecac8639c998f002a78","@sp":"bd280c72a24f4b34","Method":"POST","Path":"/api/auth/login","Query":"","StatusCode":200,"Duration":7436.0935,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFE:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNILVEQHFHFE"}
{"@t":"2026-01-17T19:07:57.8857341Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c6e1e503002c017dff7aef1b5186f2a9","@sp":"22c084dba5ed3a5c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:07:57.8855930Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:07:59.8941119Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c6e1e503002c017dff7aef1b5186f2a9","@sp":"22c084dba5ed3a5c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":2007.9045,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:03.4935515Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8494c86cfa2d40a75e37c3b014fc35b7","@sp":"0dbba0b519caa92a","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:08:03.4931155Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:05.3530205Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8494c86cfa2d40a75e37c3b014fc35b7","@sp":"0dbba0b519caa92a","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":1859.8302,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:16.4272954Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"250da0a80f26b612a05b8f0fdb6f5cf3","@sp":"a3fea6e6d08826e9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:08:16.4271653Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:16.7553855Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"250da0a80f26b612a05b8f0fdb6f5cf3","@sp":"a3fea6e6d08826e9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":328.1346,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:16.8808704Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"250da0a80f26b612a05b8f0fdb6f5cf3","@sp":"57efae6e463f97f0","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:08:16.8807902Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFG:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVEQHFHFG"}
{"@t":"2026-01-17T19:08:16.8922802Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"250da0a80f26b612a05b8f0fdb6f5cf3","@sp":"57efae6e463f97f0","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":11.4261,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFG:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVEQHFHFG"}
{"@t":"2026-01-17T19:08:16.9358866Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"250da0a80f26b612a05b8f0fdb6f5cf3","@sp":"b55f43c83f19de27","Method":"GET","Path":"/hubs/orders","Query":"?id=_hX5kv0c6mLEHYd-MP6LLg","Time":"2026-01-17T19:08:16.9358284Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFH:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVEQHFHFH"}
{"@t":"2026-01-17T19:08:17.0468444Z","@mt":"Client connected: {ConnectionId}","@tr":"250da0a80f26b612a05b8f0fdb6f5cf3","@sp":"b55f43c83f19de27","ConnectionId":"jy6g2rWHWxbID40_J7iptw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"jy6g2rWHWxbID40_J7iptw","RequestId":"0HNILVEQHFHFH:00000001","RequestPath":"/hubs/orders","CorrelationId":"4deefa93-4db5-4a87-8b4e-02a5dfe51b46"}
{"@t":"2026-01-17T19:08:17.1100057Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"jy6g2rWHWxbID40_J7iptw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"jy6g2rWHWxbID40_J7iptw","RequestId":"0HNILVEQHFHFH:00000001","RequestPath":"/hubs/orders","CorrelationId":"4deefa93-4db5-4a87-8b4e-02a5dfe51b46"}
{"@t":"2026-01-17T19:08:17.2007479Z","@mt":"Client disconnected: {ConnectionId}","@tr":"250da0a80f26b612a05b8f0fdb6f5cf3","@sp":"b55f43c83f19de27","ConnectionId":"jy6g2rWHWxbID40_J7iptw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"jy6g2rWHWxbID40_J7iptw","RequestId":"0HNILVEQHFHFH:00000001","RequestPath":"/hubs/orders","CorrelationId":"4deefa93-4db5-4a87-8b4e-02a5dfe51b46"}
{"@t":"2026-01-17T19:08:17.2423188Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"250da0a80f26b612a05b8f0fdb6f5cf3","@sp":"b55f43c83f19de27","Method":"GET","Path":"/hubs/orders","Query":"?id=_hX5kv0c6mLEHYd-MP6LLg","StatusCode":101,"Duration":306.3896,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFH:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVEQHFHFH"}
{"@t":"2026-01-17T19:08:17.3495525Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ddd8ef8d269f284b3db74432a7a756fa","@sp":"4c0061f8245eb6a7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:08:17.3493893Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:17.5295414Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ddd8ef8d269f284b3db74432a7a756fa","@sp":"4c0061f8245eb6a7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":180.0302,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:17.5967409Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f0171d1bfafaf3c229ba93a024bb0f98","@sp":"145cc9cb11a8d7ce","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:08:17.5966556Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFI:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVEQHFHFI"}
{"@t":"2026-01-17T19:08:17.6134394Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f0171d1bfafaf3c229ba93a024bb0f98","@sp":"145cc9cb11a8d7ce","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":16.3906,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFI:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVEQHFHFI"}
{"@t":"2026-01-17T19:08:17.6269051Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"56d2a71a3606b4d8c842cd82f4806609","@sp":"8d6fc1938fff58c4","Method":"GET","Path":"/hubs/orders","Query":"?id=KKIPgobAriqatOMeUBvg8w","Time":"2026-01-17T19:08:17.6267795Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFJ:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVEQHFHFJ"}
{"@t":"2026-01-17T19:08:17.6953479Z","@mt":"Client connected: {ConnectionId}","@tr":"56d2a71a3606b4d8c842cd82f4806609","@sp":"8d6fc1938fff58c4","ConnectionId":"2ViuxWy8JIf_aX9xphqNxQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"2ViuxWy8JIf_aX9xphqNxQ","RequestId":"0HNILVEQHFHFJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"1af9bb3a-f98e-4200-9ef5-a1a3ebcae5dc"}
{"@t":"2026-01-17T19:08:17.7063700Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"2ViuxWy8JIf_aX9xphqNxQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"2ViuxWy8JIf_aX9xphqNxQ","RequestId":"0HNILVEQHFHFJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"1af9bb3a-f98e-4200-9ef5-a1a3ebcae5dc"}
{"@t":"2026-01-17T19:08:19.0720923Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"12ee5f47ee225b227255db55262b3dcc","@sp":"0dd3818b8449cd47","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-17T19:08:19.0720261Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000006","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:19.1223389Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"12ee5f47ee225b227255db55262b3dcc","@sp":"0dd3818b8449cd47","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"011cc07b-cce8-4e40-b120-7dba4a032e53","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.API)","RequestId":"0HNILVEQHFHFF:00000006","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNILVEQHFHFF","CorrelationId":"13b21ec2-ce43-413d-843b-09e83e490e3f"}
{"@t":"2026-01-17T19:08:19.3234497Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"12ee5f47ee225b227255db55262b3dcc","@sp":"0dd3818b8449cd47","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":251.3516,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000006","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:25.9573222Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"224e522c4d4e5d4cb0db78ff42eab794","@sp":"5a25d962fc58f4d4","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:25.9572409Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:25.9914124Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"224e522c4d4e5d4cb0db78ff42eab794","@sp":"5a25d962fc58f4d4","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":34.0909,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:27.0077770Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6e6a59416d3d0e27dce046b6c9277b08","@sp":"6b6f467f9099d7cc","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:27.0076764Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:27.0228310Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"6e6a59416d3d0e27dce046b6c9277b08","@sp":"6b6f467f9099d7cc","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":15.0981,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:27.1635101Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ffea8b35ef2d89b9e6987154e0dcf1d8","@sp":"fe38c84b17f6f2d7","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:27.1634551Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:27.1678391Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"ffea8b35ef2d89b9e6987154e0dcf1d8","@sp":"fe38c84b17f6f2d7","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":4.3226,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:27.3151906Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f015eee9da2a09a2ded01c4dcb6e4879","@sp":"992db33ec49e5645","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:27.3151060Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:27.3191254Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"f015eee9da2a09a2ded01c4dcb6e4879","@sp":"992db33ec49e5645","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":3.9884,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:27.5040815Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d5d790c7863d90578d344a9f23e127a1","@sp":"5d659bb9c69b8154","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:27.5040169Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000B","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:27.5082515Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"d5d790c7863d90578d344a9f23e127a1","@sp":"5d659bb9c69b8154","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":4.1742,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000B","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:29.5428708Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6d0064d89d0e8960de14c974bea7db6e","@sp":"94cb86bad6d6f62f","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-17T19:08:29.5428098Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000C","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:29.5581044Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6d0064d89d0e8960de14c974bea7db6e","@sp":"94cb86bad6d6f62f","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":15.1856,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000C","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:30.6235236Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ac57d1b25a362922813a1bc78af6305a","@sp":"0ad7826afdb4134e","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:30.6233919Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000D","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:30.6273088Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"ac57d1b25a362922813a1bc78af6305a","@sp":"0ad7826afdb4134e","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":3.8611,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000D","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:30.9384099Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e4d8d39bc58fd814a8df4bec5db18bc9","@sp":"83f6075ce165c976","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:30.9383509Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:30.9442756Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"e4d8d39bc58fd814a8df4bec5db18bc9","@sp":"83f6075ce165c976","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":5.8729,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:31.1089881Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3f578d9d7a86054919224c64a4db503f","@sp":"4267dc474fe9c4c9","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:31.1089363Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000F","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:31.1126561Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"3f578d9d7a86054919224c64a4db503f","@sp":"4267dc474fe9c4c9","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":3.6906,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000000F","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:31.2591083Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e25984be3881b4b8fff696daa28921fa","@sp":"0b1bbb03bba67c93","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:31.2590552Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000010","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:31.2631991Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"e25984be3881b4b8fff696daa28921fa","@sp":"0b1bbb03bba67c93","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":4.0935,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000010","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:31.4322376Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f739e507fd0d0165ee1f566dd1467ec0","@sp":"6b87a5aadd16ac68","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:31.4321405Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000011","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:31.4589454Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"f739e507fd0d0165ee1f566dd1467ec0","@sp":"6b87a5aadd16ac68","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":26.755,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000011","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:31.5927682Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e7deb2e22467b42d1ed7da630a197984","@sp":"9600e0f3b791fc01","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:31.5926759Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000012","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:31.6030273Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"e7deb2e22467b42d1ed7da630a197984","@sp":"9600e0f3b791fc01","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":10.1224,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000012","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:32.6773976Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fd4bbc4fa739cc4c60444b41de564836","@sp":"d2768acae0d57d63","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:32.6772605Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:32.6811145Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"fd4bbc4fa739cc4c60444b41de564836","@sp":"d2768acae0d57d63","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":3.8193,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:32.8487716Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fbb6834e567f4b97c93e3e49f33d7f5e","@sp":"e16ace634c72b2b9","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:32.8486538Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:32.8537576Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"fbb6834e567f4b97c93e3e49f33d7f5e","@sp":"e16ace634c72b2b9","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":5.0504,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:32.9936526Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a49bfdb04b05a11ba1bc0ed60f5ef9b0","@sp":"95c30ccb1046937c","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:32.9935271Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:32.9987178Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"a49bfdb04b05a11ba1bc0ed60f5ef9b0","@sp":"95c30ccb1046937c","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":5.1461,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:47.0315124Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fa4be05da59b5a37f4d79805ca46db3c","@sp":"d9277c46798851b6","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:47.0314083Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000016","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:47.0486610Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"fa4be05da59b5a37f4d79805ca46db3c","@sp":"d9277c46798851b6","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":17.2009,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000016","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:47.1920384Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a333eb53d359d3c18a6fb411ccebf83b","@sp":"03d1ddd48eca0003","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:47.1919707Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000017","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:47.1992278Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"a333eb53d359d3c18a6fb411ccebf83b","@sp":"03d1ddd48eca0003","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":7.1951,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000017","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:53.3229238Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"496731f6348c1704c01fd6622fa17000","@sp":"1b1354a6548deb73","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:53.3228262Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000018","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:53.3453823Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"496731f6348c1704c01fd6622fa17000","@sp":"1b1354a6548deb73","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":22.4843,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000018","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:53.5355396Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0a8f8f8dc256b639f28cfa21de57f733","@sp":"4f6456fdcf77a374","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:53.5354508Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000019","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:53.5401475Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"0a8f8f8dc256b639f28cfa21de57f733","@sp":"4f6456fdcf77a374","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":4.6411,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000019","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:53.7117309Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fe4de70a168affe24bc5eaa6f8a702dc","@sp":"84186fba15ea8a5a","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:53.7116536Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:53.7405451Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"fe4de70a168affe24bc5eaa6f8a702dc","@sp":"84186fba15ea8a5a","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":28.8469,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:54.1285410Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bfcf3ad3c2ded84d8e0a60ee75c002b8","@sp":"283292ae4d051b08","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:54.1284523Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001B","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:54.1368363Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"bfcf3ad3c2ded84d8e0a60ee75c002b8","@sp":"283292ae4d051b08","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":8.3221,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001B","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:54.2932918Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c15fdbab8ae7c947490a03a46addda37","@sp":"6bdfd8923084e17a","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:54.2932448Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001C","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:54.2979008Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"c15fdbab8ae7c947490a03a46addda37","@sp":"6bdfd8923084e17a","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":4.6033,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001C","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:54.4716193Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0f02d1e2a5274154d7c4764eccfee92e","@sp":"3b72125c47633be5","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:54.4715423Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001D","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:54.4981392Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"0f02d1e2a5274154d7c4764eccfee92e","@sp":"3b72125c47633be5","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":26.5557,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001D","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:54.9012422Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3ad2002c374d5eaf4c611a2479104b7a","@sp":"661db56e5da560ef","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:54.9011612Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:54.9070872Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"3ad2002c374d5eaf4c611a2479104b7a","@sp":"661db56e5da560ef","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":5.8882,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:55.0863783Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"40c9f077e14e1e79fc318a5033b72bbd","@sp":"941efcd34e5459c9","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:08:55.0863389Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001F","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:08:55.0913527Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"40c9f077e14e1e79fc318a5033b72bbd","@sp":"941efcd34e5459c9","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":4.9842,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000001F","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:15.6655177Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"704c3bec5705744f3e7ae2f80842ade4","@sp":"ab70d937b09bcea4","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:09:15.6654347Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000020","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:15.6736806Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"704c3bec5705744f3e7ae2f80842ade4","@sp":"ab70d937b09bcea4","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":8.191,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000020","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:15.8264254Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"86693eadf4e24dcd1a5b458b3b50326c","@sp":"f48a02b47190cce8","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:09:15.8263795Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000021","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:15.8557490Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"86693eadf4e24dcd1a5b458b3b50326c","@sp":"f48a02b47190cce8","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":29.3179,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000021","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:15.9797449Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d81da87555c8a46ecb5ac7dedb5d2fad","@sp":"657d0127904e727b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:09:15.9796616Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000022","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:15.9895506Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"d81da87555c8a46ecb5ac7dedb5d2fad","@sp":"657d0127904e727b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":9.8341,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000022","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:16.1261092Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2ea225d1fea189040c9ac3b7d855d8f0","@sp":"1ce3bc356ad2b53b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:09:16.1260607Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000023","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:16.1341803Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"2ea225d1fea189040c9ac3b7d855d8f0","@sp":"1ce3bc356ad2b53b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":8.0749,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000023","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:16.5997503Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cfde07fbbbdec99fe77ab720b6868bee","@sp":"7f0a7e98ef7a9bcd","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:09:16.5996465Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000024","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:16.6055066Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"cfde07fbbbdec99fe77ab720b6868bee","@sp":"7f0a7e98ef7a9bcd","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":5.8193,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000024","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:35.3030176Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9f9348b32c53b60d2913f0e532e866ec","@sp":"8eea099a95c4fa04","Method":"GET","Path":"/api/admin/orders/7","Query":"","Time":"2026-01-17T19:09:35.3029669Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000025","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:35.3233626Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9f9348b32c53b60d2913f0e532e866ec","@sp":"8eea099a95c4fa04","Method":"GET","Path":"/api/admin/orders/7","Query":"","StatusCode":200,"Duration":20.3376,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000025","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:36.3220460Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"75fcb08adafa086ca99898c9f86c9602","@sp":"722685af75b5125e","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:09:36.3219877Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000026","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:36.3254124Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"75fcb08adafa086ca99898c9f86c9602","@sp":"722685af75b5125e","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":3.4057,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000026","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:36.5093976Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4643d73ab82c21c8f2a349c8cdab3d46","@sp":"630cf405f3e25739","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:09:36.5093516Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000027","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:36.5133134Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"4643d73ab82c21c8f2a349c8cdab3d46","@sp":"630cf405f3e25739","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":3.9349,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000027","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:36.6846978Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7d98eb97e429a044758a97c6621ceb42","@sp":"ffbce5f62552265c","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:09:36.6845997Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000028","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:36.7114721Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"7d98eb97e429a044758a97c6621ceb42","@sp":"ffbce5f62552265c","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":26.8343,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000028","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:38.1369079Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7d05eecd820fbac280ab2f757209cefd","@sp":"99d8ee46bc1959d7","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:09:38.1368091Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000029","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:38.1406745Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"7d05eecd820fbac280ab2f757209cefd","@sp":"99d8ee46bc1959d7","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":3.8419,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:00000029","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:38.7825047Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e01b96bab4a732fb092158c190e8e85f","@sp":"2de1b3d0db641d41","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:09:38.7824588Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000002A","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:38.7910999Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"e01b96bab4a732fb092158c190e8e85f","@sp":"2de1b3d0db641d41","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":8.4961,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000002A","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:38.9428106Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"95c667a5e2be1ebb816ae3e5bc102dae","@sp":"b29d14cab21de087","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:09:38.9427719Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000002B","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:38.9526862Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"95c667a5e2be1ebb816ae3e5bc102dae","@sp":"b29d14cab21de087","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":9.8708,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000002B","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:39.0926669Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fad0bcaf5585aac7eb0d311c4996f0bf","@sp":"ecc9039663096d37","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:09:39.0926228Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000002C","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:39.1063657Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"fad0bcaf5585aac7eb0d311c4996f0bf","@sp":"ecc9039663096d37","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":13.6938,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000002C","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:39.2630452Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"67e0051e993351afd6e48e5d736b8b93","@sp":"7ace2134ca53e7c9","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:09:39.2629931Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000002D","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:09:39.2665958Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"67e0051e993351afd6e48e5d736b8b93","@sp":"7ace2134ca53e7c9","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":3.5703,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFF:0000002D","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVEQHFHFF"}
{"@t":"2026-01-17T19:19:04.2882103Z","@mt":"Client disconnected: {ConnectionId}","@tr":"56d2a71a3606b4d8c842cd82f4806609","@sp":"8d6fc1938fff58c4","ConnectionId":"2ViuxWy8JIf_aX9xphqNxQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"2ViuxWy8JIf_aX9xphqNxQ","RequestId":"0HNILVEQHFHFJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"1af9bb3a-f98e-4200-9ef5-a1a3ebcae5dc"}
{"@t":"2026-01-17T19:19:04.2969951Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"56d2a71a3606b4d8c842cd82f4806609","@sp":"8d6fc1938fff58c4","Method":"GET","Path":"/hubs/orders","Query":"?id=KKIPgobAriqatOMeUBvg8w","StatusCode":101,"Duration":646670.1785,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVEQHFHFJ:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVEQHFHFJ"}
{"@t":"2026-01-17T19:19:30.1486937Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T19:19:30.3538326Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T19:19:30.3653570Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T19:19:31.2035718Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-17T19:19:35.1162280Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:19:35.3272696Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:19:35.3478116Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:19:38.0992538Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:19:38.1056638Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:19:38.1435869Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:19:38.8916104Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 355","SourceContext":"Program"}
{"@t":"2026-01-17T19:19:40.0622578Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-17T19:20:16.8289139Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dd702be0f284453a9c6eddaf5cc1915f","@sp":"c40cbe46d93614f2","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:20:16.8244047Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:20:16.8550253Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"dd702be0f284453a9c6eddaf5cc1915f","@sp":"c40cbe46d93614f2","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNILVLP59I5U:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U","CorrelationId":"6a220384-5786-449b-a953-58243d900b56"}
{"@t":"2026-01-17T19:20:20.4998631Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dd702be0f284453a9c6eddaf5cc1915f","@sp":"c40cbe46d93614f2","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":3675.1636,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:20:20.8077101Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dd702be0f284453a9c6eddaf5cc1915f","@sp":"5d5ee7cb1fd24e8e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:20:20.8075588Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5V:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVLP59I5V"}
{"@t":"2026-01-17T19:20:20.8205562Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dd702be0f284453a9c6eddaf5cc1915f","@sp":"5d5ee7cb1fd24e8e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":12.8474,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5V:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVLP59I5V"}
{"@t":"2026-01-17T19:20:20.8404477Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dd702be0f284453a9c6eddaf5cc1915f","@sp":"6970568ff40f66ef","Method":"GET","Path":"/hubs/orders","Query":"?id=sLLKtCn7gIi9T2S_IH65Pg","Time":"2026-01-17T19:20:20.8403810Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I60:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVLP59I60"}
{"@t":"2026-01-17T19:20:20.8837598Z","@mt":"Client connected: {ConnectionId}","@tr":"dd702be0f284453a9c6eddaf5cc1915f","@sp":"6970568ff40f66ef","ConnectionId":"vUzDUZ9Aeq77z1FAXcdacg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"vUzDUZ9Aeq77z1FAXcdacg","RequestId":"0HNILVLP59I60:00000001","RequestPath":"/hubs/orders","CorrelationId":"0c128667-923f-49b1-bb1a-6b280f9cef54"}
{"@t":"2026-01-17T19:20:20.9085176Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"vUzDUZ9Aeq77z1FAXcdacg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"vUzDUZ9Aeq77z1FAXcdacg","RequestId":"0HNILVLP59I60:00000001","RequestPath":"/hubs/orders","CorrelationId":"0c128667-923f-49b1-bb1a-6b280f9cef54"}
{"@t":"2026-01-17T19:20:20.9800811Z","@mt":"Client disconnected: {ConnectionId}","@tr":"dd702be0f284453a9c6eddaf5cc1915f","@sp":"6970568ff40f66ef","ConnectionId":"vUzDUZ9Aeq77z1FAXcdacg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"vUzDUZ9Aeq77z1FAXcdacg","RequestId":"0HNILVLP59I60:00000001","RequestPath":"/hubs/orders","CorrelationId":"0c128667-923f-49b1-bb1a-6b280f9cef54"}
{"@t":"2026-01-17T19:20:20.9885689Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dd702be0f284453a9c6eddaf5cc1915f","@sp":"6970568ff40f66ef","Method":"GET","Path":"/hubs/orders","Query":"?id=sLLKtCn7gIi9T2S_IH65Pg","StatusCode":101,"Duration":148.1269,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I60:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVLP59I60"}
{"@t":"2026-01-17T19:20:21.4811495Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6b6cef25627abc9832f8c2bf3ddbad3f","@sp":"66c669750e47ff91","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:20:21.4810818Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:20:21.7238734Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6b6cef25627abc9832f8c2bf3ddbad3f","@sp":"66c669750e47ff91","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":242.7063,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:20:21.7409006Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6c24e226a155a09da668671b1645f371","@sp":"63622dc109b3d223","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:20:21.7408464Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I61:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVLP59I61"}
{"@t":"2026-01-17T19:20:21.7453805Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6c24e226a155a09da668671b1645f371","@sp":"63622dc109b3d223","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":4.3733,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I61:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVLP59I61"}
{"@t":"2026-01-17T19:20:21.7487184Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"952cbbdc5b07b297f19d49fef837345c","@sp":"c4dfb77cac2e18b1","Method":"GET","Path":"/hubs/orders","Query":"?id=ogGbTDq-kPey22WQgMqlWA","Time":"2026-01-17T19:20:21.7486555Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I62:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVLP59I62"}
{"@t":"2026-01-17T19:20:21.7807711Z","@mt":"Client connected: {ConnectionId}","@tr":"952cbbdc5b07b297f19d49fef837345c","@sp":"c4dfb77cac2e18b1","ConnectionId":"5lATdxF_2ui4fAWoFzhkCw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"5lATdxF_2ui4fAWoFzhkCw","RequestId":"0HNILVLP59I62:00000001","RequestPath":"/hubs/orders","CorrelationId":"2ad3eddb-3319-4921-b584-7bca8a9db0cf"}
{"@t":"2026-01-17T19:20:21.7875775Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"5lATdxF_2ui4fAWoFzhkCw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"5lATdxF_2ui4fAWoFzhkCw","RequestId":"0HNILVLP59I62:00000001","RequestPath":"/hubs/orders","CorrelationId":"2ad3eddb-3319-4921-b584-7bca8a9db0cf"}
{"@t":"2026-01-17T19:21:17.1885887Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ccdff8626a125a3cfa064155c45bd09c","@sp":"5792d64017635166","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-17T19:21:17.1885108Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:17.2305995Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"ccdff8626a125a3cfa064155c45bd09c","@sp":"5792d64017635166","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"d48f5596-63a3-4b64-9028-9454a4a54b68","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNILVLP59I5U","CorrelationId":"c2274d12-8f85-4840-acbe-8d4ffe4c7d66"}
{"@t":"2026-01-17T19:21:17.3124977Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ccdff8626a125a3cfa064155c45bd09c","@sp":"5792d64017635166","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":123.9228,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:18.2305395Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9a0b1e4597e43120499fe1081fe1b0a7","@sp":"a1b5d45a74fd01df","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:18.2304826Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:18.7169356Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"9a0b1e4597e43120499fe1081fe1b0a7","@sp":"a1b5d45a74fd01df","OrderId":8,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"aa438306-f2fb-4586-b57d-313b5d3680a9"}
{"@t":"2026-01-17T19:21:18.7295990Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cd0d1c8e36a32c99a70ca3086db14852","@sp":"88dc2e2318b71cb2","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:18.7295484Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I63:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I63"}
{"@t":"2026-01-17T19:21:18.7357032Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"9a0b1e4597e43120499fe1081fe1b0a7","@sp":"a1b5d45a74fd01df","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-9117DD","Status":"Preparing","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"aa438306-f2fb-4586-b57d-313b5d3680a9"}
{"@t":"2026-01-17T19:21:18.7568696Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cd0d1c8e36a32c99a70ca3086db14852","@sp":"88dc2e2318b71cb2","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":27.2713,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I63:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I63"}
{"@t":"2026-01-17T19:21:18.8487602Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9a0b1e4597e43120499fe1081fe1b0a7","@sp":"a1b5d45a74fd01df","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":618.2278,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:21.8658919Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4063fe4d59c2aa279a8b00b8a760cdc5","@sp":"4004e23919ae1a72","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:21.8658325Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:21.8740982Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4063fe4d59c2aa279a8b00b8a760cdc5","@sp":"4004e23919ae1a72","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":8.19,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:21.9145981Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5863746e5db36b8b6da66465a452733e","@sp":"5808967a412def44","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:21.9145646Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:22.0211101Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"5863746e5db36b8b6da66465a452733e","@sp":"5808967a412def44","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"c66c7f9b-5fbc-4c89-a579-bc494d7c6fc8"}
{"@t":"2026-01-17T19:21:22.0370137Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"5863746e5db36b8b6da66465a452733e","@sp":"5808967a412def44","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"c66c7f9b-5fbc-4c89-a579-bc494d7c6fc8"}
{"@t":"2026-01-17T19:21:22.0662478Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"5863746e5db36b8b6da66465a452733e","@sp":"5808967a412def44","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"c66c7f9b-5fbc-4c89-a579-bc494d7c6fc8"}
{"@t":"2026-01-17T19:21:22.0833364Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"5863746e5db36b8b6da66465a452733e","@sp":"5808967a412def44","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"c66c7f9b-5fbc-4c89-a579-bc494d7c6fc8"}
{"@t":"2026-01-17T19:21:22.0996252Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"5863746e5db36b8b6da66465a452733e","@sp":"5808967a412def44","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":185.0194,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:23.7244473Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b96d962cbbfeb5261e0cf7b80117147d","@sp":"abeab9899b10b7d3","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:23.7243993Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:23.7369505Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"b96d962cbbfeb5261e0cf7b80117147d","@sp":"abeab9899b10b7d3","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"fc11b995-6123-4d8b-8a0a-e2b976f57ab5"}
{"@t":"2026-01-17T19:21:23.7605865Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"b96d962cbbfeb5261e0cf7b80117147d","@sp":"abeab9899b10b7d3","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"fc11b995-6123-4d8b-8a0a-e2b976f57ab5"}
{"@t":"2026-01-17T19:21:23.7901743Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"b96d962cbbfeb5261e0cf7b80117147d","@sp":"abeab9899b10b7d3","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"fc11b995-6123-4d8b-8a0a-e2b976f57ab5"}
{"@t":"2026-01-17T19:21:23.8193642Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"b96d962cbbfeb5261e0cf7b80117147d","@sp":"abeab9899b10b7d3","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"fc11b995-6123-4d8b-8a0a-e2b976f57ab5"}
{"@t":"2026-01-17T19:21:23.8395300Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"b96d962cbbfeb5261e0cf7b80117147d","@sp":"abeab9899b10b7d3","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":115.0924,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:24.6456716Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fa5da03d8bf8655dfbbb99ec30ea33f7","@sp":"b47c7f711400182d","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:24.6456102Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:24.6560800Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"fa5da03d8bf8655dfbbb99ec30ea33f7","@sp":"b47c7f711400182d","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"dfc0ea54-aff3-4d79-a84f-625abc26ba2b"}
{"@t":"2026-01-17T19:21:24.6782550Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"fa5da03d8bf8655dfbbb99ec30ea33f7","@sp":"b47c7f711400182d","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"dfc0ea54-aff3-4d79-a84f-625abc26ba2b"}
{"@t":"2026-01-17T19:21:24.7101076Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"fa5da03d8bf8655dfbbb99ec30ea33f7","@sp":"b47c7f711400182d","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"dfc0ea54-aff3-4d79-a84f-625abc26ba2b"}
{"@t":"2026-01-17T19:21:24.7403446Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"fa5da03d8bf8655dfbbb99ec30ea33f7","@sp":"b47c7f711400182d","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"dfc0ea54-aff3-4d79-a84f-625abc26ba2b"}
{"@t":"2026-01-17T19:21:24.7623278Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"fa5da03d8bf8655dfbbb99ec30ea33f7","@sp":"b47c7f711400182d","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":116.6483,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:24.8267865Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d6f95cfa360ea38c33c967651262a51c","@sp":"5f78ecdce7cbc693","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:24.8267000Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:24.8492365Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"d6f95cfa360ea38c33c967651262a51c","@sp":"5f78ecdce7cbc693","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"c9219e2c-c17a-4b0a-86f7-f7405e654652"}
{"@t":"2026-01-17T19:21:24.8792146Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"d6f95cfa360ea38c33c967651262a51c","@sp":"5f78ecdce7cbc693","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"c9219e2c-c17a-4b0a-86f7-f7405e654652"}
{"@t":"2026-01-17T19:21:24.9176931Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"d6f95cfa360ea38c33c967651262a51c","@sp":"5f78ecdce7cbc693","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"c9219e2c-c17a-4b0a-86f7-f7405e654652"}
{"@t":"2026-01-17T19:21:24.9447660Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"d6f95cfa360ea38c33c967651262a51c","@sp":"5f78ecdce7cbc693","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"c9219e2c-c17a-4b0a-86f7-f7405e654652"}
{"@t":"2026-01-17T19:21:24.9684100Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"d6f95cfa360ea38c33c967651262a51c","@sp":"5f78ecdce7cbc693","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":141.6406,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:25.0457904Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a65d440eee7608c5c75a37e280d42c80","@sp":"036dda9ec00259c0","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:25.0457053Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:25.0696102Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"a65d440eee7608c5c75a37e280d42c80","@sp":"036dda9ec00259c0","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"2b2d5db7-e70c-4803-9021-74f38e1c1bea"}
{"@t":"2026-01-17T19:21:25.1037519Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"a65d440eee7608c5c75a37e280d42c80","@sp":"036dda9ec00259c0","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"2b2d5db7-e70c-4803-9021-74f38e1c1bea"}
{"@t":"2026-01-17T19:21:25.1511711Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"a65d440eee7608c5c75a37e280d42c80","@sp":"036dda9ec00259c0","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"2b2d5db7-e70c-4803-9021-74f38e1c1bea"}
{"@t":"2026-01-17T19:21:25.1870601Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"a65d440eee7608c5c75a37e280d42c80","@sp":"036dda9ec00259c0","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"2b2d5db7-e70c-4803-9021-74f38e1c1bea"}
{"@t":"2026-01-17T19:21:25.2169903Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"a65d440eee7608c5c75a37e280d42c80","@sp":"036dda9ec00259c0","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":171.1672,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:25.7710516Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8abc37fd9f44663abe8c69cee0d53164","@sp":"7fa65d5ced3efae7","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:25.7709568Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000B","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:25.7971794Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"8abc37fd9f44663abe8c69cee0d53164","@sp":"7fa65d5ced3efae7","OrderId":8,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:0000000B","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"4d3af230-22a1-41d7-bce2-e04b4b5b7241"}
{"@t":"2026-01-17T19:21:25.8087490Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"8abc37fd9f44663abe8c69cee0d53164","@sp":"7fa65d5ced3efae7","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-9117DD","Status":"Ready","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I5U:0000000B","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U","CorrelationId":"4d3af230-22a1-41d7-bce2-e04b4b5b7241"}
{"@t":"2026-01-17T19:21:25.8101689Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b83564d406a2294a1dc629d88dc492ad","@sp":"b6b286da2cdce56e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:25.8100557Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I63:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I63"}
{"@t":"2026-01-17T19:21:25.8476160Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b83564d406a2294a1dc629d88dc492ad","@sp":"b6b286da2cdce56e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":37.4313,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I63:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I63"}
{"@t":"2026-01-17T19:21:25.9342093Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8abc37fd9f44663abe8c69cee0d53164","@sp":"7fa65d5ced3efae7","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":162.965,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000B","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:26.0797934Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7a10fd4251057d73da09f05cb9ca9b3e","@sp":"750ddaab117ff99b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:26.0795428Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000C","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:26.1159079Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7a10fd4251057d73da09f05cb9ca9b3e","@sp":"750ddaab117ff99b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":36.1476,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000C","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:26.2717364Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"271e60360245186fb0b92c35f8b66d0c","@sp":"0567ae2824b6d796","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:26.2716109Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000D","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:26.2997308Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"271e60360245186fb0b92c35f8b66d0c","@sp":"0567ae2824b6d796","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":27.6708,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000D","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:26.4578594Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"49898816e76b2a7ca1a5a8235949d829","@sp":"792e02d185345567","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:26.4575922Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:26.4846692Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"49898816e76b2a7ca1a5a8235949d829","@sp":"792e02d185345567","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":26.7943,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:29.0205027Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3e1f89f902c16c6eadc72fa119e3ec0d","@sp":"64f53ab007029ca9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:29.0203114Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000F","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:29.0720497Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3e1f89f902c16c6eadc72fa119e3ec0d","@sp":"64f53ab007029ca9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":51.4703,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:0000000F","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:29.1630999Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"efe70e4012327c6434b8b56db91cf991","@sp":"b4d471d5e084b430","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:29.1624468Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000010","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:29.2032945Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"efe70e4012327c6434b8b56db91cf991","@sp":"b4d471d5e084b430","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":40.4541,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000010","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:29.2101948Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"046508bd25d3714a7d6cce005878f9b4","@sp":"dfaf6c1689beb091","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:29.2100734Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I63:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63"}
{"@t":"2026-01-17T19:21:29.2734571Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"046508bd25d3714a7d6cce005878f9b4","@sp":"dfaf6c1689beb091","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I63:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63","CorrelationId":"68f46139-1bc3-4b8d-aa10-413abeafab89"}
{"@t":"2026-01-17T19:21:29.3790207Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"893f01fcadb37da0e864ad8f8d29516d","@sp":"3bf04361e1d61ee9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:29.3788649Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000011","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:29.4444266Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"df8bec09bd51433be22d0a00621ec2e2","@sp":"2110bcb5c8f337c8","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:29.4442387Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:29.4759983Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"046508bd25d3714a7d6cce005878f9b4","@sp":"dfaf6c1689beb091","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I63:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63","CorrelationId":"68f46139-1bc3-4b8d-aa10-413abeafab89"}
{"@t":"2026-01-17T19:21:29.5072692Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"893f01fcadb37da0e864ad8f8d29516d","@sp":"3bf04361e1d61ee9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":128.0481,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I5U:00000011","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I5U"}
{"@t":"2026-01-17T19:21:29.5380520Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c6bcc2d60055645a54ac1e6545241146","@sp":"f70dff98894019c4","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:29.5378488Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I65:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I65"}
{"@t":"2026-01-17T19:21:29.6143065Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"625df085b3778867461b1a58d40302c5","@sp":"e022e622b0d8dd92","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:29.6138821Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:29.6469511Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"df8bec09bd51433be22d0a00621ec2e2","@sp":"2110bcb5c8f337c8","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"de2da130-d9e4-4e33-9bd6-406824a924de"}
{"@t":"2026-01-17T19:21:29.7276099Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"046508bd25d3714a7d6cce005878f9b4","@sp":"dfaf6c1689beb091","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I63:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63","CorrelationId":"68f46139-1bc3-4b8d-aa10-413abeafab89"}
{"@t":"2026-01-17T19:21:29.7823486Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c6bcc2d60055645a54ac1e6545241146","@sp":"f70dff98894019c4","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":244.2093,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I65:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I65"}
{"@t":"2026-01-17T19:21:29.8259593Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"625df085b3778867461b1a58d40302c5","@sp":"e022e622b0d8dd92","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"d1a629ae-7da6-4ad3-bdd7-699bcc3bbeec"}
{"@t":"2026-01-17T19:21:29.8900084Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"df8bec09bd51433be22d0a00621ec2e2","@sp":"2110bcb5c8f337c8","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"de2da130-d9e4-4e33-9bd6-406824a924de"}
{"@t":"2026-01-17T19:21:29.9704383Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"046508bd25d3714a7d6cce005878f9b4","@sp":"dfaf6c1689beb091","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I63:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63","CorrelationId":"68f46139-1bc3-4b8d-aa10-413abeafab89"}
{"@t":"2026-01-17T19:21:30.0397078Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"625df085b3778867461b1a58d40302c5","@sp":"e022e622b0d8dd92","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"d1a629ae-7da6-4ad3-bdd7-699bcc3bbeec"}
{"@t":"2026-01-17T19:21:30.1116953Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"df8bec09bd51433be22d0a00621ec2e2","@sp":"2110bcb5c8f337c8","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"de2da130-d9e4-4e33-9bd6-406824a924de"}
{"@t":"2026-01-17T19:21:30.1516091Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"046508bd25d3714a7d6cce005878f9b4","@sp":"dfaf6c1689beb091","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":941.3625,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I63:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63"}
{"@t":"2026-01-17T19:21:30.2227468Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"625df085b3778867461b1a58d40302c5","@sp":"e022e622b0d8dd92","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"d1a629ae-7da6-4ad3-bdd7-699bcc3bbeec"}
{"@t":"2026-01-17T19:21:30.2679279Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"df8bec09bd51433be22d0a00621ec2e2","@sp":"2110bcb5c8f337c8","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"de2da130-d9e4-4e33-9bd6-406824a924de"}
{"@t":"2026-01-17T19:21:30.3304346Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"625df085b3778867461b1a58d40302c5","@sp":"e022e622b0d8dd92","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"d1a629ae-7da6-4ad3-bdd7-699bcc3bbeec"}
{"@t":"2026-01-17T19:21:30.4585719Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"df8bec09bd51433be22d0a00621ec2e2","@sp":"2110bcb5c8f337c8","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":1014.1748,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:30.5310332Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"625df085b3778867461b1a58d40302c5","@sp":"e022e622b0d8dd92","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":916.9918,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:31.2121169Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8ab773abe60794c78aebc73691270911","@sp":"9d8187720c13ec7b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:31.2120142Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:31.2308058Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"8ab773abe60794c78aebc73691270911","@sp":"9d8187720c13ec7b","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"e05905ae-c5d2-4be5-a40c-5e81af2e512f"}
{"@t":"2026-01-17T19:21:31.2705150Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"8ab773abe60794c78aebc73691270911","@sp":"9d8187720c13ec7b","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"e05905ae-c5d2-4be5-a40c-5e81af2e512f"}
{"@t":"2026-01-17T19:21:31.3214764Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"8ab773abe60794c78aebc73691270911","@sp":"9d8187720c13ec7b","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"e05905ae-c5d2-4be5-a40c-5e81af2e512f"}
{"@t":"2026-01-17T19:21:31.3530537Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"8ab773abe60794c78aebc73691270911","@sp":"9d8187720c13ec7b","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"e05905ae-c5d2-4be5-a40c-5e81af2e512f"}
{"@t":"2026-01-17T19:21:31.3788249Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5bb12586e1c3b02a8048afc4ec3fa17d","@sp":"98f6761c0dc689f0","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:31.3787492Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:31.3829458Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"8ab773abe60794c78aebc73691270911","@sp":"9d8187720c13ec7b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":170.8317,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:31.3984942Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"5bb12586e1c3b02a8048afc4ec3fa17d","@sp":"98f6761c0dc689f0","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"97f8e589-31f9-45fb-9d7f-9c1028b9ad75"}
{"@t":"2026-01-17T19:21:31.4368935Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"5bb12586e1c3b02a8048afc4ec3fa17d","@sp":"98f6761c0dc689f0","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"97f8e589-31f9-45fb-9d7f-9c1028b9ad75"}
{"@t":"2026-01-17T19:21:31.4839337Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"5bb12586e1c3b02a8048afc4ec3fa17d","@sp":"98f6761c0dc689f0","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"97f8e589-31f9-45fb-9d7f-9c1028b9ad75"}
{"@t":"2026-01-17T19:21:31.5177055Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"5bb12586e1c3b02a8048afc4ec3fa17d","@sp":"98f6761c0dc689f0","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"97f8e589-31f9-45fb-9d7f-9c1028b9ad75"}
{"@t":"2026-01-17T19:21:31.5530193Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"5bb12586e1c3b02a8048afc4ec3fa17d","@sp":"98f6761c0dc689f0","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":174.1911,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:31.5538576Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b16bbfff62a6983555e877960d931453","@sp":"512033e962350f77","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:31.5537922Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:31.5793842Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"b16bbfff62a6983555e877960d931453","@sp":"512033e962350f77","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"99bd7923-4144-4a85-b556-7dbb1d625dd7"}
{"@t":"2026-01-17T19:21:31.6326560Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"b16bbfff62a6983555e877960d931453","@sp":"512033e962350f77","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"99bd7923-4144-4a85-b556-7dbb1d625dd7"}
{"@t":"2026-01-17T19:21:31.6895362Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"b16bbfff62a6983555e877960d931453","@sp":"512033e962350f77","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"99bd7923-4144-4a85-b556-7dbb1d625dd7"}
{"@t":"2026-01-17T19:21:31.7268583Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"b16bbfff62a6983555e877960d931453","@sp":"512033e962350f77","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"99bd7923-4144-4a85-b556-7dbb1d625dd7"}
{"@t":"2026-01-17T19:21:31.7309737Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a2f1c4d9b16dfa22810116c39aaf9e1a","@sp":"6dd8fcf456329618","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:31.7308973Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:31.7628683Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"b16bbfff62a6983555e877960d931453","@sp":"512033e962350f77","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":208.9969,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:31.7790968Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"a2f1c4d9b16dfa22810116c39aaf9e1a","@sp":"6dd8fcf456329618","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"bc0d550a-b79f-4008-90de-6a11f4ccdb54"}
{"@t":"2026-01-17T19:21:31.8281529Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"a2f1c4d9b16dfa22810116c39aaf9e1a","@sp":"6dd8fcf456329618","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"bc0d550a-b79f-4008-90de-6a11f4ccdb54"}
{"@t":"2026-01-17T19:21:31.8798496Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"a2f1c4d9b16dfa22810116c39aaf9e1a","@sp":"6dd8fcf456329618","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"bc0d550a-b79f-4008-90de-6a11f4ccdb54"}
{"@t":"2026-01-17T19:21:31.9195396Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"a2f1c4d9b16dfa22810116c39aaf9e1a","@sp":"6dd8fcf456329618","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"bc0d550a-b79f-4008-90de-6a11f4ccdb54"}
{"@t":"2026-01-17T19:21:31.9430162Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0e2ded3672dcccf32ddffaa52b69ba57","@sp":"5e63b9d288637a96","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:31.9429479Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:32.0727415Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"a2f1c4d9b16dfa22810116c39aaf9e1a","@sp":"6dd8fcf456329618","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":341.7692,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000003","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:32.1886081Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ee8c94d0146cf0b1f6c0194c568f8dad","@sp":"3531435a6b65f19f","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:32.1885399Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:32.2306273Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"0e2ded3672dcccf32ddffaa52b69ba57","@sp":"5e63b9d288637a96","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"ecfb37f8-4430-41b2-96be-f49897028058"}
{"@t":"2026-01-17T19:21:32.2399953Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"ee8c94d0146cf0b1f6c0194c568f8dad","@sp":"3531435a6b65f19f","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"49342593-7a1b-47b4-b7af-9a70c073c452"}
{"@t":"2026-01-17T19:21:32.2766769Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"0e2ded3672dcccf32ddffaa52b69ba57","@sp":"5e63b9d288637a96","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"ecfb37f8-4430-41b2-96be-f49897028058"}
{"@t":"2026-01-17T19:21:32.3382835Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bf65227aafc4acb86a6b6878f565688d","@sp":"f99b956d1263e844","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:32.3380631Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I63:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63"}
{"@t":"2026-01-17T19:21:32.4204225Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"ee8c94d0146cf0b1f6c0194c568f8dad","@sp":"3531435a6b65f19f","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"49342593-7a1b-47b4-b7af-9a70c073c452"}
{"@t":"2026-01-17T19:21:32.4877735Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"0e2ded3672dcccf32ddffaa52b69ba57","@sp":"5e63b9d288637a96","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"ecfb37f8-4430-41b2-96be-f49897028058"}
{"@t":"2026-01-17T19:21:32.5344732Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"bf65227aafc4acb86a6b6878f565688d","@sp":"f99b956d1263e844","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I63:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63","CorrelationId":"b713468c-18bf-4abb-89d8-c7836c1bd8b9"}
{"@t":"2026-01-17T19:21:32.5734067Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"ee8c94d0146cf0b1f6c0194c568f8dad","@sp":"3531435a6b65f19f","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"49342593-7a1b-47b4-b7af-9a70c073c452"}
{"@t":"2026-01-17T19:21:32.6334087Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:9415e86f-f958-4100-bbac-414177ebef73\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"0e2ded3672dcccf32ddffaa52b69ba57","@sp":"5e63b9d288637a96","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"ecfb37f8-4430-41b2-96be-f49897028058"}
{"@t":"2026-01-17T19:21:32.6801397Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"bf65227aafc4acb86a6b6878f565688d","@sp":"f99b956d1263e844","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I63:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63","CorrelationId":"b713468c-18bf-4abb-89d8-c7836c1bd8b9"}
{"@t":"2026-01-17T19:21:32.7242661Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"ee8c94d0146cf0b1f6c0194c568f8dad","@sp":"3531435a6b65f19f","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"49342593-7a1b-47b4-b7af-9a70c073c452"}
{"@t":"2026-01-17T19:21:32.7562718Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"0e2ded3672dcccf32ddffaa52b69ba57","@sp":"5e63b9d288637a96","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":813.2425,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:32.8059955Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"bf65227aafc4acb86a6b6878f565688d","@sp":"f99b956d1263e844","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I63:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63","CorrelationId":"b713468c-18bf-4abb-89d8-c7836c1bd8b9"}
{"@t":"2026-01-17T19:21:32.8421706Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"ee8c94d0146cf0b1f6c0194c568f8dad","@sp":"3531435a6b65f19f","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":653.5354,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:32.8930373Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"621a3069fbc3a6a94acc45f6e6c79b51","@sp":"23cd0d9c139df108","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T19:21:32.8929533Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:32.9071022Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:0814fa4b-674f-4675-b78b-80fca14120e2\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 68","@tr":"bf65227aafc4acb86a6b6878f565688d","@sp":"f99b956d1263e844","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I63:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63","CorrelationId":"b713468c-18bf-4abb-89d8-c7836c1bd8b9"}
{"@t":"2026-01-17T19:21:32.9509534Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"621a3069fbc3a6a94acc45f6e6c79b51","@sp":"23cd0d9c139df108","OrderId":8,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"82e1d32c-d93b-4400-bbcd-9332a2f6a79d"}
{"@t":"2026-01-17T19:21:32.9780767Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"bf65227aafc4acb86a6b6878f565688d","@sp":"f99b956d1263e844","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":639.9235,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I63:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I63"}
{"@t":"2026-01-17T19:21:32.9816620Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"621a3069fbc3a6a94acc45f6e6c79b51","@sp":"23cd0d9c139df108","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-9117DD","Status":"Confirmed","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"82e1d32c-d93b-4400-bbcd-9332a2f6a79d"}
{"@t":"2026-01-17T19:21:32.9837138Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8b7473b7353a47a64598c7c673d011f2","@sp":"70e833934fc326ef","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:32.9835159Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:33.0282733Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8b7473b7353a47a64598c7c673d011f2","@sp":"70e833934fc326ef","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":44.4687,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:33.1070983Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"621a3069fbc3a6a94acc45f6e6c79b51","@sp":"23cd0d9c139df108","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":214.0531,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:36.1309261Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"840315f1ce1c1372667870a8a9a94654","@sp":"ccc1d3437995050e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:36.1308831Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:36.1396288Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"840315f1ce1c1372667870a8a9a94654","@sp":"ccc1d3437995050e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":8.6798,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:37.0216356Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1873a7e60bd8f9b18b1dd767574235de","@sp":"3018448e3ea83747","Method":"GET","Path":"/api/admin/orders/7","Query":"","Time":"2026-01-17T19:21:37.0216023Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000007","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:37.0271748Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1873a7e60bd8f9b18b1dd767574235de","@sp":"3018448e3ea83747","Method":"GET","Path":"/api/admin/orders/7","Query":"","StatusCode":200,"Duration":5.5459,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000007","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:37.9432832Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ae1ad201575d1fb7f5b8375803b5d647","@sp":"a779fee33a7a9165","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:21:37.9432546Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000008","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:37.9499352Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"ae1ad201575d1fb7f5b8375803b5d647","@sp":"a779fee33a7a9165","OrderId":7,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000008","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"88e13982-4f02-4be2-8d90-fba7a595a5c1"}
{"@t":"2026-01-17T19:21:37.9528789Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"def5afc11188fc8d7c7c8a06b4836286","@sp":"fc80c4b2de41fefe","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:37.9528393Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:37.9535298Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"ae1ad201575d1fb7f5b8375803b5d647","@sp":"a779fee33a7a9165","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-D60E7A","Status":"Confirmed","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:00000008","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"88e13982-4f02-4be2-8d90-fba7a595a5c1"}
{"@t":"2026-01-17T19:21:37.9607711Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"def5afc11188fc8d7c7c8a06b4836286","@sp":"fc80c4b2de41fefe","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":7.9046,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:38.0623871Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ae1ad201575d1fb7f5b8375803b5d647","@sp":"a779fee33a7a9165","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":200,"Duration":119.0787,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000008","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:38.0869997Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"65493bd15646c05667039de5a73e4776","@sp":"d81d86a0f3ea377a","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:21:38.0869611Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000009","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:38.0952734Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"65493bd15646c05667039de5a73e4776","@sp":"d81d86a0f3ea377a","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":200,"Duration":8.2705,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:00000009","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:40.2834442Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d46867883f27940897a60abf4c3d902d","@sp":"4b27280f9174ab3c","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:21:40.2834052Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:0000000A","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:40.2904575Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"d46867883f27940897a60abf4c3d902d","@sp":"4b27280f9174ab3c","OrderId":7,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:0000000A","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"9ecc527f-deac-42b2-ad88-b3b59ece8a31"}
{"@t":"2026-01-17T19:21:40.2936035Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"d46867883f27940897a60abf4c3d902d","@sp":"4b27280f9174ab3c","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-D60E7A","Status":"Preparing","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:0000000A","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"9ecc527f-deac-42b2-ad88-b3b59ece8a31"}
{"@t":"2026-01-17T19:21:40.4017507Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d46867883f27940897a60abf4c3d902d","@sp":"4b27280f9174ab3c","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":200,"Duration":118.294,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:0000000A","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:40.4460702Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b9d41b67d4596ff44580693a963ecab9","@sp":"54200a735e5a013e","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:21:40.4459488Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:0000000B","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:40.4566372Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b9d41b67d4596ff44580693a963ecab9","@sp":"54200a735e5a013e","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":200,"Duration":10.5111,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:0000000B","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:40.9763465Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"39f56f71103c326b16aa38fa0b1b3750","@sp":"44231bf5e663b668","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:40.9762749Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:40.9826882Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"39f56f71103c326b16aa38fa0b1b3750","@sp":"44231bf5e663b668","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":6.372,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:40.9957653Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7f52102b36a04ff2c50294dec0ef2266","@sp":"f1864581fb98de5e","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-17T19:21:40.9957368Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:0000000D","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:41.0025222Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"7f52102b36a04ff2c50294dec0ef2266","@sp":"f1864581fb98de5e","OrderId":7,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:0000000D","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"2e602114-037c-4f09-bc35-bcacdbe5d7df"}
{"@t":"2026-01-17T19:21:41.0069088Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"7f52102b36a04ff2c50294dec0ef2266","@sp":"f1864581fb98de5e","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-D60E7A","Status":"Ready","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I66:0000000D","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66","CorrelationId":"2e602114-037c-4f09-bc35-bcacdbe5d7df"}
{"@t":"2026-01-17T19:21:41.0709287Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ab0579f07887b0443e16fd9cb04183b8","@sp":"196db298717776ac","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:41.0708976Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:41.0775143Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ab0579f07887b0443e16fd9cb04183b8","@sp":"196db298717776ac","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":6.5863,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:41.1167919Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7f52102b36a04ff2c50294dec0ef2266","@sp":"f1864581fb98de5e","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":200,"Duration":120.8952,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:0000000D","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:21:41.1246797Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d0155849af0f77d62d142ede6bfdeeba","@sp":"8ab4ed359f024fa6","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:41.1244116Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:41.1448739Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d0155849af0f77d62d142ede6bfdeeba","@sp":"8ab4ed359f024fa6","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":20.4324,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:43.4141191Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"965c250404b605ae0e2b87fad51c5054","@sp":"cd8c09ce20ef54e9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:43.4140751Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:43.4196680Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"965c250404b605ae0e2b87fad51c5054","@sp":"cd8c09ce20ef54e9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":5.5665,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:43.4806231Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b90bd0588a906509231c1f33eae79919","@sp":"f0383e1ffd8940df","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:43.4805687Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:43.5050416Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b90bd0588a906509231c1f33eae79919","@sp":"f0383e1ffd8940df","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":24.1857,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:43.9889682Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b25fe9961b98e954361879b5b9b8c948","@sp":"6f466d5f0950df98","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:43.9889156Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:43.9945690Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b25fe9961b98e954361879b5b9b8c948","@sp":"6f466d5f0950df98","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":5.6258,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:44.1441723Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"628a4682b6de6288a36f90180238f941","@sp":"74b605ea035268fa","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:21:44.1441127Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:44.1507005Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"628a4682b6de6288a36f90180238f941","@sp":"74b605ea035268fa","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":6.5294,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:44.6211757Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a15218600979b4cb689af1ffe8c40abd","@sp":"8d6b4a72c7f40fab","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-17T19:21:44.6211345Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000D","RequestPath":"/api/deliveries/available","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:44.6643558Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a15218600979b4cb689af1ffe8c40abd","@sp":"8d6b4a72c7f40fab","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":43.1688,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000D","RequestPath":"/api/deliveries/available","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:51.5167153Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3799b2f2c23221dc2684fd10ff903380","@sp":"54f4c4413fa69936","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:21:51.5166925Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000E","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:51.5199849Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"3799b2f2c23221dc2684fd10ff903380","@sp":"54f4c4413fa69936","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":404,"Duration":3.2767,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000E","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:52.7641316Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6558832ec1f4c1004b46cf4881545291","@sp":"0e686a9438396df7","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:21:52.7640395Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000F","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:52.7680663Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"6558832ec1f4c1004b46cf4881545291","@sp":"0e686a9438396df7","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":404,"Duration":4.0038,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000000F","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:53.1838350Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6703ad1d203e76482284f72f4c3d7789","@sp":"1d0ae601d4f24eae","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:21:53.1837906Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000010","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:53.1873952Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"6703ad1d203e76482284f72f4c3d7789","@sp":"1d0ae601d4f24eae","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":404,"Duration":3.5826,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000010","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:53.3658666Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b524f172146a70e2ffc174eefc21bb10","@sp":"c12fdefa94a01a68","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:21:53.3658245Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000011","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:53.3694607Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"b524f172146a70e2ffc174eefc21bb10","@sp":"c12fdefa94a01a68","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":404,"Duration":3.6148,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000011","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:53.6412005Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9c76cee06ed9dfcd2d8488afd2dcbaac","@sp":"8770462bb7e76837","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:21:53.6411543Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000012","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:53.6452510Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"9c76cee06ed9dfcd2d8488afd2dcbaac","@sp":"8770462bb7e76837","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":404,"Duration":4.0545,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000012","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:53.8069523Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ae0badc1b95b8cdd176bb24b13a67b0f","@sp":"1569fe27f41b375a","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:21:53.8069116Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000013","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:53.8102867Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"ae0badc1b95b8cdd176bb24b13a67b0f","@sp":"1569fe27f41b375a","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":404,"Duration":3.3048,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000013","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:53.9793186Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"09e715a648cfff9ad34b3697335a5de7","@sp":"1161badd808d3ad6","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:21:53.9792765Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000014","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:53.9847446Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"09e715a648cfff9ad34b3697335a5de7","@sp":"1161badd808d3ad6","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":404,"Duration":5.4389,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000014","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:54.1510631Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"769bb8de0e65a93f540f52d92fdd9840","@sp":"decf26811ea8e07f","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:21:54.1510283Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000015","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:21:54.1537789Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"769bb8de0e65a93f540f52d92fdd9840","@sp":"decf26811ea8e07f","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":404,"Duration":2.6593,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000015","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:05.7541088Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fa1fedb1aab3cae3d78760acf7e13eb5","@sp":"cd865a4a21eed848","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:22:05.7540073Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000016","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:05.7628919Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"fa1fedb1aab3cae3d78760acf7e13eb5","@sp":"cd865a4a21eed848","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":404,"Duration":8.8052,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000016","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:05.9497855Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"aa06625fce20db4d0f850b6f85c7f87f","@sp":"602d01055cd271d8","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:22:05.9497204Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000017","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:06.0043822Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"aa06625fce20db4d0f850b6f85c7f87f","@sp":"602d01055cd271d8","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":404,"Duration":53.2791,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000017","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:06.0620429Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d62ed3ed51ad70fd9d64edc2239e2c88","@sp":"9b694092436ac2b2","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:22:06.0614338Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000018","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:06.0810611Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"d62ed3ed51ad70fd9d64edc2239e2c88","@sp":"9b694092436ac2b2","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":404,"Duration":19.4464,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000018","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:08.9150402Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"545850f26a3e9db70116ccd7aadac34f","@sp":"486018857b3faf02","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:22:08.9150053Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000019","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:08.9213041Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"545850f26a3e9db70116ccd7aadac34f","@sp":"486018857b3faf02","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":6.2686,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000019","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:08.9344058Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"545850f26a3e9db70116ccd7aadac34f","@sp":"d19b56bac9a75fdc","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:22:08.9343753Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I67:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVLP59I67"}
{"@t":"2026-01-17T19:22:08.9378728Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"545850f26a3e9db70116ccd7aadac34f","@sp":"d19b56bac9a75fdc","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":3.4697,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I67:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVLP59I67"}
{"@t":"2026-01-17T19:22:08.9402429Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"545850f26a3e9db70116ccd7aadac34f","@sp":"d0cce5c90571a5ef","Method":"GET","Path":"/hubs/orders","Query":"?id=VlB27SS2kVn8FtmqOiVTCQ","Time":"2026-01-17T19:22:08.9402148Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I68:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVLP59I68"}
{"@t":"2026-01-17T19:22:08.9457445Z","@mt":"Client connected: {ConnectionId}","@tr":"545850f26a3e9db70116ccd7aadac34f","@sp":"d0cce5c90571a5ef","ConnectionId":"Fhp2dYMuTfPSBMG4O7AT_A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Fhp2dYMuTfPSBMG4O7AT_A","RequestId":"0HNILVLP59I68:00000001","RequestPath":"/hubs/orders","CorrelationId":"38dd18b7-e6c0-4b37-a90c-c85bea9b17d0"}
{"@t":"2026-01-17T19:22:08.9503093Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"Fhp2dYMuTfPSBMG4O7AT_A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Fhp2dYMuTfPSBMG4O7AT_A","RequestId":"0HNILVLP59I68:00000001","RequestPath":"/hubs/orders","CorrelationId":"38dd18b7-e6c0-4b37-a90c-c85bea9b17d0"}
{"@t":"2026-01-17T19:22:08.9788870Z","@mt":"Client disconnected: {ConnectionId}","@tr":"545850f26a3e9db70116ccd7aadac34f","@sp":"d0cce5c90571a5ef","ConnectionId":"Fhp2dYMuTfPSBMG4O7AT_A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Fhp2dYMuTfPSBMG4O7AT_A","RequestId":"0HNILVLP59I68:00000001","RequestPath":"/hubs/orders","CorrelationId":"38dd18b7-e6c0-4b37-a90c-c85bea9b17d0"}
{"@t":"2026-01-17T19:22:08.9927844Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"545850f26a3e9db70116ccd7aadac34f","@sp":"d0cce5c90571a5ef","Method":"GET","Path":"/hubs/orders","Query":"?id=VlB27SS2kVn8FtmqOiVTCQ","StatusCode":101,"Duration":52.4889,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I68:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVLP59I68"}
{"@t":"2026-01-17T19:22:09.0223970Z","@mt":"Client disconnected: {ConnectionId}","@tr":"952cbbdc5b07b297f19d49fef837345c","@sp":"c4dfb77cac2e18b1","ConnectionId":"5lATdxF_2ui4fAWoFzhkCw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"5lATdxF_2ui4fAWoFzhkCw","RequestId":"0HNILVLP59I62:00000001","RequestPath":"/hubs/orders","CorrelationId":"2ad3eddb-3319-4921-b584-7bca8a9db0cf"}
{"@t":"2026-01-17T19:22:09.0251574Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"952cbbdc5b07b297f19d49fef837345c","@sp":"c4dfb77cac2e18b1","Method":"GET","Path":"/hubs/orders","Query":"?id=ogGbTDq-kPey22WQgMqlWA","StatusCode":101,"Duration":107276.4566,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I62:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVLP59I62"}
{"@t":"2026-01-17T19:22:09.3080727Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d44a51a8e2f71c18f728d4cd24acafab","@sp":"d16b1c58271cfc4f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:22:09.3079097Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:09.3374430Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d44a51a8e2f71c18f728d4cd24acafab","@sp":"d16b1c58271cfc4f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":29.4793,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:09.3912406Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"84658bae596f4c5b656e73a26b8b3ba8","@sp":"a4841256a26ba6a4","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:22:09.3910368Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I69:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVLP59I69"}
{"@t":"2026-01-17T19:22:09.4098499Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"84658bae596f4c5b656e73a26b8b3ba8","@sp":"a4841256a26ba6a4","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":16.3892,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I69:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVLP59I69"}
{"@t":"2026-01-17T19:22:09.4287858Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"85ed4952be34e19bb346afb373d9198e","@sp":"c5f6c6a9ab04935f","Method":"GET","Path":"/hubs/orders","Query":"?id=ywqKt1cCzThOZAjA3T9xug","Time":"2026-01-17T19:22:09.4287374Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6A:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVLP59I6A"}
{"@t":"2026-01-17T19:22:09.4882603Z","@mt":"Client connected: {ConnectionId}","@tr":"85ed4952be34e19bb346afb373d9198e","@sp":"c5f6c6a9ab04935f","ConnectionId":"30Fz5yarXSF8dLY8qWKojA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"30Fz5yarXSF8dLY8qWKojA","RequestId":"0HNILVLP59I6A:00000001","RequestPath":"/hubs/orders","CorrelationId":"8f3bcd5c-1247-4f24-a375-bc338aff5684"}
{"@t":"2026-01-17T19:22:09.4952533Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"30Fz5yarXSF8dLY8qWKojA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"30Fz5yarXSF8dLY8qWKojA","RequestId":"0HNILVLP59I6A:00000001","RequestPath":"/hubs/orders","CorrelationId":"8f3bcd5c-1247-4f24-a375-bc338aff5684"}
{"@t":"2026-01-17T19:22:38.2308619Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bfa16400cd77245f2fddad38e9a29b23","@sp":"3d894fd93eac3057","Method":"GET","Path":"/api/admin/orders/5","Query":"","Time":"2026-01-17T19:22:38.2308097Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001B","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:38.2366869Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bfa16400cd77245f2fddad38e9a29b23","@sp":"3d894fd93eac3057","Method":"GET","Path":"/api/admin/orders/5","Query":"","StatusCode":200,"Duration":5.8505,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001B","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:44.7682361Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d6dc33cbeae8569db5dc7196f75d947b","@sp":"64944cc2841586b4","Method":"GET","Path":"/api/admin/orders/6","Query":"","Time":"2026-01-17T19:22:44.7681972Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001C","RequestPath":"/api/admin/orders/6","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:44.7743107Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d6dc33cbeae8569db5dc7196f75d947b","@sp":"64944cc2841586b4","Method":"GET","Path":"/api/admin/orders/6","Query":"","StatusCode":200,"Duration":6.0794,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001C","RequestPath":"/api/admin/orders/6","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:46.2238587Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1722e2697802e3e9623bc8249113dddb","@sp":"2013cab4992af1b1","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","Time":"2026-01-17T19:22:46.2238066Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001D","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:46.2305149Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"1722e2697802e3e9623bc8249113dddb","@sp":"2013cab4992af1b1","OrderId":6,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:0000001D","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"0dfc8f8a-8508-400f-8972-78e85f02cc34"}
{"@t":"2026-01-17T19:22:46.2336873Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"87bd8d4f08eb4ac605ee145788186c30","@sp":"a907003324164901","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:22:46.2336471Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:22:46.2339786Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"1722e2697802e3e9623bc8249113dddb","@sp":"2013cab4992af1b1","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-D3FA62","Status":"Confirmed","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:0000001D","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"0dfc8f8a-8508-400f-8972-78e85f02cc34"}
{"@t":"2026-01-17T19:22:46.2410121Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"87bd8d4f08eb4ac605ee145788186c30","@sp":"a907003324164901","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":7.3315,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I66:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I66"}
{"@t":"2026-01-17T19:22:46.3541552Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1722e2697802e3e9623bc8249113dddb","@sp":"2013cab4992af1b1","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","StatusCode":200,"Duration":130.2937,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001D","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:47.6337596Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ed472b4eac61b04d93c0bfa75320e90f","@sp":"c868e7de0431fe42","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","Time":"2026-01-17T19:22:47.6337154Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001E","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:47.6413653Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"ed472b4eac61b04d93c0bfa75320e90f","@sp":"c868e7de0431fe42","OrderId":6,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:0000001E","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"bfabbdad-0d12-45ae-ae0d-aba061a175f9"}
{"@t":"2026-01-17T19:22:47.6456655Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"ed472b4eac61b04d93c0bfa75320e90f","@sp":"c868e7de0431fe42","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-D3FA62","Status":"Preparing","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:0000001E","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"bfabbdad-0d12-45ae-ae0d-aba061a175f9"}
{"@t":"2026-01-17T19:22:47.7608629Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ed472b4eac61b04d93c0bfa75320e90f","@sp":"c868e7de0431fe42","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","StatusCode":200,"Duration":127.0983,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001E","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:48.4433082Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"618856f4b51141038b2af7eb8aa2df96","@sp":"b0775f6288620b9a","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","Time":"2026-01-17T19:22:48.4432597Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001F","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:48.4535441Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"618856f4b51141038b2af7eb8aa2df96","@sp":"b0775f6288620b9a","OrderId":6,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:0000001F","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"16b93a7e-8eee-491f-a602-2db02823f757"}
{"@t":"2026-01-17T19:22:48.4562331Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"618856f4b51141038b2af7eb8aa2df96","@sp":"b0775f6288620b9a","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-D3FA62","Status":"Ready","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I64:0000001F","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64","CorrelationId":"16b93a7e-8eee-491f-a602-2db02823f757"}
{"@t":"2026-01-17T19:22:48.5654113Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"618856f4b51141038b2af7eb8aa2df96","@sp":"b0775f6288620b9a","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","StatusCode":200,"Duration":122.0934,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000001F","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:49.2515063Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d756081072eb1f0a9da15a0adfb55387","@sp":"e371a73356d150d8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:22:49.2514647Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000020","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:49.2592486Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d756081072eb1f0a9da15a0adfb55387","@sp":"e371a73356d150d8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":7.737,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000020","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:49.3738087Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d9817b5dd7230e5f355e880a802e2a0a","@sp":"8b49b37210dc3076","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:22:49.3737624Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000021","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:49.3809764Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d9817b5dd7230e5f355e880a802e2a0a","@sp":"8b49b37210dc3076","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":7.128,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000021","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:50.7664223Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cdbda2392a7286a706989ea70247ac82","@sp":"8fc878024a07296d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:22:50.7663754Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000022","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:50.7725980Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cdbda2392a7286a706989ea70247ac82","@sp":"8fc878024a07296d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":6.1878,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000022","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:51.5845486Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"171e5fe6a0b35b32eff58180d2bc8146","@sp":"5efc5f21e25f6173","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:22:51.5845039Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000023","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:51.5908930Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"171e5fe6a0b35b32eff58180d2bc8146","@sp":"5efc5f21e25f6173","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":6.3477,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000023","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:52.2778853Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2deae9bbb3f2be672e1953b749c0a9b8","@sp":"bfed677f519d3312","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:22:52.2778402Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000024","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:22:52.2851827Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2deae9bbb3f2be672e1953b749c0a9b8","@sp":"bfed677f519d3312","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":7.3143,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000024","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:17.9349793Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1a307ab2abda9245ba67b6071742f4c5","@sp":"ab146b0ce7bc5959","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:17.9349289Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000025","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:17.9421141Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1a307ab2abda9245ba67b6071742f4c5","@sp":"ab146b0ce7bc5959","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":7.1508,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000025","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:18.8413022Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"87b1bdbfa459a4adb60eb90165e3ee3d","@sp":"e7016bdbef4d78f8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:18.8412511Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000026","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:18.8505710Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"87b1bdbfa459a4adb60eb90165e3ee3d","@sp":"e7016bdbef4d78f8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":9.2833,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000026","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:20.0940671Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d3c460acc59c8fce9bf58c78870b8814","@sp":"dfc8beb6c55dd56b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:20.0940198Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000027","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:20.1042008Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d3c460acc59c8fce9bf58c78870b8814","@sp":"dfc8beb6c55dd56b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":10.1416,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000027","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:27.1146596Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"938e1693c63d2702123b355a041de581","@sp":"8b71eadd28ca495d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:27.1146341Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000028","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:27.1226799Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"938e1693c63d2702123b355a041de581","@sp":"8b71eadd28ca495d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":8.02,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000028","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:28.6437468Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c7845867ad52e000fa5bcd1b29073fb6","@sp":"ca7114a0415a6539","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:28.6437132Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000029","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:28.6516603Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c7845867ad52e000fa5bcd1b29073fb6","@sp":"ca7114a0415a6539","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":7.9113,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:00000029","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:28.8088922Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8c6d6d4f02ab1f0ae4c6d5c545e24524","@sp":"8e2981563fb65cd3","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:28.8088524Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000002A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:28.8151847Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8c6d6d4f02ab1f0ae4c6d5c545e24524","@sp":"8e2981563fb65cd3","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":6.2886,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000002A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:28.9649579Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6693888971f4d624649e771b91c4be6c","@sp":"5ca84c06ac94d0a3","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:28.9649039Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000002B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:28.9713121Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6693888971f4d624649e771b91c4be6c","@sp":"5ca84c06ac94d0a3","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":6.3563,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000002B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:29.1982369Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"48be3856cfe4e504f537677e170f4f04","@sp":"5228fdb0ca174987","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:29.1981961Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000002C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:29.2036516Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"48be3856cfe4e504f537677e170f4f04","@sp":"5228fdb0ca174987","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":5.4265,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I64:0000002C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I64"}
{"@t":"2026-01-17T19:23:43.1653827Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"14b390ed9bfe7f199ab35e87630d86cb","@sp":"53a199314a6d9a24","Method":"GET","Path":"/api/admin/orders/1","Query":"","Time":"2026-01-17T19:23:43.1653499Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000001","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:43.1764838Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"14b390ed9bfe7f199ab35e87630d86cb","@sp":"53a199314a6d9a24","Method":"GET","Path":"/api/admin/orders/1","Query":"","StatusCode":200,"Duration":11.1011,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000001","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:45.2078943Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ab2605c52b1e0312f820f40cf37de973","@sp":"e8b382f6828fcaa9","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-17T19:23:45.2078602Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000002","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:45.2514453Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"ab2605c52b1e0312f820f40cf37de973","@sp":"e8b382f6828fcaa9","OrderId":1,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I6B:00000002","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B","CorrelationId":"47780c18-ae2e-4b5f-a36f-294d2baac2c0"}
{"@t":"2026-01-17T19:23:45.2855960Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"02fefe922cdf1d7790d0c30859ccaf36","@sp":"f6aa6781709deaa4","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:45.2855465Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6C:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6C"}
{"@t":"2026-01-17T19:23:45.2924854Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"ab2605c52b1e0312f820f40cf37de973","@sp":"e8b382f6828fcaa9","Email":"admin@restaurant.com","OrderNumber":"ORD-20260111-C451BA","Status":"Cancelled","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I6B:00000002","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B","CorrelationId":"47780c18-ae2e-4b5f-a36f-294d2baac2c0"}
{"@t":"2026-01-17T19:23:45.3170725Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"02fefe922cdf1d7790d0c30859ccaf36","@sp":"f6aa6781709deaa4","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":31.4945,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6C:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6C"}
{"@t":"2026-01-17T19:23:45.4069231Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ab2605c52b1e0312f820f40cf37de973","@sp":"e8b382f6828fcaa9","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":200,"Duration":199.0043,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000002","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:46.1256156Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bafdf228255e8063aebd8deb06054dae","@sp":"348fe811b5cf5f51","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-17T19:23:46.1255777Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000003","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:46.1347512Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bafdf228255e8063aebd8deb06054dae","@sp":"348fe811b5cf5f51","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":200,"Duration":9.1282,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000003","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:48.4263523Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cdfef52ff02ba6f6846a70e946caea51","@sp":"5b218d66de8a25ce","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:48.4263165Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:48.4383866Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cdfef52ff02ba6f6846a70e946caea51","@sp":"5b218d66de8a25ce","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":12.0426,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:48.4660126Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"be6afefe7ccb7a20723aaa16aeae3ec6","@sp":"43db12a94cbaa855","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-17T19:23:48.4659749Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000005","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:48.4736970Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"be6afefe7ccb7a20723aaa16aeae3ec6","@sp":"43db12a94cbaa855","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":200,"Duration":7.6715,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000005","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:48.6310610Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"57b17c5d791c2a40027a0afe35abfbd4","@sp":"a240c5341311bdb4","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-17T19:23:48.6310268Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000006","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:48.6381640Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"57b17c5d791c2a40027a0afe35abfbd4","@sp":"a240c5341311bdb4","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":200,"Duration":7.1005,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000006","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:48.8100743Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"22ba4dbb214f9b92850defd578b11af3","@sp":"ba8ebefe74a09533","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-17T19:23:48.8100264Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000007","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:48.8281706Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"22ba4dbb214f9b92850defd578b11af3","@sp":"ba8ebefe74a09533","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":200,"Duration":17.8457,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000007","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:48.9671596Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"71f1beda72c0460fe9390cb7a0eef791","@sp":"1473a3b2c5bf4e6a","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-17T19:23:48.9671280Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000008","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:48.9716952Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"71f1beda72c0460fe9390cb7a0eef791","@sp":"1473a3b2c5bf4e6a","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":200,"Duration":4.5381,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000008","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:49.1425178Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"583356b09bb804074099edee71bd8a1e","@sp":"f97b4358fa84744c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:49.1424455Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:49.1561813Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"583356b09bb804074099edee71bd8a1e","@sp":"f97b4358fa84744c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":13.7051,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:51.4882492Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"716d0a2cca79bacb233592d3d595b849","@sp":"871502ebec39613c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:51.4882105Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:51.5008226Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"716d0a2cca79bacb233592d3d595b849","@sp":"871502ebec39613c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":12.5684,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:51.6583855Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"497260849d564228e9bf7267b6cc1c53","@sp":"8e82a4fea28c10bb","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:51.6583371Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:51.6753689Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"497260849d564228e9bf7267b6cc1c53","@sp":"8e82a4fea28c10bb","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":17,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:51.8585706Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0d40f25d4b4c031cd345155ab8237e67","@sp":"83c77e37ebc6a83a","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:51.8585354Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:51.8785168Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0d40f25d4b4c031cd345155ab8237e67","@sp":"83c77e37ebc6a83a","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":19.9328,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:51.9842865Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e99accad98043d6709f2b306d4e0a16e","@sp":"15d129515b044ad5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:51.9842355Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:51.9983696Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e99accad98043d6709f2b306d4e0a16e","@sp":"15d129515b044ad5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":14.1044,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:54.8191283Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"080b820abb201713e6be59edbef44f0a","@sp":"14136fde8c4d871c","Method":"GET","Path":"/api/admin/orders/1","Query":"","Time":"2026-01-17T19:23:54.8190729Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000E","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:54.8687857Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"080b820abb201713e6be59edbef44f0a","@sp":"14136fde8c4d871c","Method":"GET","Path":"/api/admin/orders/1","Query":"","StatusCode":200,"Duration":49.6388,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000E","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:57.1812905Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c8728cf1f5ed92e44eb1788e3a17cb59","@sp":"3197125ece91470c","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-17T19:23:57.1812359Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000F","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:23:57.2227520Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"c8728cf1f5ed92e44eb1788e3a17cb59","@sp":"3197125ece91470c","OrderId":1,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I6B:0000000F","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B","CorrelationId":"9ed601e3-7305-45f8-8fe7-bc3ebcf2cf2c"}
{"@t":"2026-01-17T19:23:57.2264651Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"711e62eb4e79bcfa61c63f700e48edfa","@sp":"f5774816294850ce","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:23:57.2264130Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6C:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6C"}
{"@t":"2026-01-17T19:23:57.2302099Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"c8728cf1f5ed92e44eb1788e3a17cb59","@sp":"3197125ece91470c","Email":"admin@restaurant.com","OrderNumber":"ORD-20260111-C451BA","Status":"Pending","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I6B:0000000F","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B","CorrelationId":"9ed601e3-7305-45f8-8fe7-bc3ebcf2cf2c"}
{"@t":"2026-01-17T19:23:57.2549988Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"711e62eb4e79bcfa61c63f700e48edfa","@sp":"f5774816294850ce","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":28.5462,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6C:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6C"}
{"@t":"2026-01-17T19:23:57.3349078Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c8728cf1f5ed92e44eb1788e3a17cb59","@sp":"3197125ece91470c","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":200,"Duration":153.6072,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:0000000F","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:24:00.3539469Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ab4a1b99f94de24f99e9f3b4954467af","@sp":"b06f4d48f43f5d6f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:24:00.3538964Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000010","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:24:00.3735653Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ab4a1b99f94de24f99e9f3b4954467af","@sp":"b06f4d48f43f5d6f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":19.6261,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000010","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:24:03.9389225Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"caa1eafd9aaf4061c06979f9441c5e3b","@sp":"15bf1c8a21df7359","Method":"GET","Path":"/api/admin/orders/1","Query":"","Time":"2026-01-17T19:24:03.9388808Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000011","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:24:03.9503883Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"caa1eafd9aaf4061c06979f9441c5e3b","@sp":"15bf1c8a21df7359","Method":"GET","Path":"/api/admin/orders/1","Query":"","StatusCode":200,"Duration":11.4792,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000011","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:24:05.3631909Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b4a729ca1ae0a2878e0e7d8dd72cd4e4","@sp":"d4b9682b4c32f103","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-17T19:24:05.3631365Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000012","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:24:05.3765621Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"b4a729ca1ae0a2878e0e7d8dd72cd4e4","@sp":"d4b9682b4c32f103","OrderId":1,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I6B:00000012","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B","CorrelationId":"9e45f65c-e0b1-4cb7-81d9-e00af34e2d2c"}
{"@t":"2026-01-17T19:24:05.3800340Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9907e3a1f56ed6bff9d4b1c3ee9b226f","@sp":"db92970552be0b5a","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:24:05.3799975Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6C:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6C"}
{"@t":"2026-01-17T19:24:05.3833410Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"b4a729ca1ae0a2878e0e7d8dd72cd4e4","@sp":"d4b9682b4c32f103","Email":"admin@restaurant.com","OrderNumber":"ORD-20260111-C451BA","Status":"Cancelled","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"54f08710-e237-4880-86a5-841bde894786","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNILVLP59I6B:00000012","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B","CorrelationId":"9e45f65c-e0b1-4cb7-81d9-e00af34e2d2c"}
{"@t":"2026-01-17T19:24:05.3968951Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9907e3a1f56ed6bff9d4b1c3ee9b226f","@sp":"db92970552be0b5a","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":16.8597,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6C:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6C"}
{"@t":"2026-01-17T19:24:05.4950469Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b4a729ca1ae0a2878e0e7d8dd72cd4e4","@sp":"d4b9682b4c32f103","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":200,"Duration":131.769,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000012","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:24:08.5317761Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3b168290cedeb3fc453dfb5dce6b1acb","@sp":"1d73fb1097103add","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:24:08.5317285Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000013","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:24:08.5578602Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3b168290cedeb3fc453dfb5dce6b1acb","@sp":"1d73fb1097103add","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":26.0177,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6B:00000013","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVLP59I6B"}
{"@t":"2026-01-17T19:30:00.1194697Z","@mt":"Client disconnected: {ConnectionId}","@tr":"85ed4952be34e19bb346afb373d9198e","@sp":"c5f6c6a9ab04935f","ConnectionId":"30Fz5yarXSF8dLY8qWKojA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"30Fz5yarXSF8dLY8qWKojA","RequestId":"0HNILVLP59I6A:00000001","RequestPath":"/hubs/orders","CorrelationId":"8f3bcd5c-1247-4f24-a375-bc338aff5684"}
{"@t":"2026-01-17T19:30:00.1223976Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"85ed4952be34e19bb346afb373d9198e","@sp":"c5f6c6a9ab04935f","Method":"GET","Path":"/hubs/orders","Query":"?id=ywqKt1cCzThOZAjA3T9xug","StatusCode":101,"Duration":470693.6008,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVLP59I6A:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVLP59I6A"}
{"@t":"2026-01-17T19:30:38.8689236Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T19:30:38.9914888Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T19:30:39.0307466Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-17T19:30:40.0826781Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-17T19:30:43.0294749Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:30:43.0415957Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:30:43.0541493Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:30:45.3937272Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:30:45.4564805Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:30:45.4605615Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-17T19:30:46.0789363Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.API\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.API\\Program.cs:line 355","SourceContext":"Program"}
{"@t":"2026-01-17T19:30:46.3258286Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-17T19:30:48.6645791Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d969110cb215f30f05e00fa4dd67a4a4","@sp":"83601b07165dd0dd","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:30:48.6616688Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:48.6844055Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"d969110cb215f30f05e00fa4dd67a4a4","@sp":"83601b07165dd0dd","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNILVRLF8633:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633","CorrelationId":"6035d153-cc46-4419-af5f-cd74b9f66fb6"}
{"@t":"2026-01-17T19:30:51.2945247Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d969110cb215f30f05e00fa4dd67a4a4","@sp":"83601b07165dd0dd","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":2632.4265,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:51.5203822Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d969110cb215f30f05e00fa4dd67a4a4","@sp":"f5c925e98ff06fbd","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:30:51.5202365Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8634:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF8634"}
{"@t":"2026-01-17T19:30:51.5343939Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d969110cb215f30f05e00fa4dd67a4a4","@sp":"f5c925e98ff06fbd","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":13.9907,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8634:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF8634"}
{"@t":"2026-01-17T19:30:51.5579044Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d969110cb215f30f05e00fa4dd67a4a4","@sp":"586272ab94e2d516","Method":"GET","Path":"/hubs/orders","Query":"?id=83ROVsV5O5c4MrnTm8Jl0Q","Time":"2026-01-17T19:30:51.5578201Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8635:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF8635"}
{"@t":"2026-01-17T19:30:51.6196415Z","@mt":"Client connected: {ConnectionId}","@tr":"d969110cb215f30f05e00fa4dd67a4a4","@sp":"586272ab94e2d516","ConnectionId":"6lTu13qUVxqFXAWGmmhwBg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"6lTu13qUVxqFXAWGmmhwBg","RequestId":"0HNILVRLF8635:00000001","RequestPath":"/hubs/orders","CorrelationId":"9ab064cd-ae6a-46ce-bb9b-83f873cd70c6"}
{"@t":"2026-01-17T19:30:51.6556113Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"6lTu13qUVxqFXAWGmmhwBg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"6lTu13qUVxqFXAWGmmhwBg","RequestId":"0HNILVRLF8635:00000001","RequestPath":"/hubs/orders","CorrelationId":"9ab064cd-ae6a-46ce-bb9b-83f873cd70c6"}
{"@t":"2026-01-17T19:30:51.7798704Z","@mt":"Client disconnected: {ConnectionId}","@tr":"d969110cb215f30f05e00fa4dd67a4a4","@sp":"586272ab94e2d516","ConnectionId":"6lTu13qUVxqFXAWGmmhwBg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"6lTu13qUVxqFXAWGmmhwBg","RequestId":"0HNILVRLF8635:00000001","RequestPath":"/hubs/orders","CorrelationId":"9ab064cd-ae6a-46ce-bb9b-83f873cd70c6"}
{"@t":"2026-01-17T19:30:51.9287026Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d969110cb215f30f05e00fa4dd67a4a4","@sp":"586272ab94e2d516","Method":"GET","Path":"/hubs/orders","Query":"?id=83ROVsV5O5c4MrnTm8Jl0Q","StatusCode":101,"Duration":370.2974,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8635:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF8635"}
{"@t":"2026-01-17T19:30:52.2781836Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fb79d4938fbdab81347a9d2385a8edde","@sp":"78ae9273c2a312a9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:30:52.2781190Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:52.5708824Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fb79d4938fbdab81347a9d2385a8edde","@sp":"78ae9273c2a312a9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":292.6465,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:52.5907563Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5377cc4608b559918d35806acf2fc96c","@sp":"070f507132ae71f2","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:30:52.5906706Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8636:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF8636"}
{"@t":"2026-01-17T19:30:52.5972935Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5377cc4608b559918d35806acf2fc96c","@sp":"070f507132ae71f2","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":6.4714,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8636:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF8636"}
{"@t":"2026-01-17T19:30:52.6024005Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8661be7cd78a4f450ff218ba6b3a2e18","@sp":"8ee6e7f6618321ec","Method":"GET","Path":"/hubs/orders","Query":"?id=7mlY-GWf43EaJ9Fy9ZyPFQ","Time":"2026-01-17T19:30:52.6022983Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8637:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF8637"}
{"@t":"2026-01-17T19:30:52.6224804Z","@mt":"Client connected: {ConnectionId}","@tr":"8661be7cd78a4f450ff218ba6b3a2e18","@sp":"8ee6e7f6618321ec","ConnectionId":"-j4n8kz22XKzrmMof7735g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"-j4n8kz22XKzrmMof7735g","RequestId":"0HNILVRLF8637:00000001","RequestPath":"/hubs/orders","CorrelationId":"fb344b0c-3fce-447c-b646-565564e73050"}
{"@t":"2026-01-17T19:30:52.6349657Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"-j4n8kz22XKzrmMof7735g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"-j4n8kz22XKzrmMof7735g","RequestId":"0HNILVRLF8637:00000001","RequestPath":"/hubs/orders","CorrelationId":"fb344b0c-3fce-447c-b646-565564e73050"}
{"@t":"2026-01-17T19:30:55.2974289Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"eaa166299e96f20cad203097f2166320","@sp":"a66f723d5b7a4aba","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-17T19:30:55.2973796Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000003","RequestPath":"/api/deliveries/available","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:55.3803050Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"eaa166299e96f20cad203097f2166320","@sp":"a66f723d5b7a4aba","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":82.8302,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000003","RequestPath":"/api/deliveries/available","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:57.4653437Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c06f1c86302e277ae64257a9f770bd3d","@sp":"1d2d81b9b0effab7","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:30:57.4652753Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000004","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:57.5573241Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"c06f1c86302e277ae64257a9f770bd3d","@sp":"1d2d81b9b0effab7","DeliveryId":2,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8633:00000004","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633","CorrelationId":"32dfd4e0-0ad9-4350-9dcf-0d6ecfb5648b"}
{"@t":"2026-01-17T19:30:57.5660159Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c06f1c86302e277ae64257a9f770bd3d","@sp":"1d2d81b9b0effab7","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":100.6473,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000004","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:58.4734062Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"212217d8954c12749b3f92096a76b59b","@sp":"3d24d497590880dd","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:30:58.4733556Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000005","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:58.4810252Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"212217d8954c12749b3f92096a76b59b","@sp":"3d24d497590880dd","DeliveryId":2,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8633:00000005","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633","CorrelationId":"e7b3f4b5-06b3-4250-bf29-98bb5269c1c2"}
{"@t":"2026-01-17T19:30:58.4842964Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"212217d8954c12749b3f92096a76b59b","@sp":"3d24d497590880dd","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":10.8712,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000005","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:58.6542119Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f59e35cf4a638a27426a9082915694dd","@sp":"423fa399774fc6c5","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:30:58.6540997Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000006","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:58.6603162Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"f59e35cf4a638a27426a9082915694dd","@sp":"423fa399774fc6c5","DeliveryId":2,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8633:00000006","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633","CorrelationId":"ac39077c-4cb8-4a89-ba0d-885cb1f19084"}
{"@t":"2026-01-17T19:30:58.6637574Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f59e35cf4a638a27426a9082915694dd","@sp":"423fa399774fc6c5","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":9.5919,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000006","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:58.8031474Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cee699a53949d2af3b2eec0651486215","@sp":"fc634a8341288e51","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:30:58.8030734Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000007","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:58.8098080Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"cee699a53949d2af3b2eec0651486215","@sp":"fc634a8341288e51","DeliveryId":2,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8633:00000007","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633","CorrelationId":"29a27e2e-6c2c-4a36-b0cf-a3d23a0fc938"}
{"@t":"2026-01-17T19:30:58.8137684Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cee699a53949d2af3b2eec0651486215","@sp":"fc634a8341288e51","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":10.6204,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000007","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:58.9618065Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e74c1e542a4a29488b04d377166ce393","@sp":"5550a303dd956cf2","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:30:58.9616790Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000008","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:30:58.9675802Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"e74c1e542a4a29488b04d377166ce393","@sp":"5550a303dd956cf2","DeliveryId":2,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8633:00000008","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633","CorrelationId":"9967d8fd-1164-4c3d-a374-e3319ad13020"}
{"@t":"2026-01-17T19:30:58.9718690Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e74c1e542a4a29488b04d377166ce393","@sp":"5550a303dd956cf2","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":9.4865,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000008","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:31:00.5860420Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0c3c4845308cd9ce174dd221d99d3a22","@sp":"6d8873d4d4d53c92","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:00.5859804Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:31:00.6307694Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0c3c4845308cd9ce174dd221d99d3a22","@sp":"6d8873d4d4d53c92","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":44.7312,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:31:01.5197724Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"494cc92818a13f9fbb1378ccc996882e","@sp":"9511b40ea2de43de","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:01.5196889Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:31:01.6019219Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"494cc92818a13f9fbb1378ccc996882e","@sp":"9511b40ea2de43de","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":81.8987,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:31:01.6905876Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9ed07d0dce2bf090a30f7d9ceec48469","@sp":"6311e571a52f82c0","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:01.6904434Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:31:01.7187140Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9ed07d0dce2bf090a30f7d9ceec48469","@sp":"6311e571a52f82c0","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":28.12,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:31:01.8361811Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"91461e72aa04d6a622d6cafb2de1500a","@sp":"53b954ce6e097832","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:01.8357874Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:31:01.8589928Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"91461e72aa04d6a622d6cafb2de1500a","@sp":"53b954ce6e097832","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":22.9673,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:31:01.9491517Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0fdd9993eb5014faaa8dad462ee130f7","@sp":"550cf31bfab94ede","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-17T19:31:01.9490485Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:0000000D","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:31:01.9891240Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"0fdd9993eb5014faaa8dad462ee130f7","@sp":"550cf31bfab94ede","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":401,"Duration":39.9842,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8633:0000000D","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8633"}
{"@t":"2026-01-17T19:31:01.9909753Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ffc82774a8f9bc8d1f4081cb65c2c854","@sp":"15c843b4c5ea650f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:01.9909112Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:02.0102224Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ffc82774a8f9bc8d1f4081cb65c2c854","@sp":"15c843b4c5ea650f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":19.2546,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:02.0412388Z","@mt":"Client disconnected: {ConnectionId}","@tr":"8661be7cd78a4f450ff218ba6b3a2e18","@sp":"8ee6e7f6618321ec","ConnectionId":"-j4n8kz22XKzrmMof7735g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"-j4n8kz22XKzrmMof7735g","RequestId":"0HNILVRLF8637:00000001","RequestPath":"/hubs/orders","CorrelationId":"fb344b0c-3fce-447c-b646-565564e73050"}
{"@t":"2026-01-17T19:31:02.0450870Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8661be7cd78a4f450ff218ba6b3a2e18","@sp":"8ee6e7f6618321ec","Method":"GET","Path":"/hubs/orders","Query":"?id=7mlY-GWf43EaJ9Fy9ZyPFQ","StatusCode":101,"Duration":9442.562,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8637:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF8637"}
{"@t":"2026-01-17T19:31:02.0559208Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"89739e13ee2a0458ae81a035f084687d","@sp":"69fdb979a34f52c8","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-17T19:31:02.0558318Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000002","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:02.1833439Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"89739e13ee2a0458ae81a035f084687d","@sp":"69fdb979a34f52c8","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":200,"Duration":127.3435,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000002","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:06.2622359Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"95b8bb9f5589d44b371ccd4258cbebed","@sp":"d30e4f48561acde7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:06.2621883Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:06.3002995Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"95b8bb9f5589d44b371ccd4258cbebed","@sp":"d30e4f48561acde7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":38.0422,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:06.3335849Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"95b8bb9f5589d44b371ccd4258cbebed","@sp":"f69c0da317ee58c6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:31:06.3333151Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8639:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF8639"}
{"@t":"2026-01-17T19:31:06.3443086Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"95b8bb9f5589d44b371ccd4258cbebed","@sp":"f69c0da317ee58c6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":10.9216,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8639:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF8639"}
{"@t":"2026-01-17T19:31:06.3489076Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"95b8bb9f5589d44b371ccd4258cbebed","@sp":"e7f406309ca93dee","Method":"GET","Path":"/hubs/orders","Query":"?id=6gmlZFqHj4pwFOJI5Vb42g","Time":"2026-01-17T19:31:06.3488557Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863A:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863A"}
{"@t":"2026-01-17T19:31:06.3538421Z","@mt":"Client connected: {ConnectionId}","@tr":"95b8bb9f5589d44b371ccd4258cbebed","@sp":"e7f406309ca93dee","ConnectionId":"uvuzWwxyf9w8VizIJUx75A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"uvuzWwxyf9w8VizIJUx75A","RequestId":"0HNILVRLF863A:00000001","RequestPath":"/hubs/orders","CorrelationId":"98b0e6d6-6493-41ff-a4b4-875e8bcc6325"}
{"@t":"2026-01-17T19:31:06.3600541Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"uvuzWwxyf9w8VizIJUx75A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"uvuzWwxyf9w8VizIJUx75A","RequestId":"0HNILVRLF863A:00000001","RequestPath":"/hubs/orders","CorrelationId":"98b0e6d6-6493-41ff-a4b4-875e8bcc6325"}
{"@t":"2026-01-17T19:31:06.3883238Z","@mt":"Client disconnected: {ConnectionId}","@tr":"95b8bb9f5589d44b371ccd4258cbebed","@sp":"e7f406309ca93dee","ConnectionId":"uvuzWwxyf9w8VizIJUx75A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"uvuzWwxyf9w8VizIJUx75A","RequestId":"0HNILVRLF863A:00000001","RequestPath":"/hubs/orders","CorrelationId":"98b0e6d6-6493-41ff-a4b4-875e8bcc6325"}
{"@t":"2026-01-17T19:31:06.4152315Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"95b8bb9f5589d44b371ccd4258cbebed","@sp":"e7f406309ca93dee","Method":"GET","Path":"/hubs/orders","Query":"?id=6gmlZFqHj4pwFOJI5Vb42g","StatusCode":101,"Duration":66.2332,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863A:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863A"}
{"@t":"2026-01-17T19:31:06.4662309Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1868903b05e33c588a070103262ab5de","@sp":"f518e9b446c0e55c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:06.4660877Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:06.4787494Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1868903b05e33c588a070103262ab5de","@sp":"f518e9b446c0e55c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":12.5572,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:06.4912751Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f434a08896a339bbfae72800f03e56e5","@sp":"b01cef8b8aa73861","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:31:06.4912029Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863B:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF863B"}
{"@t":"2026-01-17T19:31:06.5018481Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f434a08896a339bbfae72800f03e56e5","@sp":"b01cef8b8aa73861","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":10.3653,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863B:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF863B"}
{"@t":"2026-01-17T19:31:06.5310351Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d0ac66e218eb717a85b48ac5368d47a8","@sp":"19281407f6bbc040","Method":"GET","Path":"/hubs/orders","Query":"?id=JfCly0AFaD6cSR_Q0tFocw","Time":"2026-01-17T19:31:06.5306451Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863C:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863C"}
{"@t":"2026-01-17T19:31:06.5517354Z","@mt":"Client connected: {ConnectionId}","@tr":"d0ac66e218eb717a85b48ac5368d47a8","@sp":"19281407f6bbc040","ConnectionId":"2O-mR23_Lq0pyqPN5qwC5w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"2O-mR23_Lq0pyqPN5qwC5w","RequestId":"0HNILVRLF863C:00000001","RequestPath":"/hubs/orders","CorrelationId":"508f1e8c-d26f-4752-b63d-2b3680cdd634"}
{"@t":"2026-01-17T19:31:06.5657413Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"2O-mR23_Lq0pyqPN5qwC5w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"2O-mR23_Lq0pyqPN5qwC5w","RequestId":"0HNILVRLF863C:00000001","RequestPath":"/hubs/orders","CorrelationId":"508f1e8c-d26f-4752-b63d-2b3680cdd634"}
{"@t":"2026-01-17T19:31:09.9475154Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1c1ae35c90037b925e72963c12764a9a","@sp":"c335eeb95d257b6f","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-17T19:31:09.9474808Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000005","RequestPath":"/api/deliveries/available","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:09.9543409Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1c1ae35c90037b925e72963c12764a9a","@sp":"c335eeb95d257b6f","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":6.8314,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000005","RequestPath":"/api/deliveries/available","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:14.0537495Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"145ce0aa482d92ab6a9e1c7d28ddc5c2","@sp":"4e86fcb15805373f","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-17T19:31:14.0536983Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000006","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:14.0602517Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"145ce0aa482d92ab6a9e1c7d28ddc5c2","@sp":"4e86fcb15805373f","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":401,"Duration":6.4691,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000006","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:14.1184562Z","@mt":"Client disconnected: {ConnectionId}","@tr":"d0ac66e218eb717a85b48ac5368d47a8","@sp":"19281407f6bbc040","ConnectionId":"2O-mR23_Lq0pyqPN5qwC5w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"2O-mR23_Lq0pyqPN5qwC5w","RequestId":"0HNILVRLF863C:00000001","RequestPath":"/hubs/orders","CorrelationId":"508f1e8c-d26f-4752-b63d-2b3680cdd634"}
{"@t":"2026-01-17T19:31:14.1235633Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d0ac66e218eb717a85b48ac5368d47a8","@sp":"19281407f6bbc040","Method":"GET","Path":"/hubs/orders","Query":"?id=JfCly0AFaD6cSR_Q0tFocw","StatusCode":101,"Duration":7592.7642,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863C:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863C"}
{"@t":"2026-01-17T19:31:14.1332240Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4667997b03ed929ab00b83c60f5b1efe","@sp":"50f17577af1b6386","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-17T19:31:14.1329826Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000007","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:14.1696756Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4667997b03ed929ab00b83c60f5b1efe","@sp":"50f17577af1b6386","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":200,"Duration":36.6148,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000007","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:41.1410329Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dfa6062d86c1680321a89c19be5f4560","@sp":"96ee5b9d8eaffeaa","Method":"POST","Path":"/api/deliveries","Query":"","Time":"2026-01-17T19:31:41.1409884Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000008","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:41.5095514Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dfa6062d86c1680321a89c19be5f4560","@sp":"96ee5b9d8eaffeaa","Method":"POST","Path":"/api/deliveries","Query":"","StatusCode":201,"Duration":368.507,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000008","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:41.5182857Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c83c5b5853cc33d3b40a7eb0a91c0554","@sp":"366f0218338a0bbb","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-17T19:31:41.5182275Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000009","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:41.5286193Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c83c5b5853cc33d3b40a7eb0a91c0554","@sp":"366f0218338a0bbb","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":200,"Duration":10.3426,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000009","RequestPath":"/api/deliveries","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:44.6075824Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"89ff821d90eef8f72b6a41166358f3a8","@sp":"c0b8306691419240","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:44.6075341Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:44.6209338Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"89ff821d90eef8f72b6a41166358f3a8","@sp":"c0b8306691419240","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":13.2874,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:44.6576037Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"89ff821d90eef8f72b6a41166358f3a8","@sp":"01f2e89071adac4e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:31:44.6574748Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863D:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF863D"}
{"@t":"2026-01-17T19:31:44.7189034Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"89ff821d90eef8f72b6a41166358f3a8","@sp":"01f2e89071adac4e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":61.3109,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863D:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF863D"}
{"@t":"2026-01-17T19:31:44.7546524Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"89ff821d90eef8f72b6a41166358f3a8","@sp":"3bf1529a350032c1","Method":"GET","Path":"/hubs/orders","Query":"?id=pdSmWXLpq3jkxbqe9AaKew","Time":"2026-01-17T19:31:44.7544470Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863E:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863E"}
{"@t":"2026-01-17T19:31:44.7708005Z","@mt":"Client connected: {ConnectionId}","@tr":"89ff821d90eef8f72b6a41166358f3a8","@sp":"3bf1529a350032c1","ConnectionId":"oI0RGWhGRCt2lcTyFMhuOg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"oI0RGWhGRCt2lcTyFMhuOg","RequestId":"0HNILVRLF863E:00000001","RequestPath":"/hubs/orders","CorrelationId":"99bbdaf3-7f77-4f57-922b-d20714dfae27"}
{"@t":"2026-01-17T19:31:44.7823019Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"oI0RGWhGRCt2lcTyFMhuOg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"oI0RGWhGRCt2lcTyFMhuOg","RequestId":"0HNILVRLF863E:00000001","RequestPath":"/hubs/orders","CorrelationId":"99bbdaf3-7f77-4f57-922b-d20714dfae27"}
{"@t":"2026-01-17T19:31:44.8152972Z","@mt":"Client disconnected: {ConnectionId}","@tr":"89ff821d90eef8f72b6a41166358f3a8","@sp":"3bf1529a350032c1","ConnectionId":"oI0RGWhGRCt2lcTyFMhuOg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"oI0RGWhGRCt2lcTyFMhuOg","RequestId":"0HNILVRLF863E:00000001","RequestPath":"/hubs/orders","CorrelationId":"99bbdaf3-7f77-4f57-922b-d20714dfae27"}
{"@t":"2026-01-17T19:31:44.8188118Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"89ff821d90eef8f72b6a41166358f3a8","@sp":"3bf1529a350032c1","Method":"GET","Path":"/hubs/orders","Query":"?id=pdSmWXLpq3jkxbqe9AaKew","StatusCode":101,"Duration":64.2853,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863E:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863E"}
{"@t":"2026-01-17T19:31:44.8534650Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e80f4573fbb4304610f27a215049ba15","@sp":"51cc2b980b067fe9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:44.8534041Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:44.8755346Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e80f4573fbb4304610f27a215049ba15","@sp":"51cc2b980b067fe9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":22.0494,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:44.9377189Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"01f443ed122040175a5c4e9f2f33af6c","@sp":"e50870d50169cef0","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T19:31:44.9369735Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863F:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF863F"}
{"@t":"2026-01-17T19:31:45.1203368Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"01f443ed122040175a5c4e9f2f33af6c","@sp":"e50870d50169cef0","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":183.2589,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863F:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF863F"}
{"@t":"2026-01-17T19:31:45.1345855Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"02f952c3074db2fd1c67b4e86e604bba","@sp":"d9ccd5fca0801757","Method":"GET","Path":"/hubs/orders","Query":"?id=iXIeAxG5sL67KJ51P43xpQ","Time":"2026-01-17T19:31:45.1344759Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863G:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863G"}
{"@t":"2026-01-17T19:31:45.1466795Z","@mt":"Client connected: {ConnectionId}","@tr":"02f952c3074db2fd1c67b4e86e604bba","@sp":"d9ccd5fca0801757","ConnectionId":"ScF2GuT-cPMnVYknZv-x9w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ScF2GuT-cPMnVYknZv-x9w","RequestId":"0HNILVRLF863G:00000001","RequestPath":"/hubs/orders","CorrelationId":"dba8f667-71f3-44c0-9d70-5e6a00ffad73"}
{"@t":"2026-01-17T19:31:45.1552453Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"ScF2GuT-cPMnVYknZv-x9w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ScF2GuT-cPMnVYknZv-x9w","RequestId":"0HNILVRLF863G:00000001","RequestPath":"/hubs/orders","CorrelationId":"dba8f667-71f3-44c0-9d70-5e6a00ffad73"}
{"@t":"2026-01-17T19:31:46.0628801Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"29ae59192980705c66e54126d47f5315","@sp":"60d12b7e65455fe0","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-17T19:31:46.0627622Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000C","RequestPath":"/api/deliveries/available","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:46.0731718Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"29ae59192980705c66e54126d47f5315","@sp":"60d12b7e65455fe0","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":10.3111,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000C","RequestPath":"/api/deliveries/available","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:50.0727507Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a13a7cb501e0ee25d273041bfcbe931d","@sp":"c0be6322aecd1cca","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:31:50.0727000Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000D","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:50.0768982Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"a13a7cb501e0ee25d273041bfcbe931d","@sp":"c0be6322aecd1cca","DeliveryId":3,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8638:0000000D","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638","CorrelationId":"7824f57d-f187-4b02-8cb2-f45ecb81bcc1"}
{"@t":"2026-01-17T19:31:50.0798665Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a13a7cb501e0ee25d273041bfcbe931d","@sp":"c0be6322aecd1cca","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":7.021,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000D","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:50.4772518Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a4ee92c0ceed8ed7d484817e936c6ea0","@sp":"93220b7fcc352974","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:31:50.4770914Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000E","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:50.4829395Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"a4ee92c0ceed8ed7d484817e936c6ea0","@sp":"93220b7fcc352974","DeliveryId":3,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8638:0000000E","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638","CorrelationId":"b0c6e1d3-f89d-44ee-a24f-b6a8eba30ef0"}
{"@t":"2026-01-17T19:31:50.4870768Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a4ee92c0ceed8ed7d484817e936c6ea0","@sp":"93220b7fcc352974","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":9.9324,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000E","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:50.6348157Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0d4675a4cdde6a1579dbe190bc96b4c8","@sp":"15202597816358cb","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:31:50.6347166Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000F","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:50.6396393Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"0d4675a4cdde6a1579dbe190bc96b4c8","@sp":"15202597816358cb","DeliveryId":3,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8638:0000000F","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638","CorrelationId":"5761efe3-f6c5-44e6-b2d4-f824445b2bdc"}
{"@t":"2026-01-17T19:31:50.6423732Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0d4675a4cdde6a1579dbe190bc96b4c8","@sp":"15202597816358cb","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":7.6062,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000000F","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:50.7848082Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d251c1da8dddf606ffc623e09f8d641b","@sp":"a17d76a5c7b69ef6","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:31:50.7847277Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000010","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:50.7894809Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"d251c1da8dddf606ffc623e09f8d641b","@sp":"a17d76a5c7b69ef6","DeliveryId":3,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8638:00000010","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638","CorrelationId":"0b1fd340-a06c-4b47-a9c1-e79378e75ce5"}
{"@t":"2026-01-17T19:31:50.7922792Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d251c1da8dddf606ffc623e09f8d641b","@sp":"a17d76a5c7b69ef6","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":7.5047,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000010","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:50.9346286Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e38964ebba1213fe6c71eebac4f4bcc8","@sp":"d7e776c635f77851","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:31:50.9345474Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000011","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:50.9391291Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"e38964ebba1213fe6c71eebac4f4bcc8","@sp":"d7e776c635f77851","DeliveryId":3,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8638:00000011","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638","CorrelationId":"1460e36f-62fc-4f1d-be78-e7805d458f6b"}
{"@t":"2026-01-17T19:31:50.9420963Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e38964ebba1213fe6c71eebac4f4bcc8","@sp":"d7e776c635f77851","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":7.511,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000011","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:51.1012778Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8eeeb5e7d9ae3f1142c53e44395de684","@sp":"3f8aa7de07912b8f","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:31:51.1012344Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000012","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:51.1060628Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"8eeeb5e7d9ae3f1142c53e44395de684","@sp":"3f8aa7de07912b8f","DeliveryId":3,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8638:00000012","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638","CorrelationId":"b6c967fc-e8c4-4472-a27e-82bc54f2913a"}
{"@t":"2026-01-17T19:31:51.1090188Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8eeeb5e7d9ae3f1142c53e44395de684","@sp":"3f8aa7de07912b8f","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":7.7296,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000012","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:51.2501988Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2d787739adf3d0ceceed95ac1e529595","@sp":"f18d815e4be25ecb","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-17T19:31:51.2501573Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000013","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:51.2548642Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"2d787739adf3d0ceceed95ac1e529595","@sp":"f18d815e4be25ecb","DeliveryId":3,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"85488e8b-7985-4d84-ae26-9fd4d5757aba","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNILVRLF8638:00000013","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638","CorrelationId":"da6bf096-9b9b-4a23-bfa1-393927d8bb77"}
{"@t":"2026-01-17T19:31:51.2570976Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2d787739adf3d0ceceed95ac1e529595","@sp":"f18d815e4be25ecb","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":6.8847,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000013","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:53.0897156Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ab37d000973c75bd06ce0df2e58c9933","@sp":"df4a3da0a0f74206","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:53.0896668Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000014","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:53.0992197Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ab37d000973c75bd06ce0df2e58c9933","@sp":"df4a3da0a0f74206","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":9.497,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000014","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:53.5086012Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5a3071ac0961335c746916abcbe617de","@sp":"8731940b286b71e1","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:53.5085562Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000015","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:53.5185660Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5a3071ac0961335c746916abcbe617de","@sp":"8731940b286b71e1","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":9.9619,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000015","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:53.6620405Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9b11bf014de7242c92a22308b2e5d672","@sp":"a1b1ece0b4d6a15d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:53.6619917Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000016","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:53.6707158Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9b11bf014de7242c92a22308b2e5d672","@sp":"a1b1ece0b4d6a15d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":8.692,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000016","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:53.8150764Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fc04d38793033e7c1827ef268e356a2d","@sp":"f2094773b2011c1b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:53.8150277Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000017","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:53.8236056Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fc04d38793033e7c1827ef268e356a2d","@sp":"f2094773b2011c1b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":8.5432,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000017","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:53.9552339Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f72f3b6a40257fe1f7848159c27be778","@sp":"39c22a691f501f8f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:53.9550592Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000018","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:53.9657468Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f72f3b6a40257fe1f7848159c27be778","@sp":"39c22a691f501f8f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":10.6372,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000018","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:54.1261660Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f7d903cbb3eb1f4781ef2328be57b977","@sp":"d99d8c7af3817130","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:54.1261041Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000019","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:54.1332992Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f7d903cbb3eb1f4781ef2328be57b977","@sp":"d99d8c7af3817130","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":7.1588,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:00000019","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:54.2653934Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9c8b172720dc44e075b3630efff78636","@sp":"62db3da8c0453b38","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:31:54.2653371Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000001A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:31:54.2737675Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9c8b172720dc44e075b3630efff78636","@sp":"62db3da8c0453b38","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":8.3953,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8638:0000001A","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8638"}
{"@t":"2026-01-17T19:59:49.0091267Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"54d1a966d816b4ddad484271171bfb15","@sp":"ec6c6ed8f08dfc49","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:59:48.9921886Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T19:59:49.1728148Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"54d1a966d816b4ddad484271171bfb15","@sp":"ec6c6ed8f08dfc49","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":180.5727,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T19:59:49.1926616Z","@mt":"Client disconnected: {ConnectionId}","@tr":"02f952c3074db2fd1c67b4e86e604bba","@sp":"d9ccd5fca0801757","ConnectionId":"ScF2GuT-cPMnVYknZv-x9w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ScF2GuT-cPMnVYknZv-x9w","RequestId":"0HNILVRLF863G:00000001","RequestPath":"/hubs/orders","CorrelationId":"dba8f667-71f3-44c0-9d70-5e6a00ffad73"}
{"@t":"2026-01-17T19:59:49.1959270Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"02f952c3074db2fd1c67b4e86e604bba","@sp":"d9ccd5fca0801757","Method":"GET","Path":"/hubs/orders","Query":"?id=iXIeAxG5sL67KJ51P43xpQ","StatusCode":101,"Duration":1684061.4108,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863G:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863G"}
{"@t":"2026-01-17T19:59:49.2022860Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"06ce493ed05cfbba1b8be28a07d573d7","@sp":"2d5cd7f5efe2b53f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T19:59:49.2022441Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863I:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863I"}
{"@t":"2026-01-17T19:59:49.2096062Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"06ce493ed05cfbba1b8be28a07d573d7","@sp":"2d5cd7f5efe2b53f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":7.3332,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863I:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863I"}
{"@t":"2026-01-17T20:00:23.7716200Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e84b80b1ea1264aeb9c69cdad890baf3","@sp":"a442e5e4311f5b1f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T20:00:23.7715569Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:00:23.7832004Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e84b80b1ea1264aeb9c69cdad890baf3","@sp":"a442e5e4311f5b1f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":11.587,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:00:24.0713278Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9857eb2187825b52be3384dd017a8ec2","@sp":"d294a2e59f0facf4","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T20:00:24.0712820Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:00:24.0832384Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9857eb2187825b52be3384dd017a8ec2","@sp":"d294a2e59f0facf4","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":11.8747,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:09.5620017Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b90d8ca7f46b1aee534b3bed8712e512","@sp":"71ef84865b2a4495","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T20:01:09.5619395Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:09.5723770Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b90d8ca7f46b1aee534b3bed8712e512","@sp":"71ef84865b2a4495","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":10.3851,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:09.6053567Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b90d8ca7f46b1aee534b3bed8712e512","@sp":"b934d64909c9846a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T20:01:09.6053114Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863J:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF863J"}
{"@t":"2026-01-17T20:01:09.6089259Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b90d8ca7f46b1aee534b3bed8712e512","@sp":"b934d64909c9846a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":3.5633,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863J:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF863J"}
{"@t":"2026-01-17T20:01:09.6121516Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b90d8ca7f46b1aee534b3bed8712e512","@sp":"b3da21ef808aac7e","Method":"GET","Path":"/hubs/orders","Query":"?id=U6ij0TtwiByqQwbaCYrhQg","Time":"2026-01-17T20:01:09.6121032Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863K:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863K"}
{"@t":"2026-01-17T20:01:09.6182888Z","@mt":"Client connected: {ConnectionId}","@tr":"b90d8ca7f46b1aee534b3bed8712e512","@sp":"b3da21ef808aac7e","ConnectionId":"KCcftNirjB5GkidR9YsQRQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KCcftNirjB5GkidR9YsQRQ","RequestId":"0HNILVRLF863K:00000001","RequestPath":"/hubs/orders","CorrelationId":"9c4ff21e-2007-416f-bf4b-55a7c9ac4dd6"}
{"@t":"2026-01-17T20:01:09.6235691Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"KCcftNirjB5GkidR9YsQRQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KCcftNirjB5GkidR9YsQRQ","RequestId":"0HNILVRLF863K:00000001","RequestPath":"/hubs/orders","CorrelationId":"9c4ff21e-2007-416f-bf4b-55a7c9ac4dd6"}
{"@t":"2026-01-17T20:01:09.6283688Z","@mt":"Client disconnected: {ConnectionId}","@tr":"b90d8ca7f46b1aee534b3bed8712e512","@sp":"b3da21ef808aac7e","ConnectionId":"KCcftNirjB5GkidR9YsQRQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KCcftNirjB5GkidR9YsQRQ","RequestId":"0HNILVRLF863K:00000001","RequestPath":"/hubs/orders","CorrelationId":"9c4ff21e-2007-416f-bf4b-55a7c9ac4dd6"}
{"@t":"2026-01-17T20:01:09.6310236Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b90d8ca7f46b1aee534b3bed8712e512","@sp":"b3da21ef808aac7e","Method":"GET","Path":"/hubs/orders","Query":"?id=U6ij0TtwiByqQwbaCYrhQg","StatusCode":101,"Duration":18.8846,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863K:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863K"}
{"@t":"2026-01-17T20:01:09.6552618Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"451d552a2a9eaed3d7135a0d149a91a3","@sp":"6f336614d7df79c1","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T20:01:09.6552187Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:09.6638468Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"451d552a2a9eaed3d7135a0d149a91a3","@sp":"6f336614d7df79c1","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":8.5816,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:09.6885991Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"15b93d6be3132abebf7bfd579c869354","@sp":"c64187c905325e32","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T20:01:09.6882756Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863L:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF863L"}
{"@t":"2026-01-17T20:01:09.6947764Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"15b93d6be3132abebf7bfd579c869354","@sp":"c64187c905325e32","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":6.2599,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863L:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF863L"}
{"@t":"2026-01-17T20:01:09.7086241Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0cec0a2c1809c927762e3acd7837e742","@sp":"7cb8d9605f50bd29","Method":"GET","Path":"/hubs/orders","Query":"?id=w87ltkiCkUE7UEoVJdeQNQ","Time":"2026-01-17T20:01:09.7085696Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863M:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863M"}
{"@t":"2026-01-17T20:01:09.7163286Z","@mt":"Client connected: {ConnectionId}","@tr":"0cec0a2c1809c927762e3acd7837e742","@sp":"7cb8d9605f50bd29","ConnectionId":"llHyedK6gQjt90ijxcK5-A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"llHyedK6gQjt90ijxcK5-A","RequestId":"0HNILVRLF863M:00000001","RequestPath":"/hubs/orders","CorrelationId":"a1020423-92d3-4de9-b30a-2948a480a609"}
{"@t":"2026-01-17T20:01:09.7216544Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"llHyedK6gQjt90ijxcK5-A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"llHyedK6gQjt90ijxcK5-A","RequestId":"0HNILVRLF863M:00000001","RequestPath":"/hubs/orders","CorrelationId":"a1020423-92d3-4de9-b30a-2948a480a609"}
{"@t":"2026-01-17T20:01:12.1374071Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"67ad71f54db70c42b3c0de387fff76b5","@sp":"96ab8b2490da017f","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-17T20:01:12.1373682Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000006","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:12.1801861Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"67ad71f54db70c42b3c0de387fff76b5","@sp":"96ab8b2490da017f","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"4b63c63a-df4c-4771-9de2-be22a91d589e","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.API)","RequestId":"0HNILVRLF863H:00000006","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNILVRLF863H","CorrelationId":"a343193b-cd7a-45ab-85c0-b14743211b60"}
{"@t":"2026-01-17T20:01:12.2842533Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"67ad71f54db70c42b3c0de387fff76b5","@sp":"96ab8b2490da017f","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":146.8485,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000006","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:13.8398769Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"15f508292b5b67566384b8217b82055c","@sp":"31b610f35df6a0bb","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T20:01:13.8398413Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:13.8804076Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"15f508292b5b67566384b8217b82055c","@sp":"31b610f35df6a0bb","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":40.5345,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:15.0342882Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"87f76aca9e90e3a8bafc3fdba0d494f9","@sp":"50b09d0a5af593cb","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T20:01:15.0342509Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:15.0388189Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"87f76aca9e90e3a8bafc3fdba0d494f9","@sp":"50b09d0a5af593cb","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":4.5306,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:15.1683298Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bf1b4d07b3e8264d08ca90d790f2c0ad","@sp":"2755e6a66a8508d6","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-17T20:01:15.1682899Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:15.1726007Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"bf1b4d07b3e8264d08ca90d790f2c0ad","@sp":"2755e6a66a8508d6","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":4.2786,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:34.3006662Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dff3a1ba2a9409db03515b386245acce","@sp":"87d492f552a64759","Method":"GET","Path":"/api/menu/categories","Query":"","Time":"2026-01-17T20:01:34.3006169Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000A","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:34.6730176Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dff3a1ba2a9409db03515b386245acce","@sp":"87d492f552a64759","Method":"GET","Path":"/api/menu/categories","Query":"","StatusCode":200,"Duration":372.1581,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000A","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:34.7102826Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dff3a1ba2a9409db03515b386245acce","@sp":"e3a2a0596fa5f919","Method":"GET","Path":"/api/menu/items","Query":"","Time":"2026-01-17T20:01:34.7101173Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000B","RequestPath":"/api/menu/items","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:34.8509519Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dff3a1ba2a9409db03515b386245acce","@sp":"e3a2a0596fa5f919","Method":"GET","Path":"/api/menu/items","Query":"","StatusCode":200,"Duration":140.679,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000B","RequestPath":"/api/menu/items","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:34.9280880Z","@mt":"Client disconnected: {ConnectionId}","@tr":"0cec0a2c1809c927762e3acd7837e742","@sp":"7cb8d9605f50bd29","ConnectionId":"llHyedK6gQjt90ijxcK5-A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"llHyedK6gQjt90ijxcK5-A","RequestId":"0HNILVRLF863M:00000001","RequestPath":"/hubs/orders","CorrelationId":"a1020423-92d3-4de9-b30a-2948a480a609"}
{"@t":"2026-01-17T20:01:34.9316002Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dba5a5e2a23bba2db1ed7ac574fd1a2d","@sp":"04ed2d4c6c52af4a","Method":"GET","Path":"/api/menu/categories","Query":"","Time":"2026-01-17T20:01:34.9315364Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000C","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:34.9328708Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0cec0a2c1809c927762e3acd7837e742","@sp":"7cb8d9605f50bd29","Method":"GET","Path":"/hubs/orders","Query":"?id=w87ltkiCkUE7UEoVJdeQNQ","StatusCode":101,"Duration":25224.1358,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863M:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF863M"}
{"@t":"2026-01-17T20:01:34.9560470Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dba5a5e2a23bba2db1ed7ac574fd1a2d","@sp":"04ed2d4c6c52af4a","Method":"GET","Path":"/api/menu/categories","Query":"","StatusCode":200,"Duration":24.4406,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000C","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:34.9620036Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ea9cc39264e59155ae9ec702a77635f0","@sp":"ec686d046631402a","Method":"GET","Path":"/api/menu/items","Query":"","Time":"2026-01-17T20:01:34.9618874Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000D","RequestPath":"/api/menu/items","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:34.9906830Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ea9cc39264e59155ae9ec702a77635f0","@sp":"ec686d046631402a","Method":"GET","Path":"/api/menu/items","Query":"","StatusCode":200,"Duration":28.5689,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000D","RequestPath":"/api/menu/items","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:43.6184072Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0cb091994db14fb26d5cef89ce63378a","@sp":"b2e816476361fca9","Method":"POST","Path":"/api/menu/items/1/toggle-availability","Query":"","Time":"2026-01-17T20:01:43.6183777Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000E","RequestPath":"/api/menu/items/1/toggle-availability","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:43.7374433Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0cb091994db14fb26d5cef89ce63378a","@sp":"b2e816476361fca9","Method":"POST","Path":"/api/menu/items/1/toggle-availability","Query":"","StatusCode":200,"Duration":118.9949,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000E","RequestPath":"/api/menu/items/1/toggle-availability","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:45.1028302Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2d9ebdb82f47858c487f60af3a18ac09","@sp":"2003faa1d60dd59f","Method":"POST","Path":"/api/menu/items/1/toggle-availability","Query":"","Time":"2026-01-17T20:01:45.1027772Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000F","RequestPath":"/api/menu/items/1/toggle-availability","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:45.1109134Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2d9ebdb82f47858c487f60af3a18ac09","@sp":"2003faa1d60dd59f","Method":"POST","Path":"/api/menu/items/1/toggle-availability","Query":"","StatusCode":200,"Duration":8.1032,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:0000000F","RequestPath":"/api/menu/items/1/toggle-availability","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:45.9326129Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2b073d979ec44e9ff66f1f9cfbce7e1f","@sp":"8e9192e74ad451d8","Method":"POST","Path":"/api/menu/items/1/toggle-availability","Query":"","Time":"2026-01-17T20:01:45.9325679Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000010","RequestPath":"/api/menu/items/1/toggle-availability","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:45.9488548Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2b073d979ec44e9ff66f1f9cfbce7e1f","@sp":"8e9192e74ad451d8","Method":"POST","Path":"/api/menu/items/1/toggle-availability","Query":"","StatusCode":200,"Duration":16.2318,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000010","RequestPath":"/api/menu/items/1/toggle-availability","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:46.7291729Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"54395aa81228d3a58f8bd7a85b600b68","@sp":"5e99bf330e8c1435","Method":"POST","Path":"/api/menu/items/2/toggle-availability","Query":"","Time":"2026-01-17T20:01:46.7291225Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000011","RequestPath":"/api/menu/items/2/toggle-availability","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:46.8004705Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"54395aa81228d3a58f8bd7a85b600b68","@sp":"5e99bf330e8c1435","Method":"POST","Path":"/api/menu/items/2/toggle-availability","Query":"","StatusCode":200,"Duration":71.2458,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000011","RequestPath":"/api/menu/items/2/toggle-availability","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:47.8469629Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e3f5f4fa92e77b3ba88cb1b211e82b4d","@sp":"e72a4e32782d6e35","Method":"GET","Path":"/api/menu/categories","Query":"","Time":"2026-01-17T20:01:47.8468302Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000012","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:47.8515845Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e3f5f4fa92e77b3ba88cb1b211e82b4d","@sp":"e72a4e32782d6e35","Method":"GET","Path":"/api/menu/categories","Query":"","StatusCode":200,"Duration":4.6995,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000012","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:47.9161149Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e2fd744bcf10ebfa341ee54ebac3c355","@sp":"4359448251e36d70","Method":"GET","Path":"/api/menu/categories","Query":"","Time":"2026-01-17T20:01:47.9159740Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000013","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:47.9809970Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e2fd744bcf10ebfa341ee54ebac3c355","@sp":"4359448251e36d70","Method":"GET","Path":"/api/menu/categories","Query":"","StatusCode":200,"Duration":64.9177,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863H:00000013","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF863H"}
{"@t":"2026-01-17T20:01:49.8350380Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a6b26040bdd1dfbec5d269f4b48e99c3","@sp":"3c7d07014331cdef","Method":"GET","Path":"/api/branches","Query":"","Time":"2026-01-17T20:01:49.8350042Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000001","RequestPath":"/api/branches","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:01:49.9795150Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a6b26040bdd1dfbec5d269f4b48e99c3","@sp":"3c7d07014331cdef","Method":"GET","Path":"/api/branches","Query":"","StatusCode":200,"Duration":144.4543,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000001","RequestPath":"/api/branches","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:01:50.1144976Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bdb093532a1f3c25187140a6b86dcbcf","@sp":"7bc07bcad7bd650d","Method":"GET","Path":"/api/branches","Query":"","Time":"2026-01-17T20:01:50.1144514Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000001","RequestPath":"/api/branches","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:01:50.1204565Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bdb093532a1f3c25187140a6b86dcbcf","@sp":"7bc07bcad7bd650d","Method":"GET","Path":"/api/branches","Query":"","StatusCode":200,"Duration":5.9533,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000001","RequestPath":"/api/branches","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:01:51.7870642Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e463c525d594b1d7f3854f51420992d0","@sp":"4d1bf682de132a09","Method":"GET","Path":"/api/offers","Query":"","Time":"2026-01-17T20:01:51.7870231Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000002","RequestPath":"/api/offers","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:01:51.9426305Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e463c525d594b1d7f3854f51420992d0","@sp":"4d1bf682de132a09","Method":"GET","Path":"/api/offers","Query":"","StatusCode":200,"Duration":155.5699,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000002","RequestPath":"/api/offers","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:01:51.9929395Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d1c800e3211386db1baccb04544bdfa3","@sp":"251925ec6ce45915","Method":"GET","Path":"/api/offers","Query":"","Time":"2026-01-17T20:01:51.9927025Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000002","RequestPath":"/api/offers","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:01:52.0115752Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d1c800e3211386db1baccb04544bdfa3","@sp":"251925ec6ce45915","Method":"GET","Path":"/api/offers","Query":"","StatusCode":200,"Duration":18.6148,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000002","RequestPath":"/api/offers","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:02:02.1738800Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fed6fa7f495d02ce9e265c00dc0ad0fa","@sp":"7dddcc46a436dc8b","Method":"GET","Path":"/api/admin/users","Query":"?page=1&pageSize=20","Time":"2026-01-17T20:02:02.1738180Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000003","RequestPath":"/api/admin/users","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:02:02.7284084Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fed6fa7f495d02ce9e265c00dc0ad0fa","@sp":"7dddcc46a436dc8b","Method":"GET","Path":"/api/admin/users","Query":"?page=1&pageSize=20","StatusCode":200,"Duration":554.4891,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000003","RequestPath":"/api/admin/users","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:02:02.7794022Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9b9c3e299734e14bab3b1e2ba02303fe","@sp":"31a45dbc70fd8ee4","Method":"GET","Path":"/api/admin/users","Query":"?page=1&pageSize=20","Time":"2026-01-17T20:02:02.7792777Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000003","RequestPath":"/api/admin/users","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:02:02.8182130Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9b9c3e299734e14bab3b1e2ba02303fe","@sp":"31a45dbc70fd8ee4","Method":"GET","Path":"/api/admin/users","Query":"?page=1&pageSize=20","StatusCode":200,"Duration":38.8444,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000003","RequestPath":"/api/admin/users","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:02:04.8702969Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c6fac9c29cf26f9de4e5bf305ba73676","@sp":"a1215d8e37ca085a","Method":"GET","Path":"/api/reviews/pending","Query":"","Time":"2026-01-17T20:02:04.8702051Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000004","RequestPath":"/api/reviews/pending","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:02:04.8819135Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"c6fac9c29cf26f9de4e5bf305ba73676","@sp":"a1215d8e37ca085a","Method":"GET","Path":"/api/reviews/pending","Query":"","StatusCode":401,"Duration":11.6171,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000004","RequestPath":"/api/reviews/pending","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:02:05.0431427Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1b901f6748cd065d093f1134af67d819","@sp":"9d2cc77a66485cea","Method":"GET","Path":"/api/reviews/pending","Query":"","Time":"2026-01-17T20:02:05.0430734Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000004","RequestPath":"/api/reviews/pending","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:02:05.2378161Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1b901f6748cd065d093f1134af67d819","@sp":"9d2cc77a66485cea","Method":"GET","Path":"/api/reviews/pending","Query":"","StatusCode":200,"Duration":194.7029,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000004","RequestPath":"/api/reviews/pending","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:02:06.1685120Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0ddf1e9ff37c2087291bd16a5113ead5","@sp":"1464d54d3c54ef42","Method":"GET","Path":"/api/loyalty/tiers","Query":"","Time":"2026-01-17T20:02:06.1684598Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000005","RequestPath":"/api/loyalty/tiers","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:02:06.2211694Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0ddf1e9ff37c2087291bd16a5113ead5","@sp":"1464d54d3c54ef42","Method":"GET","Path":"/api/loyalty/tiers","Query":"","StatusCode":200,"Duration":52.6469,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000005","RequestPath":"/api/loyalty/tiers","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:02:06.2584147Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0ddf1e9ff37c2087291bd16a5113ead5","@sp":"508f7e3c721d4ba2","Method":"GET","Path":"/api/loyalty/customers","Query":"?page=1&pageSize=100","Time":"2026-01-17T20:02:06.2583458Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000006","RequestPath":"/api/loyalty/customers","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:02:06.2635737Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"0ddf1e9ff37c2087291bd16a5113ead5","@sp":"508f7e3c721d4ba2","Method":"GET","Path":"/api/loyalty/customers","Query":"?page=1&pageSize=100","StatusCode":401,"Duration":5.1712,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863N:00000006","RequestPath":"/api/loyalty/customers","ConnectionId":"0HNILVRLF863N"}
{"@t":"2026-01-17T20:02:06.4161751Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0c6be493e78889fb16628a31bfb30fbb","@sp":"99743a21c221b793","Method":"GET","Path":"/api/loyalty/tiers","Query":"","Time":"2026-01-17T20:02:06.4160128Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000005","RequestPath":"/api/loyalty/tiers","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:02:06.4230290Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0c6be493e78889fb16628a31bfb30fbb","@sp":"99743a21c221b793","Method":"GET","Path":"/api/loyalty/tiers","Query":"","StatusCode":200,"Duration":6.9445,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000005","RequestPath":"/api/loyalty/tiers","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:02:06.4293606Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c6e43497965153f1f18bde026ca59adf","@sp":"88863cc0396dee29","Method":"GET","Path":"/api/loyalty/customers","Query":"?page=1&pageSize=100","Time":"2026-01-17T20:02:06.4292723Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000006","RequestPath":"/api/loyalty/customers","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:02:06.6407548Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c6e43497965153f1f18bde026ca59adf","@sp":"88863cc0396dee29","Method":"GET","Path":"/api/loyalty/customers","Query":"?page=1&pageSize=100","StatusCode":200,"Duration":211.408,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863O:00000006","RequestPath":"/api/loyalty/customers","ConnectionId":"0HNILVRLF863O"}
{"@t":"2026-01-17T20:04:28.9866621Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"734a22c301c183d8e309d4a9ff242f2f","@sp":"a590d1a340ec9a88","Method":"GET","Path":"/api/menu/popular","Query":"?count=10","Time":"2026-01-17T20:04:28.9866165Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863P:00000001","RequestPath":"/api/menu/popular","ConnectionId":"0HNILVRLF863P"}
{"@t":"2026-01-17T20:04:28.9979273Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c30dffd7c0daa50f6b236824906862b8","@sp":"5ca51bd392816f58","Method":"GET","Path":"/api/branches","Query":"","Time":"2026-01-17T20:04:28.9978853Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863Q:00000001","RequestPath":"/api/branches","ConnectionId":"0HNILVRLF863Q"}
{"@t":"2026-01-17T20:04:29.0000524Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1e296e93296689c4b52dd57e6e06d6e5","@sp":"838099b325ae1b76","Method":"GET","Path":"/api/menu/categories","Query":"","Time":"2026-01-17T20:04:29.0000153Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863R:00000001","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF863R"}
{"@t":"2026-01-17T20:04:29.0017253Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f7e69e4e10921094734dd7028e4b6703","@sp":"aa7404fa9c275f2b","Method":"GET","Path":"/api/restaurant","Query":"","Time":"2026-01-17T20:04:29.0016914Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863S:00000001","RequestPath":"/api/restaurant","ConnectionId":"0HNILVRLF863S"}
{"@t":"2026-01-17T20:04:29.0040577Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1e296e93296689c4b52dd57e6e06d6e5","@sp":"838099b325ae1b76","Method":"GET","Path":"/api/menu/categories","Query":"","StatusCode":200,"Duration":4.0028,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863R:00000001","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF863R"}
{"@t":"2026-01-17T20:04:29.0522988Z","@mt":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","@l":"Warning","@tr":"734a22c301c183d8e309d4a9ff242f2f","@sp":"a590d1a340ec9a88","EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"2ab49ec8-a01c-42a1-a4ef-fa37083f5464","ActionName":"RestaurantApp.API.Controllers.MenuController.GetPopularItems (RestaurantApp.API)","RequestId":"0HNILVRLF863P:00000001","RequestPath":"/api/menu/popular","ConnectionId":"0HNILVRLF863P","CorrelationId":"75e22764-5303-4684-80cf-89c496112328"}
{"@t":"2026-01-17T20:04:29.0562827Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c30dffd7c0daa50f6b236824906862b8","@sp":"5ca51bd392816f58","Method":"GET","Path":"/api/branches","Query":"","StatusCode":200,"Duration":58.3098,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863Q:00000001","RequestPath":"/api/branches","ConnectionId":"0HNILVRLF863Q"}
{"@t":"2026-01-17T20:04:29.1251068Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"734a22c301c183d8e309d4a9ff242f2f","@sp":"a590d1a340ec9a88","Method":"GET","Path":"/api/menu/popular","Query":"?count=10","StatusCode":200,"Duration":138.402,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863P:00000001","RequestPath":"/api/menu/popular","ConnectionId":"0HNILVRLF863P"}
{"@t":"2026-01-17T20:04:29.2495034Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f7e69e4e10921094734dd7028e4b6703","@sp":"aa7404fa9c275f2b","Method":"GET","Path":"/api/restaurant","Query":"","StatusCode":200,"Duration":247.7667,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863S:00000001","RequestPath":"/api/restaurant","ConnectionId":"0HNILVRLF863S"}
{"@t":"2026-01-17T20:04:31.7906500Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4ac633effc9d804cb6adda3d97c36c4e","@sp":"5110426eb9db03a9","Method":"GET","Path":"/api/auth/profile","Query":"","Time":"2026-01-17T20:04:31.7906104Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863T:00000001","RequestPath":"/api/auth/profile","ConnectionId":"0HNILVRLF863T"}
{"@t":"2026-01-17T20:04:31.8008494Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"4ac633effc9d804cb6adda3d97c36c4e","@sp":"5110426eb9db03a9","Method":"GET","Path":"/api/auth/profile","Query":"","StatusCode":401,"Duration":10.1896,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863T:00000001","RequestPath":"/api/auth/profile","ConnectionId":"0HNILVRLF863T"}
{"@t":"2026-01-17T20:04:47.1502612Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"af276532fbea76983d2c334606665674","@sp":"3a11de71918f0e42","Method":"POST","Path":"/api/auth/login","Query":"","Time":"2026-01-17T20:04:47.1502098Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863U:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNILVRLF863U"}
{"@t":"2026-01-17T20:04:47.4616941Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"af276532fbea76983d2c334606665674","@sp":"3a11de71918f0e42","Method":"POST","Path":"/api/auth/login","Query":"","StatusCode":401,"Duration":311.4067,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863U:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNILVRLF863U"}
{"@t":"2026-01-17T20:04:54.8619668Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4a2e736d11fb533a47657df156be528f","@sp":"8c02cae0f23dc628","Method":"POST","Path":"/api/auth/login","Query":"","Time":"2026-01-17T20:04:54.8619407Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863V:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNILVRLF863V"}
{"@t":"2026-01-17T20:04:54.9817802Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4a2e736d11fb533a47657df156be528f","@sp":"8c02cae0f23dc628","Method":"POST","Path":"/api/auth/login","Query":"","StatusCode":200,"Duration":119.7933,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF863V:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNILVRLF863V"}
{"@t":"2026-01-17T20:04:55.1714105Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"91b70add1c0dee67b96b68f6cf8cba9e","@sp":"2bf07a30c4b16e82","Method":"GET","Path":"/api/auth/profile","Query":"","Time":"2026-01-17T20:04:55.1713801Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8640:00000001","RequestPath":"/api/auth/profile","ConnectionId":"0HNILVRLF8640"}
{"@t":"2026-01-17T20:04:55.2166639Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"91b70add1c0dee67b96b68f6cf8cba9e","@sp":"2bf07a30c4b16e82","Method":"GET","Path":"/api/auth/profile","Query":"","StatusCode":200,"Duration":45.2199,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8640:00000001","RequestPath":"/api/auth/profile","ConnectionId":"0HNILVRLF8640"}
{"@t":"2026-01-17T20:04:55.8260745Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d4abefaeb14ec00398bb2da4c86647a7","@sp":"95b856b2f9a2688c","Method":"GET","Path":"/api/orders","Query":"","Time":"2026-01-17T20:04:55.8260337Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8641:00000001","RequestPath":"/api/orders","ConnectionId":"0HNILVRLF8641"}
{"@t":"2026-01-17T20:04:55.8281473Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dbf5a3e862d8f1bf714953a0de7f9822","@sp":"4363f724066e0688","Method":"GET","Path":"/api/restaurant","Query":"","Time":"2026-01-17T20:04:55.8280886Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8642:00000001","RequestPath":"/api/restaurant","ConnectionId":"0HNILVRLF8642"}
{"@t":"2026-01-17T20:04:55.8317030Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"14de601d79cdad1008aa1916582702b5","@sp":"d7799ec46a9fb34c","Method":"GET","Path":"/api/branches","Query":"","Time":"2026-01-17T20:04:55.8316420Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8643:00000001","RequestPath":"/api/branches","ConnectionId":"0HNILVRLF8643"}
{"@t":"2026-01-17T20:04:55.8323725Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fc106f1d36bfac021013fbce705520d0","@sp":"8d8b861f710c5185","Method":"GET","Path":"/api/menu/categories","Query":"","Time":"2026-01-17T20:04:55.8323221Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8644:00000001","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF8644"}
{"@t":"2026-01-17T20:04:55.8340653Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"94c18e7b7528cbd3e912b720a3a71da9","@sp":"cd121721c37106ba","Method":"GET","Path":"/api/menu/popular","Query":"?count=10","Time":"2026-01-17T20:04:55.8340060Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8645:00000001","RequestPath":"/api/menu/popular","ConnectionId":"0HNILVRLF8645"}
{"@t":"2026-01-17T20:04:55.8433267Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dbf5a3e862d8f1bf714953a0de7f9822","@sp":"4363f724066e0688","Method":"GET","Path":"/api/restaurant","Query":"","StatusCode":200,"Duration":14.8808,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8642:00000001","RequestPath":"/api/restaurant","ConnectionId":"0HNILVRLF8642"}
{"@t":"2026-01-17T20:04:55.8455299Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"14de601d79cdad1008aa1916582702b5","@sp":"d7799ec46a9fb34c","Method":"GET","Path":"/api/branches","Query":"","StatusCode":200,"Duration":13.8294,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8643:00000001","RequestPath":"/api/branches","ConnectionId":"0HNILVRLF8643"}
{"@t":"2026-01-17T20:04:55.8476647Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fc106f1d36bfac021013fbce705520d0","@sp":"8d8b861f710c5185","Method":"GET","Path":"/api/menu/categories","Query":"","StatusCode":200,"Duration":15.2856,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8644:00000001","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF8644"}
{"@t":"2026-01-17T20:04:55.8545870Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"94c18e7b7528cbd3e912b720a3a71da9","@sp":"cd121721c37106ba","Method":"GET","Path":"/api/menu/popular","Query":"?count=10","StatusCode":200,"Duration":20.4866,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8645:00000001","RequestPath":"/api/menu/popular","ConnectionId":"0HNILVRLF8645"}
{"@t":"2026-01-17T20:04:55.9775749Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d4abefaeb14ec00398bb2da4c86647a7","@sp":"95b856b2f9a2688c","Method":"GET","Path":"/api/orders","Query":"","StatusCode":200,"Duration":151.4286,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8641:00000001","RequestPath":"/api/orders","ConnectionId":"0HNILVRLF8641"}
{"@t":"2026-01-17T20:05:03.2723434Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7d59153f9754480f80f3faa82b8be1ae","@sp":"7dff841aebae80ac","Method":"GET","Path":"/api/menu/categories","Query":"","Time":"2026-01-17T20:05:03.2721620Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000001","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:03.2797638Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7d59153f9754480f80f3faa82b8be1ae","@sp":"7dff841aebae80ac","Method":"GET","Path":"/api/menu/categories","Query":"","StatusCode":200,"Duration":7.5647,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000001","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:03.2919678Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7d59153f9754480f80f3faa82b8be1ae","@sp":"92abe53d4b022553","Method":"GET","Path":"/api/menu/items","Query":"","Time":"2026-01-17T20:05:03.2919146Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000002","RequestPath":"/api/menu/items","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:03.3099852Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7d59153f9754480f80f3faa82b8be1ae","@sp":"92abe53d4b022553","Method":"GET","Path":"/api/menu/items","Query":"","StatusCode":200,"Duration":17.9551,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000002","RequestPath":"/api/menu/items","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:03.3516885Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e88efd9faf58544d85a7651ac63813aa","@sp":"5042a76b366d3443","Method":"GET","Path":"/api/menu/categories","Query":"","Time":"2026-01-17T20:05:03.3516266Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000001","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:03.3561974Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e88efd9faf58544d85a7651ac63813aa","@sp":"5042a76b366d3443","Method":"GET","Path":"/api/menu/categories","Query":"","StatusCode":200,"Duration":4.4953,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000001","RequestPath":"/api/menu/categories","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:03.3747387Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c15498b6daf49ca5ee835f69c1c12e33","@sp":"3703d80f9561f7c8","Method":"GET","Path":"/api/menu/items","Query":"","Time":"2026-01-17T20:05:03.3746806Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000002","RequestPath":"/api/menu/items","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:03.4092597Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c15498b6daf49ca5ee835f69c1c12e33","@sp":"3703d80f9561f7c8","Method":"GET","Path":"/api/menu/items","Query":"","StatusCode":200,"Duration":34.3932,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000002","RequestPath":"/api/menu/items","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:39.0620884Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"840ca05a099dbd92bf307c50d0026a78","@sp":"6decddcd89e9d996","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T20:05:39.0620277Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:39.0817637Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"840ca05a099dbd92bf307c50d0026a78","@sp":"6decddcd89e9d996","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":19.675,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:39.1385630Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7c6ad431aa89f1f4f922e5989204998a","@sp":"11e46ada9afd4f0c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T20:05:39.1384477Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:39.1567293Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7c6ad431aa89f1f4f922e5989204998a","@sp":"11e46ada9afd4f0c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":18.2229,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:41.0464196Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"47d1724ad2a3a970bc491990b5089f01","@sp":"9bdd58ebd81f1a43","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T20:05:41.0463730Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:41.0576995Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"47d1724ad2a3a970bc491990b5089f01","@sp":"9bdd58ebd81f1a43","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":11.2702,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:41.0869050Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"47d1724ad2a3a970bc491990b5089f01","@sp":"4e0dbaf39488d810","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T20:05:41.0868454Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8648:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF8648"}
{"@t":"2026-01-17T20:05:41.0918323Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"47d1724ad2a3a970bc491990b5089f01","@sp":"4e0dbaf39488d810","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":4.9393,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8648:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF8648"}
{"@t":"2026-01-17T20:05:41.0981216Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"47d1724ad2a3a970bc491990b5089f01","@sp":"63638cfe5f5bb99d","Method":"GET","Path":"/hubs/orders","Query":"?id=m51UpYVdCZRiuS6pVGYYeg","Time":"2026-01-17T20:05:41.0979211Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8649:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF8649"}
{"@t":"2026-01-17T20:05:41.1091967Z","@mt":"Client connected: {ConnectionId}","@tr":"47d1724ad2a3a970bc491990b5089f01","@sp":"63638cfe5f5bb99d","ConnectionId":"L6ElA8hR79DsilELkuyyBw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"L6ElA8hR79DsilELkuyyBw","RequestId":"0HNILVRLF8649:00000001","RequestPath":"/hubs/orders","CorrelationId":"1c613b7f-302d-4e34-95fe-fe3b0909bffb"}
{"@t":"2026-01-17T20:05:41.1127248Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"L6ElA8hR79DsilELkuyyBw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"L6ElA8hR79DsilELkuyyBw","RequestId":"0HNILVRLF8649:00000001","RequestPath":"/hubs/orders","CorrelationId":"1c613b7f-302d-4e34-95fe-fe3b0909bffb"}
{"@t":"2026-01-17T20:05:41.1267835Z","@mt":"Client disconnected: {ConnectionId}","@tr":"47d1724ad2a3a970bc491990b5089f01","@sp":"63638cfe5f5bb99d","ConnectionId":"L6ElA8hR79DsilELkuyyBw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"L6ElA8hR79DsilELkuyyBw","RequestId":"0HNILVRLF8649:00000001","RequestPath":"/hubs/orders","CorrelationId":"1c613b7f-302d-4e34-95fe-fe3b0909bffb"}
{"@t":"2026-01-17T20:05:41.1302795Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"47d1724ad2a3a970bc491990b5089f01","@sp":"63638cfe5f5bb99d","Method":"GET","Path":"/hubs/orders","Query":"?id=m51UpYVdCZRiuS6pVGYYeg","StatusCode":101,"Duration":32.2801,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8649:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF8649"}
{"@t":"2026-01-17T20:05:41.1532851Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"83d8a0d746767d0ec17ac24e909998bf","@sp":"a7d75d73bc25762b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-17T20:05:41.1531942Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:41.1975998Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"83d8a0d746767d0ec17ac24e909998bf","@sp":"a7d75d73bc25762b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":43.4065,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:41.2366248Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0c0e432b5bd6cd01ca884e6c94ac67ea","@sp":"958f5108dbe0b2c5","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-17T20:05:41.2364868Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF864A:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF864A"}
{"@t":"2026-01-17T20:05:41.2416702Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0c0e432b5bd6cd01ca884e6c94ac67ea","@sp":"958f5108dbe0b2c5","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":5.0794,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF864A:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNILVRLF864A"}
{"@t":"2026-01-17T20:05:41.2513209Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7905e96be2d11999431436d701ad6bc1","@sp":"1897d98e2e38ffe0","Method":"GET","Path":"/hubs/orders","Query":"?id=nFashUPGk42Qy5JXsJJ92g","Time":"2026-01-17T20:05:41.2512213Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF864B:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF864B"}
{"@t":"2026-01-17T20:05:41.2744282Z","@mt":"Client connected: {ConnectionId}","@tr":"7905e96be2d11999431436d701ad6bc1","@sp":"1897d98e2e38ffe0","ConnectionId":"OU1YZWYuaq8FoPtC43yVEQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"OU1YZWYuaq8FoPtC43yVEQ","RequestId":"0HNILVRLF864B:00000001","RequestPath":"/hubs/orders","CorrelationId":"39830066-cbd5-4deb-a412-0434d0096303"}
{"@t":"2026-01-17T20:05:41.2817056Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"OU1YZWYuaq8FoPtC43yVEQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"OU1YZWYuaq8FoPtC43yVEQ","RequestId":"0HNILVRLF864B:00000001","RequestPath":"/hubs/orders","CorrelationId":"39830066-cbd5-4deb-a412-0434d0096303"}
{"@t":"2026-01-17T20:05:43.5276989Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4b783f78fbdb6ba84b9ac762cd45f269","@sp":"a4c4fec15739699a","Method":"GET","Path":"/api/admin/reports/summary","Query":"","Time":"2026-01-17T20:05:43.5275380Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000005","RequestPath":"/api/admin/reports/summary","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:43.5341991Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"4b783f78fbdb6ba84b9ac762cd45f269","@sp":"a4c4fec15739699a","Method":"GET","Path":"/api/admin/reports/summary","Query":"","StatusCode":401,"Duration":6.4121,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000005","RequestPath":"/api/admin/reports/summary","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:43.5580624Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4b783f78fbdb6ba84b9ac762cd45f269","@sp":"f40af7401281352c","Method":"GET","Path":"/api/admin/reports/orders","Query":"","Time":"2026-01-17T20:05:43.5580325Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000006","RequestPath":"/api/admin/reports/orders","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:43.5620412Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"4b783f78fbdb6ba84b9ac762cd45f269","@sp":"f40af7401281352c","Method":"GET","Path":"/api/admin/reports/orders","Query":"","StatusCode":401,"Duration":3.9581,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000006","RequestPath":"/api/admin/reports/orders","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:43.5743609Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4b783f78fbdb6ba84b9ac762cd45f269","@sp":"5396d3397b84dbf3","Method":"GET","Path":"/api/admin/reports/branch-performance","Query":"","Time":"2026-01-17T20:05:43.5742977Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000007","RequestPath":"/api/admin/reports/branch-performance","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:43.5776570Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"4b783f78fbdb6ba84b9ac762cd45f269","@sp":"5396d3397b84dbf3","Method":"GET","Path":"/api/admin/reports/branch-performance","Query":"","StatusCode":401,"Duration":3.3124,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000007","RequestPath":"/api/admin/reports/branch-performance","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:43.5865603Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4b783f78fbdb6ba84b9ac762cd45f269","@sp":"8e85d24f2d6af54e","Method":"GET","Path":"/api/admin/reports/popular-items","Query":"?limit=10","Time":"2026-01-17T20:05:43.5865045Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000008","RequestPath":"/api/admin/reports/popular-items","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:43.5933661Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"4b783f78fbdb6ba84b9ac762cd45f269","@sp":"8e85d24f2d6af54e","Method":"GET","Path":"/api/admin/reports/popular-items","Query":"?limit=10","StatusCode":401,"Duration":6.7782,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000008","RequestPath":"/api/admin/reports/popular-items","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:43.6051866Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4b783f78fbdb6ba84b9ac762cd45f269","@sp":"4b91b1d542d127de","Method":"GET","Path":"/api/deliveries/stats","Query":"","Time":"2026-01-17T20:05:43.6051414Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000009","RequestPath":"/api/deliveries/stats","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:43.6085291Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"4b783f78fbdb6ba84b9ac762cd45f269","@sp":"4b91b1d542d127de","Method":"GET","Path":"/api/deliveries/stats","Query":"","StatusCode":401,"Duration":3.3476,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8646:00000009","RequestPath":"/api/deliveries/stats","ConnectionId":"0HNILVRLF8646"}
{"@t":"2026-01-17T20:05:43.6427273Z","@mt":"Client disconnected: {ConnectionId}","@tr":"7905e96be2d11999431436d701ad6bc1","@sp":"1897d98e2e38ffe0","ConnectionId":"OU1YZWYuaq8FoPtC43yVEQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"OU1YZWYuaq8FoPtC43yVEQ","RequestId":"0HNILVRLF864B:00000001","RequestPath":"/hubs/orders","CorrelationId":"39830066-cbd5-4deb-a412-0434d0096303"}
{"@t":"2026-01-17T20:05:43.6455143Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"86852fd3a5b7d45816dd0941de47176b","@sp":"0844813fa8eeae6b","Method":"GET","Path":"/api/admin/reports/summary","Query":"","Time":"2026-01-17T20:05:43.6454226Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000005","RequestPath":"/api/admin/reports/summary","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:43.6535232Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7905e96be2d11999431436d701ad6bc1","@sp":"1897d98e2e38ffe0","Method":"GET","Path":"/hubs/orders","Query":"?id=nFashUPGk42Qy5JXsJJ92g","StatusCode":101,"Duration":2402.2488,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF864B:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNILVRLF864B"}
{"@t":"2026-01-17T20:05:43.8900199Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"86852fd3a5b7d45816dd0941de47176b","@sp":"0844813fa8eeae6b","Method":"GET","Path":"/api/admin/reports/summary","Query":"","StatusCode":200,"Duration":244.5317,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000005","RequestPath":"/api/admin/reports/summary","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:43.8975396Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f8cbdf7d2ed79adb23e8403c2222655e","@sp":"fd074f1f02e384fd","Method":"GET","Path":"/api/admin/reports/orders","Query":"","Time":"2026-01-17T20:05:43.8973333Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000006","RequestPath":"/api/admin/reports/orders","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:43.9747658Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f8cbdf7d2ed79adb23e8403c2222655e","@sp":"fd074f1f02e384fd","Method":"GET","Path":"/api/admin/reports/orders","Query":"","StatusCode":200,"Duration":77.3782,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000006","RequestPath":"/api/admin/reports/orders","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:43.9923291Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"58f33c1d2761168c7da6a70267cd882e","@sp":"6114646f7e786531","Method":"GET","Path":"/api/admin/reports/branch-performance","Query":"","Time":"2026-01-17T20:05:43.9922811Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000007","RequestPath":"/api/admin/reports/branch-performance","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:44.0713988Z","@mt":"An unhandled exception occurred: {Message}","@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<Order>()\r\n    .Where(o => (DateTime?)o.CreatedAt >= @fromDate && (DateTime?)o.CreatedAt <= @toDate)\r\n    .Join(\r\n        inner: DbSet<Branch>(), \r\n        outerKeySelector: o => EF.Property<int?>(o, \"BranchId\"), \r\n        innerKeySelector: b => EF.Property<int?>(b, \"Id\"), \r\n        resultSelector: (o, i) => new TransparentIdentifier<Order, Branch>(\r\n            Outer = o, \r\n            Inner = i\r\n        ))\r\n    .GroupBy(o => new { \r\n        BranchId = o.Outer.BranchId, \r\n        NameEn = o.Inner.NameEn, \r\n        NameAr = o.Inner.NameAr\r\n     })\r\n    .Select(g => new BranchPerformanceDto(\r\n        g.Key.BranchId, \r\n        g.Key.NameEn ?? \"\", \r\n        g.Key.NameAr ?? \"\", \r\n        g\r\n            .AsQueryable()\r\n            .Count(), \r\n        g\r\n            .AsQueryable()\r\n            .Where(e => (int)e.Outer.Status != 6)\r\n            .Sum(e => e.Outer.Total), \r\n        g\r\n            .AsQueryable()\r\n            .Where(e => (int)e.Outer.Status != 6)\r\n            .Average(e => e.Outer.Total), \r\n        g\r\n            .AsQueryable()\r\n            .Count(e => (int)e.Outer.Status == 5), \r\n        g\r\n            .AsQueryable()\r\n            .Count(e => (int)e.Outer.Status == 6)\r\n    ))\r\n    .OrderByDescending(e0 => e0.Revenue)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.ReportService.GetBranchPerformanceReportAsync(Nullable`1 fromDate, Nullable`1 toDate, Nullable`1 branchId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\ReportService.cs:line 210\r\n   at RestaurantApp.API.Controllers.ReportsController.GetBranchPerformance(Nullable`1 fromDate, Nullable`1 toDate, Nullable`1 branchId) in H:\\Restaurant APP\\src\\RestaurantApp.API\\Controllers\\ReportsController.cs:line 66\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)\r\n   at RestaurantApp.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in H:\\Restaurant APP\\src\\RestaurantApp.API\\Middleware\\ExceptionHandlingMiddleware.cs:line 29","@tr":"58f33c1d2761168c7da6a70267cd882e","@sp":"6114646f7e786531","Message":"The LINQ expression 'DbSet<Order>()\r\n    .Where(o => (DateTime?)o.CreatedAt >= @fromDate && (DateTime?)o.CreatedAt <= @toDate)\r\n    .Join(\r\n        inner: DbSet<Branch>(), \r\n        outerKeySelector: o => EF.Property<int?>(o, \"BranchId\"), \r\n        innerKeySelector: b => EF.Property<int?>(b, \"Id\"), \r\n        resultSelector: (o, i) => new TransparentIdentifier<Order, Branch>(\r\n            Outer = o, \r\n            Inner = i\r\n        ))\r\n    .GroupBy(o => new { \r\n        BranchId = o.Outer.BranchId, \r\n        NameEn = o.Inner.NameEn, \r\n        NameAr = o.Inner.NameAr\r\n     })\r\n    .Select(g => new BranchPerformanceDto(\r\n        g.Key.BranchId, \r\n        g.Key.NameEn ?? \"\", \r\n        g.Key.NameAr ?? \"\", \r\n        g\r\n            .AsQueryable()\r\n            .Count(), \r\n        g\r\n            .AsQueryable()\r\n            .Where(e => (int)e.Outer.Status != 6)\r\n            .Sum(e => e.Outer.Total), \r\n        g\r\n            .AsQueryable()\r\n            .Where(e => (int)e.Outer.Status != 6)\r\n            .Average(e => e.Outer.Total), \r\n        g\r\n            .AsQueryable()\r\n            .Count(e => (int)e.Outer.Status == 5), \r\n        g\r\n            .AsQueryable()\r\n            .Count(e => (int)e.Outer.Status == 6)\r\n    ))\r\n    .OrderByDescending(e0 => e0.Revenue)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.","SourceContext":"RestaurantApp.API.Middleware.ExceptionHandlingMiddleware","RequestId":"0HNILVRLF8647:00000007","RequestPath":"/api/admin/reports/branch-performance","ConnectionId":"0HNILVRLF8647","CorrelationId":"227c1ea7-ec33-4d9e-af68-aa077fd32056"}
{"@t":"2026-01-17T20:05:44.1396723Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"58f33c1d2761168c7da6a70267cd882e","@sp":"6114646f7e786531","Method":"GET","Path":"/api/admin/reports/branch-performance","Query":"","StatusCode":400,"Duration":147.2587,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000007","RequestPath":"/api/admin/reports/branch-performance","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:44.1482722Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"88aae0c5e76a17df2757c2b0f4f86ffb","@sp":"9a355de27221f240","Method":"GET","Path":"/api/admin/reports/popular-items","Query":"?limit=10","Time":"2026-01-17T20:05:44.1481942Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000008","RequestPath":"/api/admin/reports/popular-items","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:44.1949260Z","@mt":"An unhandled exception occurred: {Message}","@l":"Error","@x":"System.InvalidOperationException: The LINQ expression 'DbSet<OrderItem>()\r\n    .Join(\r\n        inner: DbSet<Order>(), \r\n        outerKeySelector: o => EF.Property<int?>(o, \"OrderId\"), \r\n        innerKeySelector: o0 => EF.Property<int?>(o0, \"Id\"), \r\n        resultSelector: (o, i) => new TransparentIdentifier<OrderItem, Order>(\r\n            Outer = o, \r\n            Inner = i\r\n        ))\r\n    .Where(o => (DateTime?)o.Inner.CreatedAt >= @fromDate && (DateTime?)o.Inner.CreatedAt <= @toDate)\r\n    .Where(o => (int)o.Inner.Status != 6)\r\n    .GroupBy(o => new { \r\n        MenuItemId = o.Outer.MenuItemId, \r\n        MenuItemNameEn = o.Outer.MenuItemNameEn, \r\n        MenuItemNameAr = o.Outer.MenuItemNameAr\r\n     })\r\n    .Select(g => new PopularItemReportDto(\r\n        g.Key.MenuItemId, \r\n        g.Key.MenuItemNameEn ?? \"\", \r\n        g.Key.MenuItemNameAr ?? \"\", \r\n        g\r\n            .AsQueryable()\r\n            .Sum(e => e.Outer.Quantity), \r\n        g\r\n            .AsQueryable()\r\n            .Sum(e => e.Outer.TotalPrice), \r\n        g\r\n            .AsQueryable()\r\n            .Average(e => e.Outer.UnitPrice)\r\n    ))\r\n    .OrderByDescending(e0 => e0.QuantitySold)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.\r\n   at Microsoft.EntityFrameworkCore.Query.QueryableMethodTranslatingExpressionVisitor.Translate(Expression expression)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutorExpression[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Query.QueryCompilationContext.CreateQueryExecutor[TResult](Expression query)\r\n   at Microsoft.EntityFrameworkCore.Storage.Database.CompileQuery[TResult](Expression query, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.CompileQueryCore[TResult](IDatabase database, Expression query, IModel model, Boolean async)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.<>c__DisplayClass11_0`1.<ExecuteCore>b__0()\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.CompiledQueryCache.GetOrAddQuery[TResult](Object cacheKey, Func`1 compiler)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.QueryCompiler.ExecuteAsync[TResult](Expression query, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Query.Internal.EntityQueryable`1.GetAsyncEnumerator(CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.EntityFrameworkQueryableExtensions.ToListAsync[TSource](IQueryable`1 source, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.ReportService.GetPopularItemsReportAsync(Nullable`1 fromDate, Nullable`1 toDate, Int32 limit) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\ReportService.cs:line 174\r\n   at RestaurantApp.API.Controllers.ReportsController.GetPopularItems(Nullable`1 fromDate, Nullable`1 toDate, Int32 limit) in H:\\Restaurant APP\\src\\RestaurantApp.API\\Controllers\\ReportsController.cs:line 56\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.TaskOfIActionResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Awaited|17_0(ResourceInvoker invoker, Task task, IDisposable scope)\r\n   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)\r\n   at Microsoft.AspNetCore.RateLimiting.RateLimitingMiddleware.InvokeInternal(HttpContext context, EnableRateLimitingAttribute enableRateLimitingAttribute)\r\n   at RestaurantApp.API.Middleware.ExceptionHandlingMiddleware.InvokeAsync(HttpContext context) in H:\\Restaurant APP\\src\\RestaurantApp.API\\Middleware\\ExceptionHandlingMiddleware.cs:line 29","@tr":"88aae0c5e76a17df2757c2b0f4f86ffb","@sp":"9a355de27221f240","Message":"The LINQ expression 'DbSet<OrderItem>()\r\n    .Join(\r\n        inner: DbSet<Order>(), \r\n        outerKeySelector: o => EF.Property<int?>(o, \"OrderId\"), \r\n        innerKeySelector: o0 => EF.Property<int?>(o0, \"Id\"), \r\n        resultSelector: (o, i) => new TransparentIdentifier<OrderItem, Order>(\r\n            Outer = o, \r\n            Inner = i\r\n        ))\r\n    .Where(o => (DateTime?)o.Inner.CreatedAt >= @fromDate && (DateTime?)o.Inner.CreatedAt <= @toDate)\r\n    .Where(o => (int)o.Inner.Status != 6)\r\n    .GroupBy(o => new { \r\n        MenuItemId = o.Outer.MenuItemId, \r\n        MenuItemNameEn = o.Outer.MenuItemNameEn, \r\n        MenuItemNameAr = o.Outer.MenuItemNameAr\r\n     })\r\n    .Select(g => new PopularItemReportDto(\r\n        g.Key.MenuItemId, \r\n        g.Key.MenuItemNameEn ?? \"\", \r\n        g.Key.MenuItemNameAr ?? \"\", \r\n        g\r\n            .AsQueryable()\r\n            .Sum(e => e.Outer.Quantity), \r\n        g\r\n            .AsQueryable()\r\n            .Sum(e => e.Outer.TotalPrice), \r\n        g\r\n            .AsQueryable()\r\n            .Average(e => e.Outer.UnitPrice)\r\n    ))\r\n    .OrderByDescending(e0 => e0.QuantitySold)' could not be translated. Either rewrite the query in a form that can be translated, or switch to client evaluation explicitly by inserting a call to 'AsEnumerable', 'AsAsyncEnumerable', 'ToList', or 'ToListAsync'. See https://go.microsoft.com/fwlink/?linkid=2101038 for more information.","SourceContext":"RestaurantApp.API.Middleware.ExceptionHandlingMiddleware","RequestId":"0HNILVRLF8647:00000008","RequestPath":"/api/admin/reports/popular-items","ConnectionId":"0HNILVRLF8647","CorrelationId":"018c5086-0f51-4f5d-9e27-15e618511220"}
{"@t":"2026-01-17T20:05:44.2673587Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"88aae0c5e76a17df2757c2b0f4f86ffb","@sp":"9a355de27221f240","Method":"GET","Path":"/api/admin/reports/popular-items","Query":"?limit=10","StatusCode":400,"Duration":119.0926,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000008","RequestPath":"/api/admin/reports/popular-items","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:44.2827669Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4b29a0eee1cccac9175ac478c47c7106","@sp":"c9368bcd347ebcd9","Method":"GET","Path":"/api/deliveries/stats","Query":"","Time":"2026-01-17T20:05:44.2827204Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000009","RequestPath":"/api/deliveries/stats","ConnectionId":"0HNILVRLF8647"}
{"@t":"2026-01-17T20:05:44.3738050Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4b29a0eee1cccac9175ac478c47c7106","@sp":"c9368bcd347ebcd9","Method":"GET","Path":"/api/deliveries/stats","Query":"","StatusCode":200,"Duration":91.0138,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNILVRLF8647:00000009","RequestPath":"/api/deliveries/stats","ConnectionId":"0HNILVRLF8647"}
