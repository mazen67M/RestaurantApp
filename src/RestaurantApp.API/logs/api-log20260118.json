{"@t":"2026-01-18T12:24:51.4379642Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T12:24:51.5164903Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T12:24:51.5189815Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T12:24:51.7330099Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T12:24:53.1190134Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:24:53.1237884Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:24:53.1264923Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:24:53.9266693Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:24:53.9291389Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:24:53.9316542Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:24:54.1097780Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.API\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.API\\Program.cs:line 355","SourceContext":"Program"}
{"@t":"2026-01-18T12:24:54.2720045Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T12:25:28.0364500Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b56d7f41f4096651d285303150273b1c","@sp":"ad2b480067be5122","Method":"POST","Path":"/api/auth/login","Query":"","Time":"2026-01-18T12:25:28.0323841Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:28.0669837Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"b56d7f41f4096651d285303150273b1c","@sp":"ad2b480067be5122","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMHIKTNQLL:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIMHIKTNQLL","CorrelationId":"716afa04-abc4-4992-b961-756cea91afd2"}
{"@t":"2026-01-18T12:25:35.1697207Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b56d7f41f4096651d285303150273b1c","@sp":"ad2b480067be5122","Method":"POST","Path":"/api/auth/login","Query":"","StatusCode":200,"Duration":7136.7396,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:35.5337237Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"22ef43bae924ad9cea157b79c39792b0","@sp":"d5e06c9651258de6","Method":"POST","Path":"/api/auth/login","Query":"","Time":"2026-01-18T12:25:35.5302501Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:36.0029325Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"22ef43bae924ad9cea157b79c39792b0","@sp":"d5e06c9651258de6","Method":"POST","Path":"/api/auth/login","Query":"","StatusCode":200,"Duration":472.5282,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000002","RequestPath":"/api/auth/login","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:36.0567583Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5a61e346731d36ddcddf968c8dc78123","@sp":"e6e0a8d30b0e44ef","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:25:36.0566837Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:37.0198542Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5a61e346731d36ddcddf968c8dc78123","@sp":"e6e0a8d30b0e44ef","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":963.1049,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:37.8099656Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c7cd28b7710a04a8c4824cdcae83044b","@sp":"e6db81f70d2fec42","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:25:37.8099082Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:37.9570502Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c7cd28b7710a04a8c4824cdcae83044b","@sp":"e6db81f70d2fec42","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":146.8373,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:40.9720872Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1842e8897642e6831492fa0f51998b6f","@sp":"645556358bc515ad","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:25:40.9719839Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:41.0549520Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1842e8897642e6831492fa0f51998b6f","@sp":"645556358bc515ad","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":82.8854,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:41.2729007Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1842e8897642e6831492fa0f51998b6f","@sp":"f11029d205a1689f","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:25:41.2728044Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLM:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQLM"}
{"@t":"2026-01-18T12:25:41.3311164Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1842e8897642e6831492fa0f51998b6f","@sp":"f11029d205a1689f","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":58.185,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLM:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQLM"}
{"@t":"2026-01-18T12:25:41.3839871Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1842e8897642e6831492fa0f51998b6f","@sp":"635e8fbcdd33e8d8","Method":"GET","Path":"/hubs/orders","Query":"?id=IsnMbkpMVEkd6FAulAsHxQ","Time":"2026-01-18T12:25:41.3839009Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLN:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQLN"}
{"@t":"2026-01-18T12:25:41.5662743Z","@mt":"Client connected: {ConnectionId}","@tr":"1842e8897642e6831492fa0f51998b6f","@sp":"635e8fbcdd33e8d8","ConnectionId":"z1vtfGrlA9GWXqLhKDRczA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"z1vtfGrlA9GWXqLhKDRczA","RequestId":"0HNIMHIKTNQLN:00000001","RequestPath":"/hubs/orders","CorrelationId":"8c7ea3e7-d99d-434a-a63f-a813159382c4"}
{"@t":"2026-01-18T12:25:41.7286734Z","@mt":"Client disconnected: {ConnectionId}","@tr":"1842e8897642e6831492fa0f51998b6f","@sp":"635e8fbcdd33e8d8","ConnectionId":"z1vtfGrlA9GWXqLhKDRczA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"z1vtfGrlA9GWXqLhKDRczA","RequestId":"0HNIMHIKTNQLN:00000001","RequestPath":"/hubs/orders","CorrelationId":"8c7ea3e7-d99d-434a-a63f-a813159382c4"}
{"@t":"2026-01-18T12:25:41.7401969Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1842e8897642e6831492fa0f51998b6f","@sp":"635e8fbcdd33e8d8","Method":"GET","Path":"/hubs/orders","Query":"?id=IsnMbkpMVEkd6FAulAsHxQ","StatusCode":101,"Duration":356.2052,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLN:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQLN"}
{"@t":"2026-01-18T12:25:41.7728421Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"52b22193ae043186c26d5f94ca167440","@sp":"3ffcb343a43e565c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:25:41.7725527Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:41.8225598Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"52b22193ae043186c26d5f94ca167440","@sp":"3ffcb343a43e565c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":49.9233,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:41.8352735Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"33d7ba9dcb5df6acf744784c6645a573","@sp":"eb4e98554d71e43a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:25:41.8352187Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLO:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQLO"}
{"@t":"2026-01-18T12:25:41.8394620Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"33d7ba9dcb5df6acf744784c6645a573","@sp":"eb4e98554d71e43a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":4.1867,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLO:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQLO"}
{"@t":"2026-01-18T12:25:41.8437250Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bde2af5faf954cf99ea75415dc9c8cb5","@sp":"d5621c9163ec4c53","Method":"GET","Path":"/hubs/orders","Query":"?id=y2tW9WMtLT_JSZJTqFn1qA","Time":"2026-01-18T12:25:41.8436394Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLP:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQLP"}
{"@t":"2026-01-18T12:25:41.8726130Z","@mt":"Client connected: {ConnectionId}","@tr":"bde2af5faf954cf99ea75415dc9c8cb5","@sp":"d5621c9163ec4c53","ConnectionId":"tLQj0OkQ48PJ1XNr44_f3A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"tLQj0OkQ48PJ1XNr44_f3A","RequestId":"0HNIMHIKTNQLP:00000001","RequestPath":"/hubs/orders","CorrelationId":"f1a47d61-b1ae-43da-b2d6-5337d1fe7203"}
{"@t":"2026-01-18T12:25:45.0392669Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f4b0b5a885f37b5232514ee47d8a3582","@sp":"2bf0b6588f9ee90b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T12:25:45.0392042Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:45.1083370Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"f4b0b5a885f37b5232514ee47d8a3582","@sp":"2bf0b6588f9ee90b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":69.0299,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000007","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:45.1232690Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"937c0d92c290cd135f9af4a66b564f57","@sp":"f2d999b089e2c1a9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:25:45.1232238Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:45.1879184Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"937c0d92c290cd135f9af4a66b564f57","@sp":"f2d999b089e2c1a9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":64.4847,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:47.9506380Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"937791219f571caf5aad91b8a49eed2a","@sp":"492b65359214ad74","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T12:25:47.9505757Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:47.9806401Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"937791219f571caf5aad91b8a49eed2a","@sp":"492b65359214ad74","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":29.9965,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:48.0045297Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8b2fd0829d22f95089c2145a5a9dd73a","@sp":"aceddf284ff27766","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:25:48.0044097Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:48.0640379Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8b2fd0829d22f95089c2145a5a9dd73a","@sp":"aceddf284ff27766","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":59.5558,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:52.9015547Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bd3bc18b6e50db87b2e68d6d7b5d30b9","@sp":"b6d496a567cdaf70","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:25:52.9014511Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:52.9691185Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bd3bc18b6e50db87b2e68d6d7b5d30b9","@sp":"b6d496a567cdaf70","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":67.529,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:53.1830603Z","@mt":"Client disconnected: {ConnectionId}","@tr":"bde2af5faf954cf99ea75415dc9c8cb5","@sp":"d5621c9163ec4c53","ConnectionId":"tLQj0OkQ48PJ1XNr44_f3A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"tLQj0OkQ48PJ1XNr44_f3A","RequestId":"0HNIMHIKTNQLP:00000001","RequestPath":"/hubs/orders","CorrelationId":"f1a47d61-b1ae-43da-b2d6-5337d1fe7203"}
{"@t":"2026-01-18T12:25:53.1999719Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"67404e40609d73c8f48abf2f03e81c87","@sp":"42f6e1f49b2e3565","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:25:53.1998943Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:53.2475471Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bde2af5faf954cf99ea75415dc9c8cb5","@sp":"d5621c9163ec4c53","Method":"GET","Path":"/hubs/orders","Query":"?id=y2tW9WMtLT_JSZJTqFn1qA","StatusCode":101,"Duration":11403.7742,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLP:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQLP"}
{"@t":"2026-01-18T12:25:53.3726943Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"67404e40609d73c8f48abf2f03e81c87","@sp":"42f6e1f49b2e3565","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":172.6065,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:55.5107543Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9561f2a5ae9a960777f7396cd31099a2","@sp":"86c731cd077cd3b8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:25:55.5105143Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:55.7076415Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9561f2a5ae9a960777f7396cd31099a2","@sp":"86c731cd077cd3b8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":197.0509,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:55.7823888Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9561f2a5ae9a960777f7396cd31099a2","@sp":"3371ab016091f975","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:25:55.7822185Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLQ:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQLQ"}
{"@t":"2026-01-18T12:25:55.7932347Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9561f2a5ae9a960777f7396cd31099a2","@sp":"3371ab016091f975","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":10.9424,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLQ:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQLQ"}
{"@t":"2026-01-18T12:25:55.8157584Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9561f2a5ae9a960777f7396cd31099a2","@sp":"3b6e89341e05e112","Method":"GET","Path":"/hubs/orders","Query":"?id=sowzEBkVtUd5jutAwszqzg","Time":"2026-01-18T12:25:55.8156554Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLR:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQLR"}
{"@t":"2026-01-18T12:25:55.8309782Z","@mt":"Client connected: {ConnectionId}","@tr":"9561f2a5ae9a960777f7396cd31099a2","@sp":"3b6e89341e05e112","ConnectionId":"781Nl5KwSFlXk0zcZsqqLg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"781Nl5KwSFlXk0zcZsqqLg","RequestId":"0HNIMHIKTNQLR:00000001","RequestPath":"/hubs/orders","CorrelationId":"fa221c0b-9a57-4dfb-b967-afc6c257a5e9"}
{"@t":"2026-01-18T12:25:55.8529578Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"781Nl5KwSFlXk0zcZsqqLg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"781Nl5KwSFlXk0zcZsqqLg","RequestId":"0HNIMHIKTNQLR:00000001","RequestPath":"/hubs/orders","CorrelationId":"fa221c0b-9a57-4dfb-b967-afc6c257a5e9"}
{"@t":"2026-01-18T12:25:55.8681831Z","@mt":"Client disconnected: {ConnectionId}","@tr":"9561f2a5ae9a960777f7396cd31099a2","@sp":"3b6e89341e05e112","ConnectionId":"781Nl5KwSFlXk0zcZsqqLg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"781Nl5KwSFlXk0zcZsqqLg","RequestId":"0HNIMHIKTNQLR:00000001","RequestPath":"/hubs/orders","CorrelationId":"fa221c0b-9a57-4dfb-b967-afc6c257a5e9"}
{"@t":"2026-01-18T12:25:55.8852536Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9561f2a5ae9a960777f7396cd31099a2","@sp":"3b6e89341e05e112","Method":"GET","Path":"/hubs/orders","Query":"?id=sowzEBkVtUd5jutAwszqzg","StatusCode":101,"Duration":69.5269,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLR:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQLR"}
{"@t":"2026-01-18T12:25:55.9253276Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0007bdaf80fe20e1abd2a670c9f51a10","@sp":"bd2bfd1f6dcafab9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:25:55.9252297Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:55.9692310Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0007bdaf80fe20e1abd2a670c9f51a10","@sp":"bd2bfd1f6dcafab9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":43.9244,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:25:55.9862668Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ed8cf5329af6d37a8c7d13c98df77294","@sp":"a18ce7303f25da39","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:25:55.9861598Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLS:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQLS"}
{"@t":"2026-01-18T12:25:55.9900344Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ed8cf5329af6d37a8c7d13c98df77294","@sp":"a18ce7303f25da39","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":3.8238,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLS:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQLS"}
{"@t":"2026-01-18T12:25:55.9979069Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3960a81ccfbf4816752a7155fc0aecb6","@sp":"49aaeb6effb85787","Method":"GET","Path":"/hubs/orders","Query":"?id=9pwOxlx1_2RhVmcaIZLrVQ","Time":"2026-01-18T12:25:55.9976801Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLT:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQLT"}
{"@t":"2026-01-18T12:25:56.0317291Z","@mt":"Client connected: {ConnectionId}","@tr":"3960a81ccfbf4816752a7155fc0aecb6","@sp":"49aaeb6effb85787","ConnectionId":"2d2YvQQm5cLTaRLOHK7FDQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"2d2YvQQm5cLTaRLOHK7FDQ","RequestId":"0HNIMHIKTNQLT:00000001","RequestPath":"/hubs/orders","CorrelationId":"c4d54ebc-4f7f-4481-86a7-2e560ffbd9e6"}
{"@t":"2026-01-18T12:25:56.0350067Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"2d2YvQQm5cLTaRLOHK7FDQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"2d2YvQQm5cLTaRLOHK7FDQ","RequestId":"0HNIMHIKTNQLT:00000001","RequestPath":"/hubs/orders","CorrelationId":"c4d54ebc-4f7f-4481-86a7-2e560ffbd9e6"}
{"@t":"2026-01-18T12:26:01.4820479Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f78cc377adfe336c7313b401fb1869bc","@sp":"1d9ba6331ee4e109","Method":"GET","Path":"/api/admin/orders/7","Query":"","Time":"2026-01-18T12:26:01.4819885Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000F","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:01.5775172Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"f78cc377adfe336c7313b401fb1869bc","@sp":"1d9ba6331ee4e109","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b596ac18-5cb1-4152-b5d9-477c7b7d9f62","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.API)","RequestId":"0HNIMHIKTNQLL:0000000F","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNIMHIKTNQLL","CorrelationId":"cc45687d-ae34-4e26-8c86-0a09e5f585fd"}
{"@t":"2026-01-18T12:26:01.7885325Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f78cc377adfe336c7313b401fb1869bc","@sp":"1d9ba6331ee4e109","Method":"GET","Path":"/api/admin/orders/7","Query":"","StatusCode":200,"Duration":306.4748,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000000F","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:04.6978524Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8f0ce635fd09beb645e954b36020bad3","@sp":"cc2f00288cea1df4","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:26:04.6977736Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000010","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:04.7155325Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"8f0ce635fd09beb645e954b36020bad3","@sp":"cc2f00288cea1df4","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":17.6971,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000010","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:04.9527037Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3e592f5a5a08e47e1702030f81431077","@sp":"22d7f90a74eee0c5","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:26:04.9526201Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000011","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:05.1013023Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"3e592f5a5a08e47e1702030f81431077","@sp":"22d7f90a74eee0c5","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":148.6234,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000011","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:06.4913239Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bee8fe054b2a17db7d475015da4a2946","@sp":"59d6962011321aea","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:26:06.4912746Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000012","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:06.4970636Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"bee8fe054b2a17db7d475015da4a2946","@sp":"59d6962011321aea","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":5.715,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000012","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:07.1066209Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6aadf749b6509b29198871dfa16880d9","@sp":"6ac087b8e61f43f3","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:26:07.1065665Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000013","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:07.1111397Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"6aadf749b6509b29198871dfa16880d9","@sp":"6ac087b8e61f43f3","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":4.5033,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000013","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:10.3457678Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8a0fd33031891b02249878119c3c638f","@sp":"c7e46d3c48427d57","Method":"GET","Path":"/api/admin/orders/5","Query":"","Time":"2026-01-18T12:26:10.3457243Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000014","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:10.3717388Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8a0fd33031891b02249878119c3c638f","@sp":"c7e46d3c48427d57","Method":"GET","Path":"/api/admin/orders/5","Query":"","StatusCode":200,"Duration":25.9684,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000014","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:11.8810887Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dbde5de0be11fedc65cc8bb9dc34ac4a","@sp":"4747cdeb181abc13","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:26:11.8810484Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000015","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:11.9087481Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dbde5de0be11fedc65cc8bb9dc34ac4a","@sp":"4747cdeb181abc13","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":27.6291,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000015","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:12.2770120Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"eaa1d3dbf6a47300ff34cdbc7d9fbed5","@sp":"e462efa606d9994b","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:12.2769681Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000016","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:12.2844541Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"eaa1d3dbf6a47300ff34cdbc7d9fbed5","@sp":"e462efa606d9994b","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":7.4464,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000016","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:14.8273258Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"63725a24bdde08af2911b3fcedd645fc","@sp":"b964c7ef3082dcd3","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:14.8272615Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000017","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:14.8343483Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"63725a24bdde08af2911b3fcedd645fc","@sp":"b964c7ef3082dcd3","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":7.0261,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000017","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:15.0070965Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"559b3637ff3bd4253cb19ebcf3e5e683","@sp":"0f1fa94213d42ce2","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:15.0070409Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000018","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:15.0134180Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"559b3637ff3bd4253cb19ebcf3e5e683","@sp":"0f1fa94213d42ce2","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":6.3193,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000018","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:15.1911540Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"60b1a6b64ad89e682106a99d78bd1a0e","@sp":"4d0d497269b06e9c","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:15.1911211Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000019","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:15.1977869Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"60b1a6b64ad89e682106a99d78bd1a0e","@sp":"4d0d497269b06e9c","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":6.6286,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000019","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:15.3975878Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"08ecd6a6f9b43ad2257e66c32ff7f293","@sp":"5c4382ac50905841","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:15.3975340Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001A","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:15.4053642Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"08ecd6a6f9b43ad2257e66c32ff7f293","@sp":"5c4382ac50905841","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":7.7925,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001A","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:15.5847259Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fce81a83e7442f9b341da0a0bde05fcb","@sp":"58711ee9166fbd62","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:15.5846742Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001B","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:15.5999186Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"fce81a83e7442f9b341da0a0bde05fcb","@sp":"58711ee9166fbd62","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":15.2108,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001B","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:15.8016423Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"734e20da4581aac491ff9829561592ef","@sp":"9b27f09a0366c555","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:15.8016026Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001C","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:15.8071352Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"734e20da4581aac491ff9829561592ef","@sp":"9b27f09a0366c555","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":5.4978,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001C","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.0440562Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"981d9540c69c0fb0931d3798425d7b5f","@sp":"641757247b85c18b","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:16.0440251Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.0487217Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"981d9540c69c0fb0931d3798425d7b5f","@sp":"641757247b85c18b","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.6655,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.2203672Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2874cc2c57856a4e900cc30aef1bc936","@sp":"af403b26d09193ea","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:16.2203264Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001E","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.2255482Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"2874cc2c57856a4e900cc30aef1bc936","@sp":"af403b26d09193ea","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":5.1661,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001E","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.3896469Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c5166cded5ac37008e849df55c9f6d94","@sp":"b0778ca05e8ca7ae","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:16.3895950Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001F","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.3948250Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"c5166cded5ac37008e849df55c9f6d94","@sp":"b0778ca05e8ca7ae","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":5.1728,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000001F","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.5578548Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6e3c840e5bd2016092d768b537bcd69c","@sp":"6d55f74a0d8a9897","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:16.5578162Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000020","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.5633604Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"6e3c840e5bd2016092d768b537bcd69c","@sp":"6d55f74a0d8a9897","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":5.4971,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000020","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.7209785Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0fc812bc16a1f5c57b144b167baa71b7","@sp":"a30329a3b7a58154","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:16.7209306Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000021","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.7479176Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"0fc812bc16a1f5c57b144b167baa71b7","@sp":"a30329a3b7a58154","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":26.9257,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000021","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.9290226Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4b16fdbd04eecba55354268cab16ab71","@sp":"b158e63d2cdb4037","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:16.9209059Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000022","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:16.9668583Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"4b16fdbd04eecba55354268cab16ab71","@sp":"b158e63d2cdb4037","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":45.9133,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000022","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:17.0636537Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"560f630769301eb666dce248199dceba","@sp":"c7a4282b6da220cc","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:17.0636124Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000023","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:17.0749733Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"560f630769301eb666dce248199dceba","@sp":"c7a4282b6da220cc","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":11.2857,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000023","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:17.2441995Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cf08d172b632114a371a99813ddf9d94","@sp":"9e90937bf8a141df","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:17.2441628Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000024","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:17.2524055Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"cf08d172b632114a371a99813ddf9d94","@sp":"9e90937bf8a141df","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":8.2048,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000024","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:17.4181566Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"69e7b96d26ccf8a61ebd9a0f3d51074f","@sp":"790af0ed621e91f9","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:17.4180907Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000025","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:17.4229029Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"69e7b96d26ccf8a61ebd9a0f3d51074f","@sp":"790af0ed621e91f9","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.7739,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000025","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:21.4765083Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"51c889b3405b53e9eee8917766787c35","@sp":"fa1862470cb51c90","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:26:21.4764677Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000026","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:21.5181135Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"51c889b3405b53e9eee8917766787c35","@sp":"fa1862470cb51c90","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":41.5682,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000026","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:21.5885542Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"51c889b3405b53e9eee8917766787c35","@sp":"d1bcd09786d4a0f4","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:26:21.5885032Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLU:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQLU"}
{"@t":"2026-01-18T12:26:21.5948865Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"51c889b3405b53e9eee8917766787c35","@sp":"d1bcd09786d4a0f4","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":6.3094,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLU:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQLU"}
{"@t":"2026-01-18T12:26:21.6026038Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"51c889b3405b53e9eee8917766787c35","@sp":"fdf4a3d41dcba5c5","Method":"GET","Path":"/hubs/orders","Query":"?id=Z7lfNvz5iBIDiOJupkBxsg","Time":"2026-01-18T12:26:21.6025646Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLV:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQLV"}
{"@t":"2026-01-18T12:26:21.6082401Z","@mt":"Client connected: {ConnectionId}","@tr":"51c889b3405b53e9eee8917766787c35","@sp":"fdf4a3d41dcba5c5","ConnectionId":"-Of-bU_cqz2TYFDINpSs0Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"-Of-bU_cqz2TYFDINpSs0Q","RequestId":"0HNIMHIKTNQLV:00000001","RequestPath":"/hubs/orders","CorrelationId":"85d33aa6-8784-43fd-aee9-53a00cd180e6"}
{"@t":"2026-01-18T12:26:21.6113123Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"-Of-bU_cqz2TYFDINpSs0Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"-Of-bU_cqz2TYFDINpSs0Q","RequestId":"0HNIMHIKTNQLV:00000001","RequestPath":"/hubs/orders","CorrelationId":"85d33aa6-8784-43fd-aee9-53a00cd180e6"}
{"@t":"2026-01-18T12:26:21.7097465Z","@mt":"Client disconnected: {ConnectionId}","@tr":"51c889b3405b53e9eee8917766787c35","@sp":"fdf4a3d41dcba5c5","ConnectionId":"-Of-bU_cqz2TYFDINpSs0Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"-Of-bU_cqz2TYFDINpSs0Q","RequestId":"0HNIMHIKTNQLV:00000001","RequestPath":"/hubs/orders","CorrelationId":"85d33aa6-8784-43fd-aee9-53a00cd180e6"}
{"@t":"2026-01-18T12:26:21.7097982Z","@mt":"Client disconnected: {ConnectionId}","@tr":"3960a81ccfbf4816752a7155fc0aecb6","@sp":"49aaeb6effb85787","ConnectionId":"2d2YvQQm5cLTaRLOHK7FDQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"2d2YvQQm5cLTaRLOHK7FDQ","RequestId":"0HNIMHIKTNQLT:00000001","RequestPath":"/hubs/orders","CorrelationId":"c4d54ebc-4f7f-4481-86a7-2e560ffbd9e6"}
{"@t":"2026-01-18T12:26:21.7907738Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"51c889b3405b53e9eee8917766787c35","@sp":"fdf4a3d41dcba5c5","Method":"GET","Path":"/hubs/orders","Query":"?id=Z7lfNvz5iBIDiOJupkBxsg","StatusCode":101,"Duration":188.1355,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLV:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQLV"}
{"@t":"2026-01-18T12:26:21.8072383Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3960a81ccfbf4816752a7155fc0aecb6","@sp":"49aaeb6effb85787","Method":"GET","Path":"/hubs/orders","Query":"?id=9pwOxlx1_2RhVmcaIZLrVQ","StatusCode":101,"Duration":25809.3742,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLT:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQLT"}
{"@t":"2026-01-18T12:26:22.0016247Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ce3817e8e5c154ad284eb62964db0098","@sp":"db20079dad569cc3","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:26:22.0015885Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000027","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:22.0509059Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ce3817e8e5c154ad284eb62964db0098","@sp":"db20079dad569cc3","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":49.2362,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000027","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:22.0747780Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"442daea621285bbed1c44549f54b2ed0","@sp":"15dbee7bb7064837","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:26:22.0746207Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM0:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQM0"}
{"@t":"2026-01-18T12:26:22.0815657Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"442daea621285bbed1c44549f54b2ed0","@sp":"15dbee7bb7064837","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":6.7818,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM0:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQM0"}
{"@t":"2026-01-18T12:26:22.0879389Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3b7cb9f1ec184cf31de835f8f2046aba","@sp":"b3bfdb9dbb3c2481","Method":"GET","Path":"/hubs/orders","Query":"?id=ufPOrQXMMCeDLQriqyYiJA","Time":"2026-01-18T12:26:22.0878885Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM1:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQM1"}
{"@t":"2026-01-18T12:26:22.0980736Z","@mt":"Client connected: {ConnectionId}","@tr":"3b7cb9f1ec184cf31de835f8f2046aba","@sp":"b3bfdb9dbb3c2481","ConnectionId":"Tto3vMnbZroW3UDEYIAWoQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Tto3vMnbZroW3UDEYIAWoQ","RequestId":"0HNIMHIKTNQM1:00000001","RequestPath":"/hubs/orders","CorrelationId":"350fb5a0-b8e4-4f23-9872-8deb025d6520"}
{"@t":"2026-01-18T12:26:22.1023052Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"Tto3vMnbZroW3UDEYIAWoQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Tto3vMnbZroW3UDEYIAWoQ","RequestId":"0HNIMHIKTNQM1:00000001","RequestPath":"/hubs/orders","CorrelationId":"350fb5a0-b8e4-4f23-9872-8deb025d6520"}
{"@t":"2026-01-18T12:26:25.0239985Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2d14f094ddc9ed043fab2cb3afca1b71","@sp":"601f4da8af0e3bc9","Method":"GET","Path":"/api/admin/orders/5","Query":"","Time":"2026-01-18T12:26:25.0236383Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000028","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:25.0561433Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2d14f094ddc9ed043fab2cb3afca1b71","@sp":"601f4da8af0e3bc9","Method":"GET","Path":"/api/admin/orders/5","Query":"","StatusCode":200,"Duration":32.4741,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000028","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:31.0670573Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"67a201358919a8c1037116ffaca2e44d","@sp":"42170820a3587d63","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:31.0669971Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000029","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:31.1253350Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"67a201358919a8c1037116ffaca2e44d","@sp":"42170820a3587d63","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":58.2648,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000029","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:32.8281755Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"940bf9211764d1fe8752d6c7da739563","@sp":"6b46da835fab82c4","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:32.8281426Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002A","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:32.8330158Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"940bf9211764d1fe8752d6c7da739563","@sp":"6b46da835fab82c4","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.8451,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002A","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:34.2077345Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a7860ce25b328ce17237c48d6ddeef3a","@sp":"b3401c409104b143","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:34.2076936Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002B","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:34.2144486Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"a7860ce25b328ce17237c48d6ddeef3a","@sp":"b3401c409104b143","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":6.7219,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002B","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:34.3916980Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a9410a082712aaef7df0261a2c7f9e08","@sp":"4bfd8a136112a1fc","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:34.3911303Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002C","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:34.3992977Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"a9410a082712aaef7df0261a2c7f9e08","@sp":"4bfd8a136112a1fc","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":8.1116,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002C","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:34.5955333Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4b93b4ad45e9f267f02627b37b5c7347","@sp":"98ac0bc9875a68cf","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:34.5954946Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:34.6026864Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"4b93b4ad45e9f267f02627b37b5c7347","@sp":"98ac0bc9875a68cf","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":7.1248,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:34.8360129Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"68006f710ece2e36f898365e6076c2d9","@sp":"d6a0804dc0b5afff","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:34.8359545Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002E","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:34.8540589Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"68006f710ece2e36f898365e6076c2d9","@sp":"d6a0804dc0b5afff","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":18.0301,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002E","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:40.2048589Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"68b33c3f3ac1f3cc8aa3f758f3f00bf3","@sp":"501f41480ef34873","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:40.2047928Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002F","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:40.2100877Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"68b33c3f3ac1f3cc8aa3f758f3f00bf3","@sp":"501f41480ef34873","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":5.2438,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:0000002F","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:40.4323438Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3d070b65da51d77a436cf5d974a45cf8","@sp":"8ab205952e432bad","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:26:40.4323052Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000030","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:40.4371360Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"3d070b65da51d77a436cf5d974a45cf8","@sp":"8ab205952e432bad","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.7739,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000030","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:59.7998002Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"112fce433307c29ac969ae0fe9c44767","@sp":"f7168832b9b39fb2","Method":"GET","Path":"/api/admin/orders/1","Query":"","Time":"2026-01-18T12:26:59.7997644Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000031","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:26:59.8210991Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"112fce433307c29ac969ae0fe9c44767","@sp":"f7168832b9b39fb2","Method":"GET","Path":"/api/admin/orders/1","Query":"","StatusCode":200,"Duration":21.2411,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000031","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:27:01.8361007Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cc43daa1a407aa8c7bc220598788e296","@sp":"8080e4e3f652e11a","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:27:01.8360283Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000032","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:27:01.8424686Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"cc43daa1a407aa8c7bc220598788e296","@sp":"8080e4e3f652e11a","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":400,"Duration":6.3628,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQLL:00000032","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQLL"}
{"@t":"2026-01-18T12:27:32.7844861Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e9b15167ab84be5b28b0ec970c7e534f","@sp":"fef0a4bdb0e917c1","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:27:32.7844337Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM2:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQM2"}
{"@t":"2026-01-18T12:27:32.7910178Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"e9b15167ab84be5b28b0ec970c7e534f","@sp":"fef0a4bdb0e917c1","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":400,"Duration":6.5162,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM2:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQM2"}
{"@t":"2026-01-18T12:27:33.0059877Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"244bd71510d2a7fc40688974786b6f9c","@sp":"0fff2090b44964e0","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:27:33.0059507Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM2:00000002","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQM2"}
{"@t":"2026-01-18T12:27:33.0378525Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"244bd71510d2a7fc40688974786b6f9c","@sp":"0fff2090b44964e0","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":400,"Duration":31.8714,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM2:00000002","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQM2"}
{"@t":"2026-01-18T12:27:33.2103135Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cbb7f02f068f11c3522e2abdd1fa44b6","@sp":"bba5448b63241930","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:27:33.2102624Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM2:00000003","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQM2"}
{"@t":"2026-01-18T12:27:33.2161056Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"cbb7f02f068f11c3522e2abdd1fa44b6","@sp":"bba5448b63241930","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":400,"Duration":5.7619,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM2:00000003","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQM2"}
{"@t":"2026-01-18T12:27:34.6401970Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"15d6360c5f805f63c06db3eb1b2382ca","@sp":"2337900f2e7866d3","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:27:34.6401478Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM2:00000004","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQM2"}
{"@t":"2026-01-18T12:27:34.6456351Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"15d6360c5f805f63c06db3eb1b2382ca","@sp":"2337900f2e7866d3","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":400,"Duration":5.4077,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM2:00000004","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQM2"}
{"@t":"2026-01-18T12:27:34.8013733Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3abb9d38584617faa4da2fb018952278","@sp":"6785a8c7b1dd5ee4","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:27:34.8013302Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM2:00000005","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQM2"}
{"@t":"2026-01-18T12:27:34.8067650Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"3abb9d38584617faa4da2fb018952278","@sp":"6785a8c7b1dd5ee4","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":400,"Duration":5.3856,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM2:00000005","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQM2"}
{"@t":"2026-01-18T12:27:48.3956256Z","@mt":"Client disconnected: {ConnectionId}","@tr":"3b7cb9f1ec184cf31de835f8f2046aba","@sp":"b3bfdb9dbb3c2481","ConnectionId":"Tto3vMnbZroW3UDEYIAWoQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Tto3vMnbZroW3UDEYIAWoQ","RequestId":"0HNIMHIKTNQM1:00000001","RequestPath":"/hubs/orders","CorrelationId":"350fb5a0-b8e4-4f23-9872-8deb025d6520"}
{"@t":"2026-01-18T12:27:48.3977144Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3b7cb9f1ec184cf31de835f8f2046aba","@sp":"b3bfdb9dbb3c2481","Method":"GET","Path":"/hubs/orders","Query":"?id=ufPOrQXMMCeDLQriqyYiJA","StatusCode":101,"Duration":86309.7628,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM1:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQM1"}
{"@t":"2026-01-18T12:27:51.9569585Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3b78260c77074a9f57a56f1c0b03359f","@sp":"5b6b8b69a7763c7d","Method":"POST","Path":"/api/auth/login","Query":"","Time":"2026-01-18T12:27:51.9569223Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:27:52.2795288Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3b78260c77074a9f57a56f1c0b03359f","@sp":"5b6b8b69a7763c7d","Method":"POST","Path":"/api/auth/login","Query":"","StatusCode":200,"Duration":322.5512,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:27:52.2911943Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4661d034aecca3c0b4602dd159bbe119","@sp":"7446cd31c916b4b5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:27:52.2911383Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:27:52.3206155Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4661d034aecca3c0b4602dd159bbe119","@sp":"7446cd31c916b4b5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":29.3942,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:27:52.5142676Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"170c40f60eabc19815d75c4a006a3bd3","@sp":"07f70020f08e9c6e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:27:52.5142097Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:27:52.5434172Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"170c40f60eabc19815d75c4a006a3bd3","@sp":"07f70020f08e9c6e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":29.0367,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:27:54.7218108Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"48c20fd3297ce89ef8a5237d6de843d8","@sp":"519899b8e749f8d5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:27:54.7217558Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:27:54.7846414Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"48c20fd3297ce89ef8a5237d6de843d8","@sp":"519899b8e749f8d5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":62.7249,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:27:54.7976836Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"48c20fd3297ce89ef8a5237d6de843d8","@sp":"2c29caaec1649548","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:27:54.7976495Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM4:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQM4"}
{"@t":"2026-01-18T12:27:54.8014462Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"48c20fd3297ce89ef8a5237d6de843d8","@sp":"2c29caaec1649548","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":3.7376,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM4:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQM4"}
{"@t":"2026-01-18T12:27:54.8061302Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"48c20fd3297ce89ef8a5237d6de843d8","@sp":"b7e138fd5d077606","Method":"GET","Path":"/hubs/orders","Query":"?id=18S3-AzVqN4-UXhm7FYyhA","Time":"2026-01-18T12:27:54.8060481Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM5:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQM5"}
{"@t":"2026-01-18T12:27:54.8147438Z","@mt":"Client connected: {ConnectionId}","@tr":"48c20fd3297ce89ef8a5237d6de843d8","@sp":"b7e138fd5d077606","ConnectionId":"Y5aInieYXLEQvJZpqBuBcg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Y5aInieYXLEQvJZpqBuBcg","RequestId":"0HNIMHIKTNQM5:00000001","RequestPath":"/hubs/orders","CorrelationId":"e1d9ed25-8fff-4d88-8618-9b03bb8388c5"}
{"@t":"2026-01-18T12:27:54.8171894Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"Y5aInieYXLEQvJZpqBuBcg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Y5aInieYXLEQvJZpqBuBcg","RequestId":"0HNIMHIKTNQM5:00000001","RequestPath":"/hubs/orders","CorrelationId":"e1d9ed25-8fff-4d88-8618-9b03bb8388c5"}
{"@t":"2026-01-18T12:27:54.8266579Z","@mt":"Client disconnected: {ConnectionId}","@tr":"48c20fd3297ce89ef8a5237d6de843d8","@sp":"b7e138fd5d077606","ConnectionId":"Y5aInieYXLEQvJZpqBuBcg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Y5aInieYXLEQvJZpqBuBcg","RequestId":"0HNIMHIKTNQM5:00000001","RequestPath":"/hubs/orders","CorrelationId":"e1d9ed25-8fff-4d88-8618-9b03bb8388c5"}
{"@t":"2026-01-18T12:27:54.8293070Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"48c20fd3297ce89ef8a5237d6de843d8","@sp":"b7e138fd5d077606","Method":"GET","Path":"/hubs/orders","Query":"?id=18S3-AzVqN4-UXhm7FYyhA","StatusCode":101,"Duration":23.2207,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM5:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQM5"}
{"@t":"2026-01-18T12:27:54.8572057Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"89edd8d3d083079ad3b146bd4c9e9882","@sp":"a3a093e117028757","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:27:54.8571613Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:27:54.9260759Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"89edd8d3d083079ad3b146bd4c9e9882","@sp":"a3a093e117028757","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":68.8122,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:27:55.0019948Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"753db46b56f81980ff675e13b04542d7","@sp":"59f13edb9d7e3421","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:27:55.0018931Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM6:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQM6"}
{"@t":"2026-01-18T12:27:55.0096790Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"753db46b56f81980ff675e13b04542d7","@sp":"59f13edb9d7e3421","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":7.6783,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM6:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQM6"}
{"@t":"2026-01-18T12:27:55.0184784Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a42b3945b4ad2e781c31d0700123af32","@sp":"22ffdb83b56c3a50","Method":"GET","Path":"/hubs/orders","Query":"?id=6LzoTT41h112hLMwuFx_BA","Time":"2026-01-18T12:27:55.0184327Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM7:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQM7"}
{"@t":"2026-01-18T12:27:55.0237923Z","@mt":"Client connected: {ConnectionId}","@tr":"a42b3945b4ad2e781c31d0700123af32","@sp":"22ffdb83b56c3a50","ConnectionId":"eYKyo3uy5tL9Dz5dyhD27w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"eYKyo3uy5tL9Dz5dyhD27w","RequestId":"0HNIMHIKTNQM7:00000001","RequestPath":"/hubs/orders","CorrelationId":"eaa7a7aa-8e74-41fa-8be4-ec926ef5628f"}
{"@t":"2026-01-18T12:27:55.0258794Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"eYKyo3uy5tL9Dz5dyhD27w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"eYKyo3uy5tL9Dz5dyhD27w","RequestId":"0HNIMHIKTNQM7:00000001","RequestPath":"/hubs/orders","CorrelationId":"eaa7a7aa-8e74-41fa-8be4-ec926ef5628f"}
{"@t":"2026-01-18T12:27:58.0410660Z","@mt":"Client disconnected: {ConnectionId}","@tr":"a42b3945b4ad2e781c31d0700123af32","@sp":"22ffdb83b56c3a50","ConnectionId":"eYKyo3uy5tL9Dz5dyhD27w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"eYKyo3uy5tL9Dz5dyhD27w","RequestId":"0HNIMHIKTNQM7:00000001","RequestPath":"/hubs/orders","CorrelationId":"eaa7a7aa-8e74-41fa-8be4-ec926ef5628f"}
{"@t":"2026-01-18T12:27:58.0442816Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a42b3945b4ad2e781c31d0700123af32","@sp":"22ffdb83b56c3a50","Method":"GET","Path":"/hubs/orders","Query":"?id=6LzoTT41h112hLMwuFx_BA","StatusCode":101,"Duration":3025.6858,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM7:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQM7"}
{"@t":"2026-01-18T12:28:03.2478684Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8b0ab3718e29ad5fc96d83f10ed79ef9","@sp":"c4b4fa82178ee4f3","Method":"POST","Path":"/api/auth/login","Query":"","Time":"2026-01-18T12:28:03.2478220Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:03.5131012Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8b0ab3718e29ad5fc96d83f10ed79ef9","@sp":"c4b4fa82178ee4f3","Method":"POST","Path":"/api/auth/login","Query":"","StatusCode":200,"Duration":265.195,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000006","RequestPath":"/api/auth/login","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:03.5314256Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"be6aa3bea20cf8a7ffa6d6ed47cbe40a","@sp":"5c1c019545842bf6","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:28:03.5310882Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:03.5713368Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"be6aa3bea20cf8a7ffa6d6ed47cbe40a","@sp":"5c1c019545842bf6","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":40.2005,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:03.8316769Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"27a1a17604e368645b42aea9e327d68a","@sp":"02a44c22c76352f9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:28:03.8316276Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:04.0354040Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"27a1a17604e368645b42aea9e327d68a","@sp":"02a44c22c76352f9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":203.7145,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:06.2250175Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"51728b39bb5af58b3a6e4a74eebea966","@sp":"d7385b3303abdc8f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:28:06.2249563Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:06.2853632Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"51728b39bb5af58b3a6e4a74eebea966","@sp":"d7385b3303abdc8f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":60.314,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:06.3168315Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"51728b39bb5af58b3a6e4a74eebea966","@sp":"e7a69dde241cac80","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:28:06.3167211Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQM8"}
{"@t":"2026-01-18T12:28:06.3302338Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"51728b39bb5af58b3a6e4a74eebea966","@sp":"e7a69dde241cac80","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":13.461,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQM8"}
{"@t":"2026-01-18T12:28:06.3538334Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"51728b39bb5af58b3a6e4a74eebea966","@sp":"38441902bd7238c1","Method":"GET","Path":"/hubs/orders","Query":"?id=C_WWp7CMRWhCVgHsSQ87Ag","Time":"2026-01-18T12:28:06.3537877Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQM9"}
{"@t":"2026-01-18T12:28:06.3786941Z","@mt":"Client connected: {ConnectionId}","@tr":"51728b39bb5af58b3a6e4a74eebea966","@sp":"38441902bd7238c1","ConnectionId":"khcvM23LEebqQAbqTBp3ew","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"khcvM23LEebqQAbqTBp3ew","RequestId":"0HNIMHIKTNQM9:00000001","RequestPath":"/hubs/orders","CorrelationId":"1ea58a6c-248e-4f61-a48a-01801219d70d"}
{"@t":"2026-01-18T12:28:06.3855906Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"khcvM23LEebqQAbqTBp3ew","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"khcvM23LEebqQAbqTBp3ew","RequestId":"0HNIMHIKTNQM9:00000001","RequestPath":"/hubs/orders","CorrelationId":"1ea58a6c-248e-4f61-a48a-01801219d70d"}
{"@t":"2026-01-18T12:28:06.4272595Z","@mt":"Client disconnected: {ConnectionId}","@tr":"51728b39bb5af58b3a6e4a74eebea966","@sp":"38441902bd7238c1","ConnectionId":"khcvM23LEebqQAbqTBp3ew","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"khcvM23LEebqQAbqTBp3ew","RequestId":"0HNIMHIKTNQM9:00000001","RequestPath":"/hubs/orders","CorrelationId":"1ea58a6c-248e-4f61-a48a-01801219d70d"}
{"@t":"2026-01-18T12:28:06.4472866Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"51728b39bb5af58b3a6e4a74eebea966","@sp":"38441902bd7238c1","Method":"GET","Path":"/hubs/orders","Query":"?id=C_WWp7CMRWhCVgHsSQ87Ag","StatusCode":101,"Duration":93.443,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQM9"}
{"@t":"2026-01-18T12:28:06.4537573Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"391a58fb4bb5397885e3146344ce2660","@sp":"70b91218e2de46fb","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:28:06.4536703Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:06.5352666Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"391a58fb4bb5397885e3146344ce2660","@sp":"70b91218e2de46fb","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":81.5491,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:06.5975913Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"654f71707a8ff872aadd5489f4c2ccd8","@sp":"2ac118176903006d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:28:06.5975424Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMA:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMA"}
{"@t":"2026-01-18T12:28:06.6066324Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"654f71707a8ff872aadd5489f4c2ccd8","@sp":"2ac118176903006d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":9.0442,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMA:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMA"}
{"@t":"2026-01-18T12:28:06.6173380Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d4f97cfa6b271d663826f21ab71cb9a9","@sp":"7e1ebc27f9ca46f6","Method":"GET","Path":"/hubs/orders","Query":"?id=I1Ehy5ZdxjPk-IYOqQSscw","Time":"2026-01-18T12:28:06.6172793Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMB:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMB"}
{"@t":"2026-01-18T12:28:06.6225713Z","@mt":"Client connected: {ConnectionId}","@tr":"d4f97cfa6b271d663826f21ab71cb9a9","@sp":"7e1ebc27f9ca46f6","ConnectionId":"wUXxTHEJooVy5NO7HwRPMw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"wUXxTHEJooVy5NO7HwRPMw","RequestId":"0HNIMHIKTNQMB:00000001","RequestPath":"/hubs/orders","CorrelationId":"c2951498-ea96-4e7c-b1de-99223de91244"}
{"@t":"2026-01-18T12:28:06.6257033Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"wUXxTHEJooVy5NO7HwRPMw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"wUXxTHEJooVy5NO7HwRPMw","RequestId":"0HNIMHIKTNQMB:00000001","RequestPath":"/hubs/orders","CorrelationId":"c2951498-ea96-4e7c-b1de-99223de91244"}
{"@t":"2026-01-18T12:28:10.4413011Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"10bbb14b7628af83d73978e0288df56a","@sp":"c161c68670b015b2","Method":"GET","Path":"/api/admin/orders/5","Query":"","Time":"2026-01-18T12:28:10.4412519Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000B","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:10.4618635Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"10bbb14b7628af83d73978e0288df56a","@sp":"c161c68670b015b2","Method":"GET","Path":"/api/admin/orders/5","Query":"","StatusCode":200,"Duration":20.5168,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000B","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:12.1178389Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"99667563db767a5a2fba4ad8af0c465b","@sp":"8b807c74d50f9d97","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:28:12.1177824Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000C","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:12.1238888Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"99667563db767a5a2fba4ad8af0c465b","@sp":"8b807c74d50f9d97","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":6.0671,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000C","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:12.3103431Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"37a303fa5fc683b4d6a6ab71a890f553","@sp":"dd4eac85a46ca2d6","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:28:12.3103021Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:12.3190804Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"37a303fa5fc683b4d6a6ab71a890f553","@sp":"dd4eac85a46ca2d6","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":8.7474,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:12.5278487Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6fee9a3d91e8716631cb0aad55797290","@sp":"2e3dad3a080e2adb","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:28:12.5278166Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000E","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:12.5329316Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"6fee9a3d91e8716631cb0aad55797290","@sp":"2e3dad3a080e2adb","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":5.0838,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000E","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:13.3657428Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ed0d42015442f922837d9962dfeacb9b","@sp":"b53da73f61f17078","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:28:13.3657031Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000F","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:13.3705597Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"ed0d42015442f922837d9962dfeacb9b","@sp":"b53da73f61f17078","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.8136,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000000F","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:13.5793799Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7313025a9621f14b3d55b29f24848349","@sp":"e114cec39505e691","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:28:13.5793352Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000010","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:13.5925153Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"7313025a9621f14b3d55b29f24848349","@sp":"e114cec39505e691","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":13.1515,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000010","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:13.7628985Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"748533b6c27b7ae9b1910c0a91a93894","@sp":"f57531d5dbfaf016","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:28:13.7628308Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000011","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:13.7715256Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"748533b6c27b7ae9b1910c0a91a93894","@sp":"f57531d5dbfaf016","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":8.6188,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000011","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:13.9413270Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0671b9a645c990839b8617a192db269e","@sp":"e1fbc0f49714c73e","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:28:13.9412840Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000012","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:13.9450586Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"0671b9a645c990839b8617a192db269e","@sp":"e1fbc0f49714c73e","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":3.721,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000012","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:14.0939401Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"52f9c8e02f263b4752ede349057a7d47","@sp":"bea245ad9a46e1c2","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:28:14.0939127Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000013","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:14.0980909Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"52f9c8e02f263b4752ede349057a7d47","@sp":"bea245ad9a46e1c2","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.1439,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000013","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:19.0623993Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9e50f2304cd04fb16f2fe830b4cf1c3e","@sp":"f67db33503a72a6d","Method":"GET","Path":"/api/menu/categories","Query":"","Time":"2026-01-18T12:28:19.0622450Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000014","RequestPath":"/api/menu/categories","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:19.3869840Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9e50f2304cd04fb16f2fe830b4cf1c3e","@sp":"f67db33503a72a6d","Method":"GET","Path":"/api/menu/categories","Query":"","StatusCode":200,"Duration":324.654,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000014","RequestPath":"/api/menu/categories","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:19.4188783Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9e50f2304cd04fb16f2fe830b4cf1c3e","@sp":"5e8320850b981bcb","Method":"GET","Path":"/api/menu/items","Query":"","Time":"2026-01-18T12:28:19.4188434Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000015","RequestPath":"/api/menu/items","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:19.5396392Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9e50f2304cd04fb16f2fe830b4cf1c3e","@sp":"5e8320850b981bcb","Method":"GET","Path":"/api/menu/items","Query":"","StatusCode":200,"Duration":120.5684,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000015","RequestPath":"/api/menu/items","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:19.5927984Z","@mt":"Client disconnected: {ConnectionId}","@tr":"d4f97cfa6b271d663826f21ab71cb9a9","@sp":"7e1ebc27f9ca46f6","ConnectionId":"wUXxTHEJooVy5NO7HwRPMw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"wUXxTHEJooVy5NO7HwRPMw","RequestId":"0HNIMHIKTNQMB:00000001","RequestPath":"/hubs/orders","CorrelationId":"c2951498-ea96-4e7c-b1de-99223de91244"}
{"@t":"2026-01-18T12:28:19.5962034Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"161251103c82bb13a2e8e0551baf2f6c","@sp":"2d56fd160f61d846","Method":"GET","Path":"/api/menu/categories","Query":"","Time":"2026-01-18T12:28:19.5961303Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000016","RequestPath":"/api/menu/categories","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:19.5991902Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d4f97cfa6b271d663826f21ab71cb9a9","@sp":"7e1ebc27f9ca46f6","Method":"GET","Path":"/hubs/orders","Query":"?id=I1Ehy5ZdxjPk-IYOqQSscw","StatusCode":101,"Duration":12981.7928,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMB:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMB"}
{"@t":"2026-01-18T12:28:19.6158031Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"161251103c82bb13a2e8e0551baf2f6c","@sp":"2d56fd160f61d846","Method":"GET","Path":"/api/menu/categories","Query":"","StatusCode":200,"Duration":19.6188,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000016","RequestPath":"/api/menu/categories","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:19.6198518Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c214d0d0c839166009cf081ef97c1215","@sp":"9c59309a457a0221","Method":"GET","Path":"/api/menu/items","Query":"","Time":"2026-01-18T12:28:19.6197503Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000017","RequestPath":"/api/menu/items","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:19.6824587Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c214d0d0c839166009cf081ef97c1215","@sp":"9c59309a457a0221","Method":"GET","Path":"/api/menu/items","Query":"","StatusCode":200,"Duration":62.6557,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000017","RequestPath":"/api/menu/items","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:21.6110692Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bbf71f905e51947ce437eb463c8d0e78","@sp":"62b5017477876b1d","Method":"POST","Path":"/api/menu/items/2/toggle-availability","Query":"","Time":"2026-01-18T12:28:21.6110072Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000018","RequestPath":"/api/menu/items/2/toggle-availability","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:21.8170490Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bbf71f905e51947ce437eb463c8d0e78","@sp":"62b5017477876b1d","Method":"POST","Path":"/api/menu/items/2/toggle-availability","Query":"","StatusCode":200,"Duration":205.9924,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000018","RequestPath":"/api/menu/items/2/toggle-availability","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:23.7886217Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3ab7ceddeb199b86b5b3d08a08feed1c","@sp":"d73a07e185f4a429","Method":"POST","Path":"/api/menu/items/1/toggle-availability","Query":"","Time":"2026-01-18T12:28:23.7882884Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000019","RequestPath":"/api/menu/items/1/toggle-availability","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:23.8186199Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3ab7ceddeb199b86b5b3d08a08feed1c","@sp":"d73a07e185f4a429","Method":"POST","Path":"/api/menu/items/1/toggle-availability","Query":"","StatusCode":200,"Duration":30.1273,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000019","RequestPath":"/api/menu/items/1/toggle-availability","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:25.8987232Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6c764c354eb1c6a66b7c27787028a603","@sp":"41e607af2835205d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:28:25.8986764Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:25.9532687Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6c764c354eb1c6a66b7c27787028a603","@sp":"41e607af2835205d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":54.5281,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:25.9775676Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6c764c354eb1c6a66b7c27787028a603","@sp":"709764c3c4c6774d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:28:25.9775118Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMC:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMC"}
{"@t":"2026-01-18T12:28:25.9843884Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6c764c354eb1c6a66b7c27787028a603","@sp":"709764c3c4c6774d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":6.7437,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMC:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMC"}
{"@t":"2026-01-18T12:28:25.9880838Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6c764c354eb1c6a66b7c27787028a603","@sp":"30b8155b2b9a4a2b","Method":"GET","Path":"/hubs/orders","Query":"?id=DwCnfI_ZN_eId8eI_WkeVA","Time":"2026-01-18T12:28:25.9879830Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMD:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMD"}
{"@t":"2026-01-18T12:28:25.9970572Z","@mt":"Client connected: {ConnectionId}","@tr":"6c764c354eb1c6a66b7c27787028a603","@sp":"30b8155b2b9a4a2b","ConnectionId":"SWIofyt4Hvg8iUSbE5CnzA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"SWIofyt4Hvg8iUSbE5CnzA","RequestId":"0HNIMHIKTNQMD:00000001","RequestPath":"/hubs/orders","CorrelationId":"33f640b7-7a27-4cb4-b9fd-3544bb29da0f"}
{"@t":"2026-01-18T12:28:26.0005779Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"SWIofyt4Hvg8iUSbE5CnzA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"SWIofyt4Hvg8iUSbE5CnzA","RequestId":"0HNIMHIKTNQMD:00000001","RequestPath":"/hubs/orders","CorrelationId":"33f640b7-7a27-4cb4-b9fd-3544bb29da0f"}
{"@t":"2026-01-18T12:28:26.0112987Z","@mt":"Client disconnected: {ConnectionId}","@tr":"6c764c354eb1c6a66b7c27787028a603","@sp":"30b8155b2b9a4a2b","ConnectionId":"SWIofyt4Hvg8iUSbE5CnzA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"SWIofyt4Hvg8iUSbE5CnzA","RequestId":"0HNIMHIKTNQMD:00000001","RequestPath":"/hubs/orders","CorrelationId":"33f640b7-7a27-4cb4-b9fd-3544bb29da0f"}
{"@t":"2026-01-18T12:28:26.0143420Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6c764c354eb1c6a66b7c27787028a603","@sp":"30b8155b2b9a4a2b","Method":"GET","Path":"/hubs/orders","Query":"?id=DwCnfI_ZN_eId8eI_WkeVA","StatusCode":101,"Duration":26.2923,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMD:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMD"}
{"@t":"2026-01-18T12:28:26.0431896Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"935d7ecf749b83d3c0a774bd382a6921","@sp":"e88a2ba37fadbf96","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:28:26.0431381Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:26.0886390Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"935d7ecf749b83d3c0a774bd382a6921","@sp":"e88a2ba37fadbf96","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":44.27,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:26.1199106Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2c7588b92c80e4523b7da84bb666d89a","@sp":"863d58259837e40f","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:28:26.1198567Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQME:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQME"}
{"@t":"2026-01-18T12:28:26.1274014Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2c7588b92c80e4523b7da84bb666d89a","@sp":"863d58259837e40f","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":7.4161,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQME:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQME"}
{"@t":"2026-01-18T12:28:26.1822070Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"15f5b6b6658387480733b4730ceef51f","@sp":"0a4ef48c87507767","Method":"GET","Path":"/hubs/orders","Query":"?id=5XskS9CkByZ2aS_ol5oMjg","Time":"2026-01-18T12:28:26.1820483Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMF:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMF"}
{"@t":"2026-01-18T12:28:26.3275052Z","@mt":"Client connected: {ConnectionId}","@tr":"15f5b6b6658387480733b4730ceef51f","@sp":"0a4ef48c87507767","ConnectionId":"0L5JT7dK1lSi11b4VfLrVA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"0L5JT7dK1lSi11b4VfLrVA","RequestId":"0HNIMHIKTNQMF:00000001","RequestPath":"/hubs/orders","CorrelationId":"7491746f-82bb-486c-9298-53a4f2359b73"}
{"@t":"2026-01-18T12:28:26.3413015Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"0L5JT7dK1lSi11b4VfLrVA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"0L5JT7dK1lSi11b4VfLrVA","RequestId":"0HNIMHIKTNQMF:00000001","RequestPath":"/hubs/orders","CorrelationId":"7491746f-82bb-486c-9298-53a4f2359b73"}
{"@t":"2026-01-18T12:28:37.1368232Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3639ac8d0a342e23c20dd5c7a24f4b1a","@sp":"79618965f7b8ed1e","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T12:28:37.1367810Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001C","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:37.2875497Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3639ac8d0a342e23c20dd5c7a24f4b1a","@sp":"79618965f7b8ed1e","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":150.7131,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001C","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:40.3499835Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1dd2605598b8e1ca1bfefc37b237fe4b","@sp":"b6ad3575427e6e36","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-18T12:28:40.3499057Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001D","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:40.3888065Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"1dd2605598b8e1ca1bfefc37b237fe4b","@sp":"b6ad3575427e6e36","DeliveryId":2,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"8aee2da2-aba3-4eb5-8f19-7b3b70ed1763","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMHIKTNQM3:0000001D","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNIMHIKTNQM3","CorrelationId":"72eaca44-89c3-4192-902f-19f23ea04c96"}
{"@t":"2026-01-18T12:28:40.7218795Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1dd2605598b8e1ca1bfefc37b237fe4b","@sp":"b6ad3575427e6e36","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":371.9355,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001D","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:41.2894468Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"01b225ceb436eea21fb5a4e2d99bce12","@sp":"742130e2cb41bc52","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-18T12:28:41.2893034Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001E","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:41.2933177Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"01b225ceb436eea21fb5a4e2d99bce12","@sp":"742130e2cb41bc52","DeliveryId":2,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"8aee2da2-aba3-4eb5-8f19-7b3b70ed1763","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMHIKTNQM3:0000001E","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNIMHIKTNQM3","CorrelationId":"29bb58d9-d19a-4c73-a932-6cd3771517a9"}
{"@t":"2026-01-18T12:28:41.3168270Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"01b225ceb436eea21fb5a4e2d99bce12","@sp":"742130e2cb41bc52","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":27.3348,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001E","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:41.5545482Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"aca2087694702ce7388416c984e83c25","@sp":"755715f2e5b1101c","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","Time":"2026-01-18T12:28:41.5544405Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001F","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:41.5612287Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"aca2087694702ce7388416c984e83c25","@sp":"755715f2e5b1101c","DeliveryId":2,"OrderId":7,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"8aee2da2-aba3-4eb5-8f19-7b3b70ed1763","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMHIKTNQM3:0000001F","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNIMHIKTNQM3","CorrelationId":"ef3a37f9-bee5-4483-94d7-60fcbfc4ff65"}
{"@t":"2026-01-18T12:28:41.6149311Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"aca2087694702ce7388416c984e83c25","@sp":"755715f2e5b1101c","Method":"POST","Path":"/api/admin/orders/7/assign-delivery","Query":"","StatusCode":200,"Duration":60.4228,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:0000001F","RequestPath":"/api/admin/orders/7/assign-delivery","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:43.7429589Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e1c63a4377753752fc4b4ab633873fb6","@sp":"d382c86619ed7a66","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:28:43.7428695Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000020","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:43.7905386Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e1c63a4377753752fc4b4ab633873fb6","@sp":"d382c86619ed7a66","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":47.5949,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000020","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:44.3411817Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3e539666f2cbaeedac53845f373b3021","@sp":"99496d59d79a03a7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:28:44.3411316Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000021","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:44.4131520Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3e539666f2cbaeedac53845f373b3021","@sp":"99496d59d79a03a7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":71.9594,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000021","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:44.6374516Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9fc84c059f53a1b9fb2f2072b0260d9a","@sp":"415faeb5ef89b12f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:28:44.6373739Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000022","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:28:44.6740286Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9fc84c059f53a1b9fb2f2072b0260d9a","@sp":"415faeb5ef89b12f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":36.5853,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQM3:00000022","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQM3"}
{"@t":"2026-01-18T12:30:17.8462077Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"46fd855f67edf59bae1b8c5a1bf7a91b","@sp":"26a1e5052ff9e33c","Method":"GET","Path":"/api/admin/orders/7","Query":"","Time":"2026-01-18T12:30:17.8461691Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000001","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:17.8818357Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"46fd855f67edf59bae1b8c5a1bf7a91b","@sp":"26a1e5052ff9e33c","Method":"GET","Path":"/api/admin/orders/7","Query":"","StatusCode":200,"Duration":35.5699,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000001","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:21.1961290Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a4db2707df0569921b2a494a36c71bf1","@sp":"6578d8e2940180c7","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:30:21.1960707Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000002","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:21.2003588Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"a4db2707df0569921b2a494a36c71bf1","@sp":"6578d8e2940180c7","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":4.2307,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000002","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:22.9560828Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2c0e575f78bf541bb5ee4f1b86b6f251","@sp":"55d69803d722ed92","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:30:22.9560401Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000003","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:22.9623189Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"2c0e575f78bf541bb5ee4f1b86b6f251","@sp":"55d69803d722ed92","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":6.2065,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000003","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:23.1400192Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"59c86ca0478755a93083946341a43f45","@sp":"3307f6fc32d45148","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:30:23.1399902Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000004","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:23.1453483Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"59c86ca0478755a93083946341a43f45","@sp":"3307f6fc32d45148","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":5.3028,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000004","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:23.3386719Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b1986c4f8a91d9bda8686ff95b35654c","@sp":"dd34e3d408818d1f","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:30:23.3386211Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000005","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:23.3446723Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"b1986c4f8a91d9bda8686ff95b35654c","@sp":"dd34e3d408818d1f","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":5.9987,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000005","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:23.5270843Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"87e298eefaa22c2d2f49cabdf75d99c2","@sp":"1acca3d23914a986","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:30:23.5270339Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000006","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:23.5321574Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"87e298eefaa22c2d2f49cabdf75d99c2","@sp":"1acca3d23914a986","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":5.0741,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000006","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:23.7382492Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"822a0adb83d7cbf7d71b7a81c49f4216","@sp":"cc372b6562cea0f6","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:30:23.7382076Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000007","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:23.7514892Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"822a0adb83d7cbf7d71b7a81c49f4216","@sp":"cc372b6562cea0f6","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":13.2482,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000007","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:23.9455544Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"df9bbe4656509be87061ee6d0c04fe32","@sp":"016b58e575e4f7d8","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:30:23.9454915Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000008","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:23.9498536Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"df9bbe4656509be87061ee6d0c04fe32","@sp":"016b58e575e4f7d8","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":4.31,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMG:00000008","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMG"}
{"@t":"2026-01-18T12:30:24.4955626Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"32a6c9cf296832d346273546ead56fe1","@sp":"1abf5a6b443d26e5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:24.4954710Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:24.5171572Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"32a6c9cf296832d346273546ead56fe1","@sp":"1abf5a6b443d26e5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":21.569,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:24.5239206Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"32a6c9cf296832d346273546ead56fe1","@sp":"13160caf3feadf72","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:24.5238288Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMI:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMI"}
{"@t":"2026-01-18T12:30:24.5283367Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"32a6c9cf296832d346273546ead56fe1","@sp":"13160caf3feadf72","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":4.225,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMI:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMI"}
{"@t":"2026-01-18T12:30:24.5329788Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"32a6c9cf296832d346273546ead56fe1","@sp":"07982a5772d313ae","Method":"GET","Path":"/hubs/orders","Query":"?id=hgHdMSkNrZU7V6P5_vEk6g","Time":"2026-01-18T12:30:24.5329039Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMJ:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMJ"}
{"@t":"2026-01-18T12:30:24.5466097Z","@mt":"Client connected: {ConnectionId}","@tr":"32a6c9cf296832d346273546ead56fe1","@sp":"07982a5772d313ae","ConnectionId":"mBdwlGpjzF3Qwrx-CvpqDQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"mBdwlGpjzF3Qwrx-CvpqDQ","RequestId":"0HNIMHIKTNQMJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"45dee992-84d0-48d3-ae5d-f2e804e0a0b1"}
{"@t":"2026-01-18T12:30:24.5513758Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"mBdwlGpjzF3Qwrx-CvpqDQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"mBdwlGpjzF3Qwrx-CvpqDQ","RequestId":"0HNIMHIKTNQMJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"45dee992-84d0-48d3-ae5d-f2e804e0a0b1"}
{"@t":"2026-01-18T12:30:24.5746477Z","@mt":"Client disconnected: {ConnectionId}","@tr":"32a6c9cf296832d346273546ead56fe1","@sp":"07982a5772d313ae","ConnectionId":"mBdwlGpjzF3Qwrx-CvpqDQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"mBdwlGpjzF3Qwrx-CvpqDQ","RequestId":"0HNIMHIKTNQMJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"45dee992-84d0-48d3-ae5d-f2e804e0a0b1"}
{"@t":"2026-01-18T12:30:24.5781621Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"32a6c9cf296832d346273546ead56fe1","@sp":"07982a5772d313ae","Method":"GET","Path":"/hubs/orders","Query":"?id=hgHdMSkNrZU7V6P5_vEk6g","StatusCode":101,"Duration":44.2858,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMJ:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMJ"}
{"@t":"2026-01-18T12:30:24.6145272Z","@mt":"Client disconnected: {ConnectionId}","@tr":"15f5b6b6658387480733b4730ceef51f","@sp":"0a4ef48c87507767","ConnectionId":"0L5JT7dK1lSi11b4VfLrVA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"0L5JT7dK1lSi11b4VfLrVA","RequestId":"0HNIMHIKTNQMF:00000001","RequestPath":"/hubs/orders","CorrelationId":"7491746f-82bb-486c-9298-53a4f2359b73"}
{"@t":"2026-01-18T12:30:24.6270640Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"15f5b6b6658387480733b4730ceef51f","@sp":"0a4ef48c87507767","Method":"GET","Path":"/hubs/orders","Query":"?id=5XskS9CkByZ2aS_ol5oMjg","StatusCode":101,"Duration":118444.9732,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMF:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMF"}
{"@t":"2026-01-18T12:30:24.9610004Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2ce4fd69c3985fbcb1961f01ca81f133","@sp":"74f584e05a84f62a","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:24.9609212Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:25.0593521Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2ce4fd69c3985fbcb1961f01ca81f133","@sp":"74f584e05a84f62a","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":98.3804,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:25.1513571Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2573fe5582a32c205a3e0d4f52a48259","@sp":"e522da3019a7a6ea","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:25.1512412Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMK:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMK"}
{"@t":"2026-01-18T12:30:25.1701482Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2573fe5582a32c205a3e0d4f52a48259","@sp":"e522da3019a7a6ea","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":18.8623,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMK:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMK"}
{"@t":"2026-01-18T12:30:25.1763219Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dedd8ed3610684d03db77c02b7302dcd","@sp":"dbf25e6bfd2f5619","Method":"GET","Path":"/hubs/orders","Query":"?id=BFWoz71n8NdHEHzfs7VL6g","Time":"2026-01-18T12:30:25.1759780Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQML:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQML"}
{"@t":"2026-01-18T12:30:25.1893087Z","@mt":"Client connected: {ConnectionId}","@tr":"dedd8ed3610684d03db77c02b7302dcd","@sp":"dbf25e6bfd2f5619","ConnectionId":"uOnzxOg_rK9aZX2Bx0h6gw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"uOnzxOg_rK9aZX2Bx0h6gw","RequestId":"0HNIMHIKTNQML:00000001","RequestPath":"/hubs/orders","CorrelationId":"623a8788-4deb-4d9e-9c63-4d23ceaadc8b"}
{"@t":"2026-01-18T12:30:25.1927845Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"uOnzxOg_rK9aZX2Bx0h6gw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"uOnzxOg_rK9aZX2Bx0h6gw","RequestId":"0HNIMHIKTNQML:00000001","RequestPath":"/hubs/orders","CorrelationId":"623a8788-4deb-4d9e-9c63-4d23ceaadc8b"}
{"@t":"2026-01-18T12:30:27.5097107Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3ca5deb8c5475bba339269dc73940479","@sp":"f749757eb8c21004","Method":"GET","Path":"/api/admin/orders/5","Query":"","Time":"2026-01-18T12:30:27.5096726Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000003","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:27.5261489Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3ca5deb8c5475bba339269dc73940479","@sp":"f749757eb8c21004","Method":"GET","Path":"/api/admin/orders/5","Query":"","StatusCode":200,"Duration":16.3776,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000003","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:29.1242052Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"04a32c9c067869f582174c18285b580f","@sp":"f64a0fb71a785c83","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:29.1241102Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000004","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:29.1302781Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"04a32c9c067869f582174c18285b580f","@sp":"f64a0fb71a785c83","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":5.9723,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000004","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:30.0256608Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d158170ccbf5fc124c4afcdaf975ef04","@sp":"5d90427515ceddb8","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:30.0255828Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000005","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:30.0298084Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"d158170ccbf5fc124c4afcdaf975ef04","@sp":"5d90427515ceddb8","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.1893,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000005","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:30.4951655Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c5441831086bd1e943eef28a78d40de1","@sp":"b95f2d9782a4b6db","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:30.4951262Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000006","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:30.5104074Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"c5441831086bd1e943eef28a78d40de1","@sp":"b95f2d9782a4b6db","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":15.2232,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000006","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:31.0104927Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"067e2a2d6cfc34262d182fb6c5f81406","@sp":"a08efbd67a928c21","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:31.0104561Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000007","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:31.0150902Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"067e2a2d6cfc34262d182fb6c5f81406","@sp":"a08efbd67a928c21","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.5784,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000007","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:31.2155592Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1fbce5d287f0e86125a55adcf8210d97","@sp":"ebd940bceab5edea","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:31.2155025Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000008","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:31.2199797Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"1fbce5d287f0e86125a55adcf8210d97","@sp":"ebd940bceab5edea","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.4489,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000008","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:31.4424964Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d2c30b41eb07bd5ff672fb9544c561e5","@sp":"e5af6e09a5d5dd62","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:31.4424603Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000009","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:31.4475535Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"d2c30b41eb07bd5ff672fb9544c561e5","@sp":"e5af6e09a5d5dd62","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":5.0161,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000009","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:32.6778739Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"20e0034426191003105f1cc73385b951","@sp":"ffcc1669e003371e","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:32.6777555Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000A","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:32.6968178Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"20e0034426191003105f1cc73385b951","@sp":"ffcc1669e003371e","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":19.0226,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000A","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:35.4696139Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3fdb122a4ae0333e8d6302018e4f7f0c","@sp":"0f4829ea7af20ad3","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:35.4695766Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000B","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:35.4741273Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"3fdb122a4ae0333e8d6302018e4f7f0c","@sp":"0f4829ea7af20ad3","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.5216,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000B","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:37.6025094Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"239bd688d491a0880521f15add7c478b","@sp":"e650905ce353936a","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:37.6024712Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000C","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:37.6064040Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"239bd688d491a0880521f15add7c478b","@sp":"e650905ce353936a","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":3.886,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000C","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:37.8144814Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b15f218d28a6a0b10a941ea035667f4f","@sp":"13b419552366ee61","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:37.8143821Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:37.8416271Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"b15f218d28a6a0b10a941ea035667f4f","@sp":"13b419552366ee61","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":27.1506,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:38.0294682Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d0ebeb48aef34c57e41e7f8194718a81","@sp":"02cb303ae5b95442","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:38.0293154Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000E","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:38.0333716Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"d0ebeb48aef34c57e41e7f8194718a81","@sp":"02cb303ae5b95442","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":3.9703,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000E","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:38.2563166Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"99261f756299d2806530328336a8a995","@sp":"6a41e03800024fd4","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:38.2561961Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000F","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:38.2620978Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"99261f756299d2806530328336a8a995","@sp":"6a41e03800024fd4","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":5.7267,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000000F","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:39.0941762Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"23533ef862995083f546ec7a2452b9db","@sp":"bef8795247323984","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:39.0938010Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000010","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:39.1313300Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"23533ef862995083f546ec7a2452b9db","@sp":"bef8795247323984","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":37.2612,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000010","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:39.2623832Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6afa7f51b50651faf484c50dad7caeb2","@sp":"928b32fa12d2a998","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:39.2622022Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000011","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:39.2669150Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"6afa7f51b50651faf484c50dad7caeb2","@sp":"928b32fa12d2a998","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.4437,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000011","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:39.4821696Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"47abac27757f00af2f43ec6166a23704","@sp":"fa836d5e94cbbec5","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:30:39.4821295Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000012","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:39.4864203Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"47abac27757f00af2f43ec6166a23704","@sp":"fa836d5e94cbbec5","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.2596,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000012","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:42.0426357Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"95b0b0471d01bac3bbc188018816817b","@sp":"3ba60a8271d26a30","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:42.0425387Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000013","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:42.0701029Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"95b0b0471d01bac3bbc188018816817b","@sp":"3ba60a8271d26a30","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":27.445,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000013","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:42.0837537Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"95b0b0471d01bac3bbc188018816817b","@sp":"752d29c02c9b3e60","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:42.0837197Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMM:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMM"}
{"@t":"2026-01-18T12:30:42.0876037Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"95b0b0471d01bac3bbc188018816817b","@sp":"752d29c02c9b3e60","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":3.8132,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMM:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMM"}
{"@t":"2026-01-18T12:30:42.0909682Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"95b0b0471d01bac3bbc188018816817b","@sp":"6ac99f998c74934a","Method":"GET","Path":"/hubs/orders","Query":"?id=RxHtPAjlK58sWdI_9-o2Og","Time":"2026-01-18T12:30:42.0909281Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMN:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMN"}
{"@t":"2026-01-18T12:30:42.0976374Z","@mt":"Client connected: {ConnectionId}","@tr":"95b0b0471d01bac3bbc188018816817b","@sp":"6ac99f998c74934a","ConnectionId":"IYKpBrcjVzDBt0xes6MMWw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"IYKpBrcjVzDBt0xes6MMWw","RequestId":"0HNIMHIKTNQMN:00000001","RequestPath":"/hubs/orders","CorrelationId":"b4064de8-039f-42c1-b000-388b81007c9d"}
{"@t":"2026-01-18T12:30:42.1018049Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"IYKpBrcjVzDBt0xes6MMWw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"IYKpBrcjVzDBt0xes6MMWw","RequestId":"0HNIMHIKTNQMN:00000001","RequestPath":"/hubs/orders","CorrelationId":"b4064de8-039f-42c1-b000-388b81007c9d"}
{"@t":"2026-01-18T12:30:42.1087248Z","@mt":"Client disconnected: {ConnectionId}","@tr":"95b0b0471d01bac3bbc188018816817b","@sp":"6ac99f998c74934a","ConnectionId":"IYKpBrcjVzDBt0xes6MMWw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"IYKpBrcjVzDBt0xes6MMWw","RequestId":"0HNIMHIKTNQMN:00000001","RequestPath":"/hubs/orders","CorrelationId":"b4064de8-039f-42c1-b000-388b81007c9d"}
{"@t":"2026-01-18T12:30:42.1130393Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"95b0b0471d01bac3bbc188018816817b","@sp":"6ac99f998c74934a","Method":"GET","Path":"/hubs/orders","Query":"?id=RxHtPAjlK58sWdI_9-o2Og","StatusCode":101,"Duration":21.9708,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMN:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMN"}
{"@t":"2026-01-18T12:30:42.1213045Z","@mt":"Client disconnected: {ConnectionId}","@tr":"dedd8ed3610684d03db77c02b7302dcd","@sp":"dbf25e6bfd2f5619","ConnectionId":"uOnzxOg_rK9aZX2Bx0h6gw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"uOnzxOg_rK9aZX2Bx0h6gw","RequestId":"0HNIMHIKTNQML:00000001","RequestPath":"/hubs/orders","CorrelationId":"623a8788-4deb-4d9e-9c63-4d23ceaadc8b"}
{"@t":"2026-01-18T12:30:42.1246305Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dedd8ed3610684d03db77c02b7302dcd","@sp":"dbf25e6bfd2f5619","Method":"GET","Path":"/hubs/orders","Query":"?id=BFWoz71n8NdHEHzfs7VL6g","StatusCode":101,"Duration":16948.5184,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQML:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQML"}
{"@t":"2026-01-18T12:30:42.2970424Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"809a985a31c373709a62125f0d7200e1","@sp":"0da2b94b4d01fa64","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:42.2969249Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000014","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:42.3751898Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"809a985a31c373709a62125f0d7200e1","@sp":"0da2b94b4d01fa64","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":78.1997,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000014","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:42.3885794Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"112bcf4987c82e1032dc342d7239d0d4","@sp":"c2eddcceea645a30","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:42.3884531Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMO:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMO"}
{"@t":"2026-01-18T12:30:42.4372488Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"112bcf4987c82e1032dc342d7239d0d4","@sp":"c2eddcceea645a30","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":48.6165,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMO:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMO"}
{"@t":"2026-01-18T12:30:42.4590910Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8e39eb4c6887a094bd18579dc6a352ad","@sp":"eb9cfeb573be7603","Method":"GET","Path":"/hubs/orders","Query":"?id=0SUIWimOrajN92r06qRdfw","Time":"2026-01-18T12:30:42.4590340Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMP:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMP"}
{"@t":"2026-01-18T12:30:42.4978201Z","@mt":"Client connected: {ConnectionId}","@tr":"8e39eb4c6887a094bd18579dc6a352ad","@sp":"eb9cfeb573be7603","ConnectionId":"NiEv9JGlVbWol3FL3ZDjJw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"NiEv9JGlVbWol3FL3ZDjJw","RequestId":"0HNIMHIKTNQMP:00000001","RequestPath":"/hubs/orders","CorrelationId":"9e5cd8dd-6ec9-4279-8ccb-a79246f141ed"}
{"@t":"2026-01-18T12:30:42.5001828Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"NiEv9JGlVbWol3FL3ZDjJw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"NiEv9JGlVbWol3FL3ZDjJw","RequestId":"0HNIMHIKTNQMP:00000001","RequestPath":"/hubs/orders","CorrelationId":"9e5cd8dd-6ec9-4279-8ccb-a79246f141ed"}
{"@t":"2026-01-18T12:30:43.0783104Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4dead64f0b07cdabbb1123ecc6ea25a7","@sp":"3366aee5be0321fb","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:43.0782826Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000015","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:43.1147773Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4dead64f0b07cdabbb1123ecc6ea25a7","@sp":"3366aee5be0321fb","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":36.3994,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000015","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:43.1264085Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4dead64f0b07cdabbb1123ecc6ea25a7","@sp":"4b3aad0399f780c9","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:43.1263079Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMQ:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMQ"}
{"@t":"2026-01-18T12:30:43.1320412Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4dead64f0b07cdabbb1123ecc6ea25a7","@sp":"4b3aad0399f780c9","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":5.6762,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMQ:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMQ"}
{"@t":"2026-01-18T12:30:43.1362352Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4dead64f0b07cdabbb1123ecc6ea25a7","@sp":"e30a0d803d4a34a7","Method":"GET","Path":"/hubs/orders","Query":"?id=BiTWc6hiNWRDgTdVzQBkAQ","Time":"2026-01-18T12:30:43.1361995Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMR:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMR"}
{"@t":"2026-01-18T12:30:43.1417616Z","@mt":"Client connected: {ConnectionId}","@tr":"4dead64f0b07cdabbb1123ecc6ea25a7","@sp":"e30a0d803d4a34a7","ConnectionId":"HeEFq6xvhj56ez0wpYOgGA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"HeEFq6xvhj56ez0wpYOgGA","RequestId":"0HNIMHIKTNQMR:00000001","RequestPath":"/hubs/orders","CorrelationId":"ebccffdf-eb52-41b3-a506-30dca4c8855e"}
{"@t":"2026-01-18T12:30:43.1445155Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"HeEFq6xvhj56ez0wpYOgGA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"HeEFq6xvhj56ez0wpYOgGA","RequestId":"0HNIMHIKTNQMR:00000001","RequestPath":"/hubs/orders","CorrelationId":"ebccffdf-eb52-41b3-a506-30dca4c8855e"}
{"@t":"2026-01-18T12:30:43.1550122Z","@mt":"Client disconnected: {ConnectionId}","@tr":"4dead64f0b07cdabbb1123ecc6ea25a7","@sp":"e30a0d803d4a34a7","ConnectionId":"HeEFq6xvhj56ez0wpYOgGA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"HeEFq6xvhj56ez0wpYOgGA","RequestId":"0HNIMHIKTNQMR:00000001","RequestPath":"/hubs/orders","CorrelationId":"ebccffdf-eb52-41b3-a506-30dca4c8855e"}
{"@t":"2026-01-18T12:30:43.1567126Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4dead64f0b07cdabbb1123ecc6ea25a7","@sp":"e30a0d803d4a34a7","Method":"GET","Path":"/hubs/orders","Query":"?id=BiTWc6hiNWRDgTdVzQBkAQ","StatusCode":101,"Duration":20.4688,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMR:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMR"}
{"@t":"2026-01-18T12:30:43.1673102Z","@mt":"Client disconnected: {ConnectionId}","@tr":"8e39eb4c6887a094bd18579dc6a352ad","@sp":"eb9cfeb573be7603","ConnectionId":"NiEv9JGlVbWol3FL3ZDjJw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"NiEv9JGlVbWol3FL3ZDjJw","RequestId":"0HNIMHIKTNQMP:00000001","RequestPath":"/hubs/orders","CorrelationId":"9e5cd8dd-6ec9-4279-8ccb-a79246f141ed"}
{"@t":"2026-01-18T12:30:43.1698181Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8e39eb4c6887a094bd18579dc6a352ad","@sp":"eb9cfeb573be7603","Method":"GET","Path":"/hubs/orders","Query":"?id=0SUIWimOrajN92r06qRdfw","StatusCode":101,"Duration":710.7293,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMP:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMP"}
{"@t":"2026-01-18T12:30:43.3878417Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5d0a1389c438bc1553fa86efa1034fce","@sp":"3d7c98445550cef8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:43.3877773Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000016","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:43.4155296Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5d0a1389c438bc1553fa86efa1034fce","@sp":"3d7c98445550cef8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":27.4894,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000016","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:43.4464551Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"84a1f99b747e1f639979bef063ae803e","@sp":"202339b0a6fa6b0b","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:43.4462990Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMS:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMS"}
{"@t":"2026-01-18T12:30:43.4633208Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"84a1f99b747e1f639979bef063ae803e","@sp":"202339b0a6fa6b0b","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":16.9135,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMS:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMS"}
{"@t":"2026-01-18T12:30:43.4708694Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bc80c9cb62619fd3a6245cd55ccc7922","@sp":"b02ae483017100c2","Method":"GET","Path":"/hubs/orders","Query":"?id=c1SSCv7wifsvbSVwAPRZPw","Time":"2026-01-18T12:30:43.4707728Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMT:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMT"}
{"@t":"2026-01-18T12:30:43.4852776Z","@mt":"Client connected: {ConnectionId}","@tr":"bc80c9cb62619fd3a6245cd55ccc7922","@sp":"b02ae483017100c2","ConnectionId":"g42OlzEu-F5Zp1Y0zv8GEw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"g42OlzEu-F5Zp1Y0zv8GEw","RequestId":"0HNIMHIKTNQMT:00000001","RequestPath":"/hubs/orders","CorrelationId":"96140e1c-dd97-480c-9ce7-c18103044fbd"}
{"@t":"2026-01-18T12:30:43.5003174Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"g42OlzEu-F5Zp1Y0zv8GEw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"g42OlzEu-F5Zp1Y0zv8GEw","RequestId":"0HNIMHIKTNQMT:00000001","RequestPath":"/hubs/orders","CorrelationId":"96140e1c-dd97-480c-9ce7-c18103044fbd"}
{"@t":"2026-01-18T12:30:43.7979255Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2d88725e3429e98517a57d60687418ca","@sp":"bdb1cf2d31f99f1e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:43.7978609Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000017","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:43.9621214Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2d88725e3429e98517a57d60687418ca","@sp":"bdb1cf2d31f99f1e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":164.2161,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000017","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:43.9849806Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2d88725e3429e98517a57d60687418ca","@sp":"a9a4be9b41cd969a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:43.9849430Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMU:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMU"}
{"@t":"2026-01-18T12:30:43.9905998Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2d88725e3429e98517a57d60687418ca","@sp":"a9a4be9b41cd969a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":5.565,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMU:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQMU"}
{"@t":"2026-01-18T12:30:43.9949179Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2d88725e3429e98517a57d60687418ca","@sp":"8fece5a251768a06","Method":"GET","Path":"/hubs/orders","Query":"?id=MoV2exvrzLGC2Sk9rceTNA","Time":"2026-01-18T12:30:43.9948801Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMV:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMV"}
{"@t":"2026-01-18T12:30:44.0000546Z","@mt":"Client connected: {ConnectionId}","@tr":"2d88725e3429e98517a57d60687418ca","@sp":"8fece5a251768a06","ConnectionId":"Sfb-pvDE6Bg6n2wguW7J1w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Sfb-pvDE6Bg6n2wguW7J1w","RequestId":"0HNIMHIKTNQMV:00000001","RequestPath":"/hubs/orders","CorrelationId":"d89b3f39-f99a-4e51-9806-315d7d3e2a2a"}
{"@t":"2026-01-18T12:30:44.0080631Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"Sfb-pvDE6Bg6n2wguW7J1w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Sfb-pvDE6Bg6n2wguW7J1w","RequestId":"0HNIMHIKTNQMV:00000001","RequestPath":"/hubs/orders","CorrelationId":"d89b3f39-f99a-4e51-9806-315d7d3e2a2a"}
{"@t":"2026-01-18T12:30:44.0134363Z","@mt":"Client disconnected: {ConnectionId}","@tr":"2d88725e3429e98517a57d60687418ca","@sp":"8fece5a251768a06","ConnectionId":"Sfb-pvDE6Bg6n2wguW7J1w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Sfb-pvDE6Bg6n2wguW7J1w","RequestId":"0HNIMHIKTNQMV:00000001","RequestPath":"/hubs/orders","CorrelationId":"d89b3f39-f99a-4e51-9806-315d7d3e2a2a"}
{"@t":"2026-01-18T12:30:44.0152901Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2d88725e3429e98517a57d60687418ca","@sp":"8fece5a251768a06","Method":"GET","Path":"/hubs/orders","Query":"?id=MoV2exvrzLGC2Sk9rceTNA","StatusCode":101,"Duration":20.3413,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMV:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMV"}
{"@t":"2026-01-18T12:30:44.0285573Z","@mt":"Client disconnected: {ConnectionId}","@tr":"bc80c9cb62619fd3a6245cd55ccc7922","@sp":"b02ae483017100c2","ConnectionId":"g42OlzEu-F5Zp1Y0zv8GEw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"g42OlzEu-F5Zp1Y0zv8GEw","RequestId":"0HNIMHIKTNQMT:00000001","RequestPath":"/hubs/orders","CorrelationId":"96140e1c-dd97-480c-9ce7-c18103044fbd"}
{"@t":"2026-01-18T12:30:44.0415916Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bc80c9cb62619fd3a6245cd55ccc7922","@sp":"b02ae483017100c2","Method":"GET","Path":"/hubs/orders","Query":"?id=c1SSCv7wifsvbSVwAPRZPw","StatusCode":101,"Duration":570.7003,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMT:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQMT"}
{"@t":"2026-01-18T12:30:44.2085768Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f9945c2d2a8d4a532adee0af87c9f847","@sp":"1684a3eb80418d05","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:44.2081161Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000018","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:44.2421926Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f9945c2d2a8d4a532adee0af87c9f847","@sp":"1684a3eb80418d05","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":34.0366,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000018","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:44.2982914Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d2e96fbc97c7f875e31092f9039f73c9","@sp":"637403c121fe4bda","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:44.2982391Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN0:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQN0"}
{"@t":"2026-01-18T12:30:44.3461501Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d2e96fbc97c7f875e31092f9039f73c9","@sp":"637403c121fe4bda","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":47.8158,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN0:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQN0"}
{"@t":"2026-01-18T12:30:44.3579338Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e59353234fffaa0e4be6939d8d5cd4a0","@sp":"f1779341d87dbeee","Method":"GET","Path":"/hubs/orders","Query":"?id=LwB2NjB9FNvQKZKALsDfVA","Time":"2026-01-18T12:30:44.3578864Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN1:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQN1"}
{"@t":"2026-01-18T12:30:44.3758602Z","@mt":"Client connected: {ConnectionId}","@tr":"e59353234fffaa0e4be6939d8d5cd4a0","@sp":"f1779341d87dbeee","ConnectionId":"Hhy18DTqikw_3SEiZyl29Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Hhy18DTqikw_3SEiZyl29Q","RequestId":"0HNIMHIKTNQN1:00000001","RequestPath":"/hubs/orders","CorrelationId":"70240f15-effb-4fa4-a7ba-bf3bbed5bf01"}
{"@t":"2026-01-18T12:30:44.3813324Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"Hhy18DTqikw_3SEiZyl29Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Hhy18DTqikw_3SEiZyl29Q","RequestId":"0HNIMHIKTNQN1:00000001","RequestPath":"/hubs/orders","CorrelationId":"70240f15-effb-4fa4-a7ba-bf3bbed5bf01"}
{"@t":"2026-01-18T12:30:44.6732479Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"58b21ff2e2f95954d5d73606a713e3fd","@sp":"e43af3881a397ce9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:44.6732115Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000019","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:44.7031380Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"58b21ff2e2f95954d5d73606a713e3fd","@sp":"e43af3881a397ce9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":29.8804,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000019","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:44.7198032Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"58b21ff2e2f95954d5d73606a713e3fd","@sp":"e292ba9a2e0120e6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:44.7197590Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN2:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQN2"}
{"@t":"2026-01-18T12:30:44.7250320Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"58b21ff2e2f95954d5d73606a713e3fd","@sp":"e292ba9a2e0120e6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":5.1783,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN2:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQN2"}
{"@t":"2026-01-18T12:30:44.7317590Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"58b21ff2e2f95954d5d73606a713e3fd","@sp":"f4ade17c0cd651c2","Method":"GET","Path":"/hubs/orders","Query":"?id=-o7cBTqNq1stIiqTKL34Hg","Time":"2026-01-18T12:30:44.7316742Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN3:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQN3"}
{"@t":"2026-01-18T12:30:44.7377121Z","@mt":"Client connected: {ConnectionId}","@tr":"58b21ff2e2f95954d5d73606a713e3fd","@sp":"f4ade17c0cd651c2","ConnectionId":"kxzi_EMu62vmy-c1b7Fkjw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"kxzi_EMu62vmy-c1b7Fkjw","RequestId":"0HNIMHIKTNQN3:00000001","RequestPath":"/hubs/orders","CorrelationId":"06b3803f-de26-401c-a4ea-1a179b59a2a1"}
{"@t":"2026-01-18T12:30:44.7401456Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"kxzi_EMu62vmy-c1b7Fkjw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"kxzi_EMu62vmy-c1b7Fkjw","RequestId":"0HNIMHIKTNQN3:00000001","RequestPath":"/hubs/orders","CorrelationId":"06b3803f-de26-401c-a4ea-1a179b59a2a1"}
{"@t":"2026-01-18T12:30:44.7471411Z","@mt":"Client disconnected: {ConnectionId}","@tr":"58b21ff2e2f95954d5d73606a713e3fd","@sp":"f4ade17c0cd651c2","ConnectionId":"kxzi_EMu62vmy-c1b7Fkjw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"kxzi_EMu62vmy-c1b7Fkjw","RequestId":"0HNIMHIKTNQN3:00000001","RequestPath":"/hubs/orders","CorrelationId":"06b3803f-de26-401c-a4ea-1a179b59a2a1"}
{"@t":"2026-01-18T12:30:44.7503980Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"58b21ff2e2f95954d5d73606a713e3fd","@sp":"f4ade17c0cd651c2","Method":"GET","Path":"/hubs/orders","Query":"?id=-o7cBTqNq1stIiqTKL34Hg","StatusCode":101,"Duration":18.5798,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN3:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQN3"}
{"@t":"2026-01-18T12:30:44.7826461Z","@mt":"Client disconnected: {ConnectionId}","@tr":"e59353234fffaa0e4be6939d8d5cd4a0","@sp":"f1779341d87dbeee","ConnectionId":"Hhy18DTqikw_3SEiZyl29Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Hhy18DTqikw_3SEiZyl29Q","RequestId":"0HNIMHIKTNQN1:00000001","RequestPath":"/hubs/orders","CorrelationId":"70240f15-effb-4fa4-a7ba-bf3bbed5bf01"}
{"@t":"2026-01-18T12:30:44.8302025Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e59353234fffaa0e4be6939d8d5cd4a0","@sp":"f1779341d87dbeee","Method":"GET","Path":"/hubs/orders","Query":"?id=LwB2NjB9FNvQKZKALsDfVA","StatusCode":101,"Duration":472.1831,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN1:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQN1"}
{"@t":"2026-01-18T12:30:45.1273736Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7be4738bcfb5d4812a95a01d2f35d881","@sp":"ceec518ea1eba1e3","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:45.1273245Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:45.1777429Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7be4738bcfb5d4812a95a01d2f35d881","@sp":"ceec518ea1eba1e3","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":50.3639,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:45.1856712Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"14eb269b8e0cb0672a0cac443994bee5","@sp":"c9ae6ce9d0fee82d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:45.1855679Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN4:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQN4"}
{"@t":"2026-01-18T12:30:45.1892514Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"14eb269b8e0cb0672a0cac443994bee5","@sp":"c9ae6ce9d0fee82d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":3.5319,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN4:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQN4"}
{"@t":"2026-01-18T12:30:45.1946789Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"420c5a7208e7456d9b3c0cc0c4f847a9","@sp":"fb2241d9fdf82688","Method":"GET","Path":"/hubs/orders","Query":"?id=IBTtKIqm7Rt2ysvh6xZAmw","Time":"2026-01-18T12:30:45.1945120Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN5:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQN5"}
{"@t":"2026-01-18T12:30:45.2115662Z","@mt":"Client connected: {ConnectionId}","@tr":"420c5a7208e7456d9b3c0cc0c4f847a9","@sp":"fb2241d9fdf82688","ConnectionId":"l4FUVW7ACodCNb8O4vSd2A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"l4FUVW7ACodCNb8O4vSd2A","RequestId":"0HNIMHIKTNQN5:00000001","RequestPath":"/hubs/orders","CorrelationId":"90763a7f-eec7-4310-90c6-3991fe688cc5"}
{"@t":"2026-01-18T12:30:45.2174596Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"l4FUVW7ACodCNb8O4vSd2A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"l4FUVW7ACodCNb8O4vSd2A","RequestId":"0HNIMHIKTNQN5:00000001","RequestPath":"/hubs/orders","CorrelationId":"90763a7f-eec7-4310-90c6-3991fe688cc5"}
{"@t":"2026-01-18T12:30:45.5163912Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"140111ff37d54c2f292051673611dc84","@sp":"464337d69e95b978","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:45.5163553Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:45.5532427Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"140111ff37d54c2f292051673611dc84","@sp":"464337d69e95b978","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":36.8322,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:45.5649802Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"140111ff37d54c2f292051673611dc84","@sp":"1acffbd66db0a24c","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:45.5649457Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN6:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQN6"}
{"@t":"2026-01-18T12:30:45.5709140Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"140111ff37d54c2f292051673611dc84","@sp":"1acffbd66db0a24c","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":5.9028,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN6:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQN6"}
{"@t":"2026-01-18T12:30:45.5754902Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"140111ff37d54c2f292051673611dc84","@sp":"8e6c33e46d38b3a2","Method":"GET","Path":"/hubs/orders","Query":"?id=J7R4AoyEz_kmOnfhWh7Y4A","Time":"2026-01-18T12:30:45.5754538Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN7:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQN7"}
{"@t":"2026-01-18T12:30:45.5879436Z","@mt":"Client connected: {ConnectionId}","@tr":"140111ff37d54c2f292051673611dc84","@sp":"8e6c33e46d38b3a2","ConnectionId":"mhc-he7euuS1MwxgbslQWw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"mhc-he7euuS1MwxgbslQWw","RequestId":"0HNIMHIKTNQN7:00000001","RequestPath":"/hubs/orders","CorrelationId":"2faf98e3-12ee-4dc0-83f4-9e313d94d02a"}
{"@t":"2026-01-18T12:30:45.5914970Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"mhc-he7euuS1MwxgbslQWw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"mhc-he7euuS1MwxgbslQWw","RequestId":"0HNIMHIKTNQN7:00000001","RequestPath":"/hubs/orders","CorrelationId":"2faf98e3-12ee-4dc0-83f4-9e313d94d02a"}
{"@t":"2026-01-18T12:30:45.5987784Z","@mt":"Client disconnected: {ConnectionId}","@tr":"140111ff37d54c2f292051673611dc84","@sp":"8e6c33e46d38b3a2","ConnectionId":"mhc-he7euuS1MwxgbslQWw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"mhc-he7euuS1MwxgbslQWw","RequestId":"0HNIMHIKTNQN7:00000001","RequestPath":"/hubs/orders","CorrelationId":"2faf98e3-12ee-4dc0-83f4-9e313d94d02a"}
{"@t":"2026-01-18T12:30:45.5998555Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"140111ff37d54c2f292051673611dc84","@sp":"8e6c33e46d38b3a2","Method":"GET","Path":"/hubs/orders","Query":"?id=J7R4AoyEz_kmOnfhWh7Y4A","StatusCode":101,"Duration":24.2605,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN7:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQN7"}
{"@t":"2026-01-18T12:30:45.6107328Z","@mt":"Client disconnected: {ConnectionId}","@tr":"420c5a7208e7456d9b3c0cc0c4f847a9","@sp":"fb2241d9fdf82688","ConnectionId":"l4FUVW7ACodCNb8O4vSd2A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"l4FUVW7ACodCNb8O4vSd2A","RequestId":"0HNIMHIKTNQN5:00000001","RequestPath":"/hubs/orders","CorrelationId":"90763a7f-eec7-4310-90c6-3991fe688cc5"}
{"@t":"2026-01-18T12:30:45.6138542Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"420c5a7208e7456d9b3c0cc0c4f847a9","@sp":"fb2241d9fdf82688","Method":"GET","Path":"/hubs/orders","Query":"?id=IBTtKIqm7Rt2ysvh6xZAmw","StatusCode":101,"Duration":419.1852,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN5:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQN5"}
{"@t":"2026-01-18T12:30:45.7883328Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e78d375152faa32fcc77668139458da1","@sp":"613cc5774ecc0cd5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:30:45.7880055Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:45.8827613Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e78d375152faa32fcc77668139458da1","@sp":"613cc5774ecc0cd5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":94.668,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:45.9058056Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d75821d527728fcfa1487be2c39c13d9","@sp":"b1b53072a9e91560","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:30:45.9056240Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQN8"}
{"@t":"2026-01-18T12:30:45.9150283Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d75821d527728fcfa1487be2c39c13d9","@sp":"b1b53072a9e91560","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":9.2842,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQN8"}
{"@t":"2026-01-18T12:30:45.9233118Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d1fcad09e78bde99417f258b41568242","@sp":"25aa4cc00bc521a4","Method":"GET","Path":"/hubs/orders","Query":"?id=l9v1dCxrLP-8M5h5SLMjHQ","Time":"2026-01-18T12:30:45.9232761Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQN9"}
{"@t":"2026-01-18T12:30:45.9275664Z","@mt":"Client connected: {ConnectionId}","@tr":"d1fcad09e78bde99417f258b41568242","@sp":"25aa4cc00bc521a4","ConnectionId":"GF8_ZMkqDy2SYf-YajRRZg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"GF8_ZMkqDy2SYf-YajRRZg","RequestId":"0HNIMHIKTNQN9:00000001","RequestPath":"/hubs/orders","CorrelationId":"d1ffcd45-a2eb-4329-b853-f6be1b184b29"}
{"@t":"2026-01-18T12:30:45.9301990Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"GF8_ZMkqDy2SYf-YajRRZg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"GF8_ZMkqDy2SYf-YajRRZg","RequestId":"0HNIMHIKTNQN9:00000001","RequestPath":"/hubs/orders","CorrelationId":"d1ffcd45-a2eb-4329-b853-f6be1b184b29"}
{"@t":"2026-01-18T12:30:49.0257038Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7b2149f3ee57781c12d697d161dbc344","@sp":"e9bd8fa361c51031","Method":"GET","Path":"/api/admin/orders/7","Query":"","Time":"2026-01-18T12:30:49.0254994Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001D","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:30:49.0499473Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7b2149f3ee57781c12d697d161dbc344","@sp":"e9bd8fa361c51031","Method":"GET","Path":"/api/admin/orders/7","Query":"","StatusCode":200,"Duration":24.4006,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001D","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:31:21.3972684Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e6f899e87d2fafa043dd8a327dff10f2","@sp":"b5a0a1afb55587a6","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:31:21.3971979Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001E","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:31:21.4033097Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"e6f899e87d2fafa043dd8a327dff10f2","@sp":"b5a0a1afb55587a6","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":6.0691,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001E","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:31:21.6204634Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4ce546c67bdc99111d50e0b332335cc2","@sp":"c49d7479241b25e7","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:31:21.6203981Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001F","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:31:21.6263871Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"4ce546c67bdc99111d50e0b332335cc2","@sp":"c49d7479241b25e7","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":5.944,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000001F","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:31:22.3886161Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e23200926499e1937ea1ecf7da5417e0","@sp":"000e4e0ec0501706","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:31:22.3884624Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000020","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:31:22.3951600Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"e23200926499e1937ea1ecf7da5417e0","@sp":"000e4e0ec0501706","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":6.5556,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000020","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:31:22.5773699Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"67ce4d2f38b8b8290e252b585abb5a64","@sp":"068da6e095609d1a","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:31:22.5772424Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000021","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:31:22.5832262Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"67ce4d2f38b8b8290e252b585abb5a64","@sp":"068da6e095609d1a","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":5.8742,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000021","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:31:22.7535122Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"52058793e836e6f0920e1c1d075c431f","@sp":"2eafd39e26b73459","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T12:31:22.7533919Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000022","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:31:22.7582371Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"52058793e836e6f0920e1c1d075c431f","@sp":"2eafd39e26b73459","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":400,"Duration":4.797,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000022","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:07.3584390Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"01cfe8dfe32a1f44dfcfd638bd75acd8","@sp":"8efca9c5387197b9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:32:07.3582540Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000023","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:07.5143608Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"01cfe8dfe32a1f44dfcfd638bd75acd8","@sp":"8efca9c5387197b9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":155.7956,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000023","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:07.6971630Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"01cfe8dfe32a1f44dfcfd638bd75acd8","@sp":"0fcde9b302c6834a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:32:07.6969690Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNA:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQNA"}
{"@t":"2026-01-18T12:32:07.7341665Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"01cfe8dfe32a1f44dfcfd638bd75acd8","@sp":"0fcde9b302c6834a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":36.938,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNA:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQNA"}
{"@t":"2026-01-18T12:32:07.7544732Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"01cfe8dfe32a1f44dfcfd638bd75acd8","@sp":"86cc2f67887ee09a","Method":"GET","Path":"/hubs/orders","Query":"?id=sMDqqNm314uXKjT5Oj9GBA","Time":"2026-01-18T12:32:07.7543795Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNB:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQNB"}
{"@t":"2026-01-18T12:32:07.7902870Z","@mt":"Client connected: {ConnectionId}","@tr":"01cfe8dfe32a1f44dfcfd638bd75acd8","@sp":"86cc2f67887ee09a","ConnectionId":"kG0roYbqswZ3UH7ceWKVwA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"kG0roYbqswZ3UH7ceWKVwA","RequestId":"0HNIMHIKTNQNB:00000001","RequestPath":"/hubs/orders","CorrelationId":"c6f86f1e-16cf-42b2-a5b1-772979b52299"}
{"@t":"2026-01-18T12:32:07.8281644Z","@mt":"Client disconnected: {ConnectionId}","@tr":"01cfe8dfe32a1f44dfcfd638bd75acd8","@sp":"86cc2f67887ee09a","ConnectionId":"kG0roYbqswZ3UH7ceWKVwA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"kG0roYbqswZ3UH7ceWKVwA","RequestId":"0HNIMHIKTNQNB:00000001","RequestPath":"/hubs/orders","CorrelationId":"c6f86f1e-16cf-42b2-a5b1-772979b52299"}
{"@t":"2026-01-18T12:32:07.9003891Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"938bf8df4f49dc2972c6f88fc0901dfd","@sp":"a1ce8d050cabb377","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:32:07.9001310Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000024","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:08.0517331Z","@mt":"Client disconnected: {ConnectionId}","@tr":"d1fcad09e78bde99417f258b41568242","@sp":"25aa4cc00bc521a4","ConnectionId":"GF8_ZMkqDy2SYf-YajRRZg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"GF8_ZMkqDy2SYf-YajRRZg","RequestId":"0HNIMHIKTNQN9:00000001","RequestPath":"/hubs/orders","CorrelationId":"d1ffcd45-a2eb-4329-b853-f6be1b184b29"}
{"@t":"2026-01-18T12:32:08.0648352Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"01cfe8dfe32a1f44dfcfd638bd75acd8","@sp":"86cc2f67887ee09a","Method":"GET","Path":"/hubs/orders","Query":"?id=sMDqqNm314uXKjT5Oj9GBA","StatusCode":101,"Duration":310.3496,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNB:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQNB"}
{"@t":"2026-01-18T12:32:08.0936460Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d1fcad09e78bde99417f258b41568242","@sp":"25aa4cc00bc521a4","Method":"GET","Path":"/hubs/orders","Query":"?id=l9v1dCxrLP-8M5h5SLMjHQ","StatusCode":101,"Duration":82170.2325,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQN9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQN9"}
{"@t":"2026-01-18T12:32:08.1210411Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"938bf8df4f49dc2972c6f88fc0901dfd","@sp":"a1ce8d050cabb377","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":220.7997,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000024","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:08.1724854Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ea6007c12cf77e96c49ef51da3a4a3bd","@sp":"4d964bed126f45c1","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:32:08.1723607Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNC:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQNC"}
{"@t":"2026-01-18T12:32:08.1820520Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ea6007c12cf77e96c49ef51da3a4a3bd","@sp":"4d964bed126f45c1","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":9.5747,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNC:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQNC"}
{"@t":"2026-01-18T12:32:08.1936984Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5bf881042444df777d1290f0d4a92c28","@sp":"c781055dc354d045","Method":"GET","Path":"/hubs/orders","Query":"?id=ECZfm3Ze8uNHRm_usGlgHg","Time":"2026-01-18T12:32:08.1934177Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQND:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQND"}
{"@t":"2026-01-18T12:32:08.2098551Z","@mt":"Client connected: {ConnectionId}","@tr":"5bf881042444df777d1290f0d4a92c28","@sp":"c781055dc354d045","ConnectionId":"TDQEEGKvvehkw9L1CEOydA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"TDQEEGKvvehkw9L1CEOydA","RequestId":"0HNIMHIKTNQND:00000001","RequestPath":"/hubs/orders","CorrelationId":"2315019f-b377-4878-b1c9-0649178b06b9"}
{"@t":"2026-01-18T12:32:11.6275499Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2fdc801aa42aaf1ee7be00d3e228ad8c","@sp":"9d78b852c278d632","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T12:32:11.6268956Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000025","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:11.6494911Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"2fdc801aa42aaf1ee7be00d3e228ad8c","@sp":"9d78b852c278d632","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":22.2584,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000025","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:11.7204567Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2326c8cd912829c8283c5037b79184ab","@sp":"74969021f06f257e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:32:11.7201766Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000026","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:11.8123509Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2326c8cd912829c8283c5037b79184ab","@sp":"74969021f06f257e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":92.0628,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000026","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:12.4316742Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2202cfe18c19090afa1cf62e99a0d558","@sp":"7ad803407e2f967f","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T12:32:12.4313207Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000027","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:12.4565836Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"2202cfe18c19090afa1cf62e99a0d558","@sp":"7ad803407e2f967f","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":400,"Duration":24.917,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000027","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:12.4991252Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f728e9b18668e2bec381d73665a54fe9","@sp":"ec47e102abce724f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:32:12.4988528Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000028","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:12.5722294Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f728e9b18668e2bec381d73665a54fe9","@sp":"ec47e102abce724f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":73.1523,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000028","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:20.0498598Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e4890ab2c3aefad1c49786ed7ccc2a65","@sp":"690b1478619e302c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:32:20.0497212Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000029","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:20.0896788Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e4890ab2c3aefad1c49786ed7ccc2a65","@sp":"690b1478619e302c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":39.9168,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:00000029","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:20.1020394Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e4890ab2c3aefad1c49786ed7ccc2a65","@sp":"2babf7fdb7f2d799","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:32:20.1019855Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNE:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQNE"}
{"@t":"2026-01-18T12:32:20.1115188Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e4890ab2c3aefad1c49786ed7ccc2a65","@sp":"2babf7fdb7f2d799","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":9.4037,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNE:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQNE"}
{"@t":"2026-01-18T12:32:20.1222775Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e4890ab2c3aefad1c49786ed7ccc2a65","@sp":"316e25d93be992ed","Method":"GET","Path":"/hubs/orders","Query":"?id=CNI-LTH_QC5lG-4vPIfloQ","Time":"2026-01-18T12:32:20.1220672Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNF:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQNF"}
{"@t":"2026-01-18T12:32:20.1347733Z","@mt":"Client connected: {ConnectionId}","@tr":"e4890ab2c3aefad1c49786ed7ccc2a65","@sp":"316e25d93be992ed","ConnectionId":"17ZxJlhDYwQN7CqCA-Q8LA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"17ZxJlhDYwQN7CqCA-Q8LA","RequestId":"0HNIMHIKTNQNF:00000001","RequestPath":"/hubs/orders","CorrelationId":"5a7707fe-7e79-40e2-b9b2-bdd1001eefab"}
{"@t":"2026-01-18T12:32:20.1385887Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"17ZxJlhDYwQN7CqCA-Q8LA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"17ZxJlhDYwQN7CqCA-Q8LA","RequestId":"0HNIMHIKTNQNF:00000001","RequestPath":"/hubs/orders","CorrelationId":"5a7707fe-7e79-40e2-b9b2-bdd1001eefab"}
{"@t":"2026-01-18T12:32:20.1469088Z","@mt":"Client disconnected: {ConnectionId}","@tr":"e4890ab2c3aefad1c49786ed7ccc2a65","@sp":"316e25d93be992ed","ConnectionId":"17ZxJlhDYwQN7CqCA-Q8LA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"17ZxJlhDYwQN7CqCA-Q8LA","RequestId":"0HNIMHIKTNQNF:00000001","RequestPath":"/hubs/orders","CorrelationId":"5a7707fe-7e79-40e2-b9b2-bdd1001eefab"}
{"@t":"2026-01-18T12:32:20.1562876Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e4890ab2c3aefad1c49786ed7ccc2a65","@sp":"316e25d93be992ed","Method":"GET","Path":"/hubs/orders","Query":"?id=CNI-LTH_QC5lG-4vPIfloQ","StatusCode":101,"Duration":34.1477,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNF:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQNF"}
{"@t":"2026-01-18T12:32:20.1841508Z","@mt":"Client disconnected: {ConnectionId}","@tr":"5bf881042444df777d1290f0d4a92c28","@sp":"c781055dc354d045","ConnectionId":"TDQEEGKvvehkw9L1CEOydA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"TDQEEGKvvehkw9L1CEOydA","RequestId":"0HNIMHIKTNQND:00000001","RequestPath":"/hubs/orders","CorrelationId":"2315019f-b377-4878-b1c9-0649178b06b9"}
{"@t":"2026-01-18T12:32:20.1893704Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5bf881042444df777d1290f0d4a92c28","@sp":"c781055dc354d045","Method":"GET","Path":"/hubs/orders","Query":"?id=ECZfm3Ze8uNHRm_usGlgHg","StatusCode":101,"Duration":11995.8332,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQND:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQND"}
{"@t":"2026-01-18T12:32:20.1914899Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"24349921d1f43429ffb42983f4be894c","@sp":"51222438ce6c58a7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:32:20.1913696Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000002A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:20.2196007Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"24349921d1f43429ffb42983f4be894c","@sp":"51222438ce6c58a7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":28.1745,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQMH:0000002A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQMH"}
{"@t":"2026-01-18T12:32:20.2412310Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"10e523bbd899004f52dc659e2f815a3b","@sp":"7be330f3e0a6fa2d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:32:20.2411589Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNG:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQNG"}
{"@t":"2026-01-18T12:32:20.2448501Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"10e523bbd899004f52dc659e2f815a3b","@sp":"7be330f3e0a6fa2d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":3.6254,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNG:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHIKTNQNG"}
{"@t":"2026-01-18T12:32:20.2543611Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b9a65c3821bfef753ff64f296d3ccd12","@sp":"9e6689fff1969469","Method":"GET","Path":"/hubs/orders","Query":"?id=_IEstAQloSkzwaV2YhSEFw","Time":"2026-01-18T12:32:20.2542071Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNH:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQNH"}
{"@t":"2026-01-18T12:32:20.2649942Z","@mt":"Client connected: {ConnectionId}","@tr":"b9a65c3821bfef753ff64f296d3ccd12","@sp":"9e6689fff1969469","ConnectionId":"X_aC0cdIhWNThriGo2CUGw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"X_aC0cdIhWNThriGo2CUGw","RequestId":"0HNIMHIKTNQNH:00000001","RequestPath":"/hubs/orders","CorrelationId":"f941b8ec-fd80-4b2f-97eb-8513289c376c"}
{"@t":"2026-01-18T12:32:20.2831122Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"X_aC0cdIhWNThriGo2CUGw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"X_aC0cdIhWNThriGo2CUGw","RequestId":"0HNIMHIKTNQNH:00000001","RequestPath":"/hubs/orders","CorrelationId":"f941b8ec-fd80-4b2f-97eb-8513289c376c"}
{"@t":"2026-01-18T12:32:26.1044743Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"72c42090eddc23c8e9cda071edc520b6","@sp":"e8309480e6ae6ec9","Method":"GET","Path":"/api/admin/orders/5","Query":"","Time":"2026-01-18T12:32:26.1044264Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000001","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:26.1292200Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"72c42090eddc23c8e9cda071edc520b6","@sp":"e8309480e6ae6ec9","Method":"GET","Path":"/api/admin/orders/5","Query":"","StatusCode":200,"Duration":24.7353,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000001","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:27.5613766Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2f8c31676be78a5478ac25429a33aaf7","@sp":"905887907be04ae2","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:32:27.5613339Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000002","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:27.5651624Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"2f8c31676be78a5478ac25429a33aaf7","@sp":"905887907be04ae2","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":3.794,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000002","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:28.1060212Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9fcb6dd07484db327179640a8fe1aeb0","@sp":"d0e44cdbb5dd4f03","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:32:28.1059746Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000003","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:28.1105200Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"9fcb6dd07484db327179640a8fe1aeb0","@sp":"d0e44cdbb5dd4f03","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.5257,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000003","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:28.3134704Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"55c4211bfe2a4572804b44d37f282cdb","@sp":"4a1239d81814718f","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:32:28.3133761Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000004","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:28.3184822Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"55c4211bfe2a4572804b44d37f282cdb","@sp":"4a1239d81814718f","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":5.0702,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000004","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:28.4966592Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"184d429f9b40ef6b1a6e316a066cbc04","@sp":"1af6818c7ecfef4a","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:32:28.4966149Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000005","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:28.5009882Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"184d429f9b40ef6b1a6e316a066cbc04","@sp":"1af6818c7ecfef4a","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.3511,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000005","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:28.7090976Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ba20559d51f0ca80d1ccdeb973f64443","@sp":"40517cb13497ee6d","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:32:28.7090355Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000006","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:28.7128979Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"ba20559d51f0ca80d1ccdeb973f64443","@sp":"40517cb13497ee6d","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":3.8161,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000006","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:28.9117598Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"40e5af36aa1be5908acfae1e6cd979e1","@sp":"13658fa08ad42993","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:32:28.9117201Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000007","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:28.9263436Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"40e5af36aa1be5908acfae1e6cd979e1","@sp":"13658fa08ad42993","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":14.5961,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000007","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:29.1132306Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"add8e9e73beb20189f260375555177ac","@sp":"66f79142b9697a2b","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:32:29.1131909Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000008","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:29.1173367Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"add8e9e73beb20189f260375555177ac","@sp":"66f79142b9697a2b","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":4.1228,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000008","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:29.3454597Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"833c8f07896b1ef472685e58d990eb0d","@sp":"07195b4064e8f42c","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:32:29.3454115Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000009","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:29.3637735Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"833c8f07896b1ef472685e58d990eb0d","@sp":"07195b4064e8f42c","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":400,"Duration":18.3409,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:00000009","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:38.2338448Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2e83870678dc5aaec325edf54bb12ebc","@sp":"fed9179c977ed3f7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:32:38.2337890Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:32:38.2512292Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2e83870678dc5aaec325edf54bb12ebc","@sp":"fed9179c977ed3f7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":17.4131,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:33:01.5720483Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"46561b80e43e025973a2dddf3736c3a1","@sp":"8f366bb721067d27","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:33:01.5720123Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNJ:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQNJ"}
{"@t":"2026-01-18T12:33:01.5928315Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"46561b80e43e025973a2dddf3736c3a1","@sp":"8f366bb721067d27","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":400,"Duration":20.7559,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNJ:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMHIKTNQNJ"}
{"@t":"2026-01-18T12:33:08.2716255Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"515e1f4b1f3a8100934c09a829b89847","@sp":"8b96929ec13f9375","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:33:08.2715721Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:33:08.2944178Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"515e1f4b1f3a8100934c09a829b89847","@sp":"8b96929ec13f9375","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":22.8119,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:33:38.3094621Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9bed207eaf02c9c8e1c12370d80569b5","@sp":"b12189184752ddd4","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:33:38.3093682Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:33:38.3414239Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9bed207eaf02c9c8e1c12370d80569b5","@sp":"b12189184752ddd4","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":31.989,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:34:08.3556794Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"38fa5958a15f3662e1cd6aea7612df8f","@sp":"3d9e5a5488d91479","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:34:08.3555932Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:34:08.4013260Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"38fa5958a15f3662e1cd6aea7612df8f","@sp":"3d9e5a5488d91479","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":45.6085,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNI:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNI"}
{"@t":"2026-01-18T12:34:38.4198345Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ebfa48a1cccc7f2942aac0b92cd15d13","@sp":"894666f5ef24282e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:34:38.4197778Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNK:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNK"}
{"@t":"2026-01-18T12:34:38.4355524Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ebfa48a1cccc7f2942aac0b92cd15d13","@sp":"894666f5ef24282e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":15.6981,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNK:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNK"}
{"@t":"2026-01-18T12:35:08.4459474Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c63b7e26af0866ea6012a6e7110653db","@sp":"b44362b8af943048","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:35:08.4459107Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNK:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNK"}
{"@t":"2026-01-18T12:35:08.4700777Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c63b7e26af0866ea6012a6e7110653db","@sp":"b44362b8af943048","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":24.1073,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNK:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNK"}
{"@t":"2026-01-18T12:35:38.4873268Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"66203008b775a8a74b14f8e07e56bd52","@sp":"a8a80fc4c8ba087f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:35:38.4872850Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNK:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNK"}
{"@t":"2026-01-18T12:35:38.5502364Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"66203008b775a8a74b14f8e07e56bd52","@sp":"a8a80fc4c8ba087f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":62.8959,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNK:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNK"}
{"@t":"2026-01-18T12:36:08.5798894Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"357b498b1b9daea471f82028252008bb","@sp":"e6d9b03386b6cba5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:36:08.5798498Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNK:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNK"}
{"@t":"2026-01-18T12:36:08.5925271Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"357b498b1b9daea471f82028252008bb","@sp":"e6d9b03386b6cba5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":12.6333,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNK:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNK"}
{"@t":"2026-01-18T12:36:38.6039686Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e0703b91d69949c6d9b031a4f4bc78ee","@sp":"a744d06231f4a86e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:36:38.6039407Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNL:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNL"}
{"@t":"2026-01-18T12:36:38.6209104Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e0703b91d69949c6d9b031a4f4bc78ee","@sp":"a744d06231f4a86e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":16.924,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNL:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNL"}
{"@t":"2026-01-18T12:37:08.6307088Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b0a91cfa1476f8e73dd7f8ed99b65189","@sp":"3a4a88244033fe36","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:37:08.6306567Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNL:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNL"}
{"@t":"2026-01-18T12:37:08.6487353Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b0a91cfa1476f8e73dd7f8ed99b65189","@sp":"3a4a88244033fe36","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":17.9926,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNL:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNL"}
{"@t":"2026-01-18T12:37:38.6673664Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f7e51f8d0ebe67ee5f172d268b2a2720","@sp":"74a20f462675e4f5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:37:38.6673261Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNL:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNL"}
{"@t":"2026-01-18T12:37:38.6930583Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f7e51f8d0ebe67ee5f172d268b2a2720","@sp":"74a20f462675e4f5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":25.6846,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNL:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNL"}
{"@t":"2026-01-18T12:38:08.7117487Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"834d43b7e0c516923e09622800f3e068","@sp":"7aad443d8e12e9f4","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:38:08.7116984Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNL:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNL"}
{"@t":"2026-01-18T12:38:08.7321432Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"834d43b7e0c516923e09622800f3e068","@sp":"7aad443d8e12e9f4","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":20.4085,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNL:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNL"}
{"@t":"2026-01-18T12:38:38.8790548Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ec298a5273b57e53e36d53b872ae6a11","@sp":"bf4716e4467ae9aa","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:38:38.8789399Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNM:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNM"}
{"@t":"2026-01-18T12:38:38.9145677Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ec298a5273b57e53e36d53b872ae6a11","@sp":"bf4716e4467ae9aa","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":35.5699,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNM:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNM"}
{"@t":"2026-01-18T12:39:09.3174796Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2e399f017ed0464fbfb72167b5c31ae3","@sp":"5fffc7f1d649439d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:39:09.3173937Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNM:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNM"}
{"@t":"2026-01-18T12:39:09.3413519Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2e399f017ed0464fbfb72167b5c31ae3","@sp":"5fffc7f1d649439d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":23.8963,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNM:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHIKTNQNM"}
{"@t":"2026-01-18T12:39:25.6514376Z","@mt":"Client disconnected: {ConnectionId}","@tr":"b9a65c3821bfef753ff64f296d3ccd12","@sp":"9e6689fff1969469","ConnectionId":"X_aC0cdIhWNThriGo2CUGw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"X_aC0cdIhWNThriGo2CUGw","RequestId":"0HNIMHIKTNQNH:00000001","RequestPath":"/hubs/orders","CorrelationId":"f941b8ec-fd80-4b2f-97eb-8513289c376c"}
{"@t":"2026-01-18T12:39:25.6553375Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b9a65c3821bfef753ff64f296d3ccd12","@sp":"9e6689fff1969469","Method":"GET","Path":"/hubs/orders","Query":"?id=_IEstAQloSkzwaV2YhSEFw","StatusCode":101,"Duration":425400.9959,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHIKTNQNH:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHIKTNQNH"}
{"@t":"2026-01-18T12:40:42.4417923Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T12:40:42.5306488Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T12:40:42.5344601Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T12:40:42.9503770Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T12:40:44.9453840Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:40:44.9498414Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:40:44.9528710Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:40:46.0393508Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:40:46.0445804Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:40:46.0491528Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:40:46.3370185Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T12:40:46.4973334Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T12:40:57.9938836Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"effea5c6e5eaf3c5dfe43cb4074c7714","@sp":"55c9cfe80478fbc7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:40:57.9922469Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:40:58.0036978Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"effea5c6e5eaf3c5dfe43cb4074c7714","@sp":"55c9cfe80478fbc7","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMHRA3F4O5:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5","CorrelationId":"afb878e0-3505-42e4-b042-3c43d8a0747a"}
{"@t":"2026-01-18T12:41:00.8220263Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"effea5c6e5eaf3c5dfe43cb4074c7714","@sp":"55c9cfe80478fbc7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":2829.0618,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:01.0964744Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"effea5c6e5eaf3c5dfe43cb4074c7714","@sp":"f459ee4bb35c3b7d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:41:01.0963643Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O6:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4O6"}
{"@t":"2026-01-18T12:41:01.1208929Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"effea5c6e5eaf3c5dfe43cb4074c7714","@sp":"f459ee4bb35c3b7d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":24.2929,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O6:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4O6"}
{"@t":"2026-01-18T12:41:01.2191355Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"effea5c6e5eaf3c5dfe43cb4074c7714","@sp":"02a55b6d80509f48","Method":"GET","Path":"/hubs/orders","Query":"?id=oF-A3pVvRG8Fo_gdhtiDag","Time":"2026-01-18T12:41:01.2190697Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O7:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4O7"}
{"@t":"2026-01-18T12:41:01.3257861Z","@mt":"Client connected: {ConnectionId}","@tr":"effea5c6e5eaf3c5dfe43cb4074c7714","@sp":"02a55b6d80509f48","ConnectionId":"K--ga9mjVPkXn3RVB_htwQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"K--ga9mjVPkXn3RVB_htwQ","RequestId":"0HNIMHRA3F4O7:00000001","RequestPath":"/hubs/orders","CorrelationId":"95f8535f-4f56-48a2-a27b-6e681552ccf7"}
{"@t":"2026-01-18T12:41:01.3836532Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"K--ga9mjVPkXn3RVB_htwQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"K--ga9mjVPkXn3RVB_htwQ","RequestId":"0HNIMHRA3F4O7:00000001","RequestPath":"/hubs/orders","CorrelationId":"95f8535f-4f56-48a2-a27b-6e681552ccf7"}
{"@t":"2026-01-18T12:41:01.6306091Z","@mt":"Client disconnected: {ConnectionId}","@tr":"effea5c6e5eaf3c5dfe43cb4074c7714","@sp":"02a55b6d80509f48","ConnectionId":"K--ga9mjVPkXn3RVB_htwQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"K--ga9mjVPkXn3RVB_htwQ","RequestId":"0HNIMHRA3F4O7:00000001","RequestPath":"/hubs/orders","CorrelationId":"95f8535f-4f56-48a2-a27b-6e681552ccf7"}
{"@t":"2026-01-18T12:41:01.6588717Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"effea5c6e5eaf3c5dfe43cb4074c7714","@sp":"02a55b6d80509f48","Method":"GET","Path":"/hubs/orders","Query":"?id=oF-A3pVvRG8Fo_gdhtiDag","StatusCode":101,"Duration":439.4875,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O7:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4O7"}
{"@t":"2026-01-18T12:41:02.2598982Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0572f02a2a174aa049b78c42f1a7b17e","@sp":"f865d37fb2aafae2","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:41:02.2598322Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:02.6593906Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0572f02a2a174aa049b78c42f1a7b17e","@sp":"f865d37fb2aafae2","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":399.4501,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:02.6801979Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a531c3046336a1387a70689828ebc542","@sp":"d547d4d2ff9ae9e8","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:41:02.6801527Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4O8"}
{"@t":"2026-01-18T12:41:02.6856573Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a531c3046336a1387a70689828ebc542","@sp":"d547d4d2ff9ae9e8","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":5.4398,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4O8"}
{"@t":"2026-01-18T12:41:02.6913235Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"506bf5b9f77317d36433fe2499709e72","@sp":"03f4d2d230bbf2cb","Method":"GET","Path":"/hubs/orders","Query":"?id=507lVq4REsRrH1gb8ePXYw","Time":"2026-01-18T12:41:02.6912519Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4O9"}
{"@t":"2026-01-18T12:41:02.7025630Z","@mt":"Client connected: {ConnectionId}","@tr":"506bf5b9f77317d36433fe2499709e72","@sp":"03f4d2d230bbf2cb","ConnectionId":"d_CS0MRj08xHQTruaAJKBQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"d_CS0MRj08xHQTruaAJKBQ","RequestId":"0HNIMHRA3F4O9:00000001","RequestPath":"/hubs/orders","CorrelationId":"0442ace5-5649-4d04-9c1e-bf6e4886be21"}
{"@t":"2026-01-18T12:41:02.7086205Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"d_CS0MRj08xHQTruaAJKBQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"d_CS0MRj08xHQTruaAJKBQ","RequestId":"0HNIMHRA3F4O9:00000001","RequestPath":"/hubs/orders","CorrelationId":"0442ace5-5649-4d04-9c1e-bf6e4886be21"}
{"@t":"2026-01-18T12:41:21.8704506Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dc79299640d7e542f9754aacfc00f6a6","@sp":"03c7f846a80c99f9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:41:21.8702789Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:21.9805928Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dc79299640d7e542f9754aacfc00f6a6","@sp":"03c7f846a80c99f9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":110.2111,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:22.0040798Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dc79299640d7e542f9754aacfc00f6a6","@sp":"beaef258c9365fc9","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:41:22.0039655Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OA:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OA"}
{"@t":"2026-01-18T12:41:22.0162081Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dc79299640d7e542f9754aacfc00f6a6","@sp":"beaef258c9365fc9","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":12.1469,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OA:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OA"}
{"@t":"2026-01-18T12:41:22.0208053Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dc79299640d7e542f9754aacfc00f6a6","@sp":"19d6fbcbeb3e5cf8","Method":"GET","Path":"/hubs/orders","Query":"?id=PmjR3Zzrz_hM43vQSFVjZw","Time":"2026-01-18T12:41:22.0207235Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OB:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OB"}
{"@t":"2026-01-18T12:41:22.0280845Z","@mt":"Client connected: {ConnectionId}","@tr":"dc79299640d7e542f9754aacfc00f6a6","@sp":"19d6fbcbeb3e5cf8","ConnectionId":"kKfX8k4NanEtylt-3r7Img","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"kKfX8k4NanEtylt-3r7Img","RequestId":"0HNIMHRA3F4OB:00000001","RequestPath":"/hubs/orders","CorrelationId":"1848603a-56b4-4711-a896-f1a25f52829b"}
{"@t":"2026-01-18T12:41:22.0315248Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"kKfX8k4NanEtylt-3r7Img","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"kKfX8k4NanEtylt-3r7Img","RequestId":"0HNIMHRA3F4OB:00000001","RequestPath":"/hubs/orders","CorrelationId":"1848603a-56b4-4711-a896-f1a25f52829b"}
{"@t":"2026-01-18T12:41:22.0486299Z","@mt":"Client disconnected: {ConnectionId}","@tr":"dc79299640d7e542f9754aacfc00f6a6","@sp":"19d6fbcbeb3e5cf8","ConnectionId":"kKfX8k4NanEtylt-3r7Img","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"kKfX8k4NanEtylt-3r7Img","RequestId":"0HNIMHRA3F4OB:00000001","RequestPath":"/hubs/orders","CorrelationId":"1848603a-56b4-4711-a896-f1a25f52829b"}
{"@t":"2026-01-18T12:41:22.0785389Z","@mt":"Client disconnected: {ConnectionId}","@tr":"506bf5b9f77317d36433fe2499709e72","@sp":"03f4d2d230bbf2cb","ConnectionId":"d_CS0MRj08xHQTruaAJKBQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"d_CS0MRj08xHQTruaAJKBQ","RequestId":"0HNIMHRA3F4O9:00000001","RequestPath":"/hubs/orders","CorrelationId":"0442ace5-5649-4d04-9c1e-bf6e4886be21"}
{"@t":"2026-01-18T12:41:22.1080389Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dc79299640d7e542f9754aacfc00f6a6","@sp":"19d6fbcbeb3e5cf8","Method":"GET","Path":"/hubs/orders","Query":"?id=PmjR3Zzrz_hM43vQSFVjZw","StatusCode":101,"Duration":87.1673,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OB:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OB"}
{"@t":"2026-01-18T12:41:22.1552786Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"506bf5b9f77317d36433fe2499709e72","@sp":"03f4d2d230bbf2cb","Method":"GET","Path":"/hubs/orders","Query":"?id=507lVq4REsRrH1gb8ePXYw","StatusCode":101,"Duration":19463.9029,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4O9"}
{"@t":"2026-01-18T12:41:22.4159814Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fde0af206a5ba2268331f78bc9141c30","@sp":"cc0215518fa624f6","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:41:22.4157491Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:22.4933010Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fde0af206a5ba2268331f78bc9141c30","@sp":"cc0215518fa624f6","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":77.2883,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:22.6074801Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fb2204c4f1ccaceb5c9c3eb45e1f2773","@sp":"999cba702b5eafe7","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:41:22.6073732Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OC:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OC"}
{"@t":"2026-01-18T12:41:22.6551212Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fb2204c4f1ccaceb5c9c3eb45e1f2773","@sp":"999cba702b5eafe7","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":47.6568,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OC:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OC"}
{"@t":"2026-01-18T12:41:22.6614819Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4e7c8c9fb5caed859e675cce4fd62c2a","@sp":"f524f5bcf9c3f355","Method":"GET","Path":"/hubs/orders","Query":"?id=a0GjW_hkaZEghwsqF3oztg","Time":"2026-01-18T12:41:22.6614070Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OD:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OD"}
{"@t":"2026-01-18T12:41:22.6764241Z","@mt":"Client connected: {ConnectionId}","@tr":"4e7c8c9fb5caed859e675cce4fd62c2a","@sp":"f524f5bcf9c3f355","ConnectionId":"NbYYe2dbOLV8P9yJLYtTQA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"NbYYe2dbOLV8P9yJLYtTQA","RequestId":"0HNIMHRA3F4OD:00000001","RequestPath":"/hubs/orders","CorrelationId":"baeab8f8-580c-48f1-9f61-c725f85f0c42"}
{"@t":"2026-01-18T12:41:22.6920437Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"NbYYe2dbOLV8P9yJLYtTQA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"NbYYe2dbOLV8P9yJLYtTQA","RequestId":"0HNIMHRA3F4OD:00000001","RequestPath":"/hubs/orders","CorrelationId":"baeab8f8-580c-48f1-9f61-c725f85f0c42"}
{"@t":"2026-01-18T12:41:26.1682884Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"36cd16fbcefdc078abb93fffdb939ce8","@sp":"b631d5dcd25248c5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:41:26.1681860Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:26.2360683Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"36cd16fbcefdc078abb93fffdb939ce8","@sp":"b631d5dcd25248c5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":67.8207,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:26.2594803Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"36cd16fbcefdc078abb93fffdb939ce8","@sp":"cfc839e72693923c","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:41:26.2593573Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OE:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OE"}
{"@t":"2026-01-18T12:41:26.2639453Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"36cd16fbcefdc078abb93fffdb939ce8","@sp":"cfc839e72693923c","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":4.5155,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OE:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OE"}
{"@t":"2026-01-18T12:41:26.2690370Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"36cd16fbcefdc078abb93fffdb939ce8","@sp":"2a4593c0489f5deb","Method":"GET","Path":"/hubs/orders","Query":"?id=hQSwFwfw-idAvM3-zAil2g","Time":"2026-01-18T12:41:26.2688982Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OF:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OF"}
{"@t":"2026-01-18T12:41:26.2749152Z","@mt":"Client connected: {ConnectionId}","@tr":"36cd16fbcefdc078abb93fffdb939ce8","@sp":"2a4593c0489f5deb","ConnectionId":"RgiZ4Mbp167vRhmhTGSv7g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"RgiZ4Mbp167vRhmhTGSv7g","RequestId":"0HNIMHRA3F4OF:00000001","RequestPath":"/hubs/orders","CorrelationId":"a930e6dd-f165-483f-9c9b-0b307025890e"}
{"@t":"2026-01-18T12:41:26.2775663Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"RgiZ4Mbp167vRhmhTGSv7g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"RgiZ4Mbp167vRhmhTGSv7g","RequestId":"0HNIMHRA3F4OF:00000001","RequestPath":"/hubs/orders","CorrelationId":"a930e6dd-f165-483f-9c9b-0b307025890e"}
{"@t":"2026-01-18T12:41:26.3002218Z","@mt":"Client disconnected: {ConnectionId}","@tr":"36cd16fbcefdc078abb93fffdb939ce8","@sp":"2a4593c0489f5deb","ConnectionId":"RgiZ4Mbp167vRhmhTGSv7g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"RgiZ4Mbp167vRhmhTGSv7g","RequestId":"0HNIMHRA3F4OF:00000001","RequestPath":"/hubs/orders","CorrelationId":"a930e6dd-f165-483f-9c9b-0b307025890e"}
{"@t":"2026-01-18T12:41:26.3026412Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"36cd16fbcefdc078abb93fffdb939ce8","@sp":"2a4593c0489f5deb","Method":"GET","Path":"/hubs/orders","Query":"?id=hQSwFwfw-idAvM3-zAil2g","StatusCode":101,"Duration":33.6293,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OF:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OF"}
{"@t":"2026-01-18T12:41:26.3491199Z","@mt":"Client disconnected: {ConnectionId}","@tr":"4e7c8c9fb5caed859e675cce4fd62c2a","@sp":"f524f5bcf9c3f355","ConnectionId":"NbYYe2dbOLV8P9yJLYtTQA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"NbYYe2dbOLV8P9yJLYtTQA","RequestId":"0HNIMHRA3F4OD:00000001","RequestPath":"/hubs/orders","CorrelationId":"baeab8f8-580c-48f1-9f61-c725f85f0c42"}
{"@t":"2026-01-18T12:41:26.3548956Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4e7c8c9fb5caed859e675cce4fd62c2a","@sp":"f524f5bcf9c3f355","Method":"GET","Path":"/hubs/orders","Query":"?id=a0GjW_hkaZEghwsqF3oztg","StatusCode":101,"Duration":3693.2095,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OD:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OD"}
{"@t":"2026-01-18T12:41:26.6087196Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e162f2688d17461fad8f3c31f4d049b3","@sp":"b222a6c787d2586a","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:41:26.6086138Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:26.6769160Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e162f2688d17461fad8f3c31f4d049b3","@sp":"b222a6c787d2586a","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":68.011,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:26.6988926Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9572cff98327b311645f98babcfdb2e1","@sp":"3524d0b00da1c2a8","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:41:26.6988240Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OG:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OG"}
{"@t":"2026-01-18T12:41:26.7049315Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9572cff98327b311645f98babcfdb2e1","@sp":"3524d0b00da1c2a8","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":6.027,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OG:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OG"}
{"@t":"2026-01-18T12:41:26.7110268Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8bf22c134cf09ef556aabc47caf9f9da","@sp":"6bb183e2d0cd7d7c","Method":"GET","Path":"/hubs/orders","Query":"?id=q-CuSgHkX6TNTQcXv9eJmg","Time":"2026-01-18T12:41:26.7107883Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OH:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OH"}
{"@t":"2026-01-18T12:41:26.7295428Z","@mt":"Client connected: {ConnectionId}","@tr":"8bf22c134cf09ef556aabc47caf9f9da","@sp":"6bb183e2d0cd7d7c","ConnectionId":"y-REbOQEeIVEYZPzzS6rqw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"y-REbOQEeIVEYZPzzS6rqw","RequestId":"0HNIMHRA3F4OH:00000001","RequestPath":"/hubs/orders","CorrelationId":"84e126e2-27da-4237-8582-e70ea0e5f87c"}
{"@t":"2026-01-18T12:41:26.7362576Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"y-REbOQEeIVEYZPzzS6rqw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"y-REbOQEeIVEYZPzzS6rqw","RequestId":"0HNIMHRA3F4OH:00000001","RequestPath":"/hubs/orders","CorrelationId":"84e126e2-27da-4237-8582-e70ea0e5f87c"}
{"@t":"2026-01-18T12:41:31.9543126Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e7884a7b390d1ab7cef318711f478801","@sp":"857b593d58022c18","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:41:31.9542563Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:32.0493471Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e7884a7b390d1ab7cef318711f478801","@sp":"857b593d58022c18","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":94.9793,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:32.0639977Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e7884a7b390d1ab7cef318711f478801","@sp":"a7ef456592e0c098","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:41:32.0639468Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OI:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OI"}
{"@t":"2026-01-18T12:41:32.0677404Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e7884a7b390d1ab7cef318711f478801","@sp":"a7ef456592e0c098","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":3.7225,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OI:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OI"}
{"@t":"2026-01-18T12:41:32.0711212Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e7884a7b390d1ab7cef318711f478801","@sp":"e07f12ec1bc6f8c6","Method":"GET","Path":"/hubs/orders","Query":"?id=7PG52T9djY6bQ2XN4wkrwg","Time":"2026-01-18T12:41:32.0710719Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OJ:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OJ"}
{"@t":"2026-01-18T12:41:32.0807471Z","@mt":"Client connected: {ConnectionId}","@tr":"e7884a7b390d1ab7cef318711f478801","@sp":"e07f12ec1bc6f8c6","ConnectionId":"iyFvfHTHquGD4Yc5y3mvJw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"iyFvfHTHquGD4Yc5y3mvJw","RequestId":"0HNIMHRA3F4OJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"378981b8-24c6-4b05-b2b0-49b71d6b1c7b"}
{"@t":"2026-01-18T12:41:32.1011598Z","@mt":"Client disconnected: {ConnectionId}","@tr":"e7884a7b390d1ab7cef318711f478801","@sp":"e07f12ec1bc6f8c6","ConnectionId":"iyFvfHTHquGD4Yc5y3mvJw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"iyFvfHTHquGD4Yc5y3mvJw","RequestId":"0HNIMHRA3F4OJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"378981b8-24c6-4b05-b2b0-49b71d6b1c7b"}
{"@t":"2026-01-18T12:41:32.1035302Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e7884a7b390d1ab7cef318711f478801","@sp":"e07f12ec1bc6f8c6","Method":"GET","Path":"/hubs/orders","Query":"?id=7PG52T9djY6bQ2XN4wkrwg","StatusCode":101,"Duration":32.362,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OJ:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OJ"}
{"@t":"2026-01-18T12:41:32.1368014Z","@mt":"Client disconnected: {ConnectionId}","@tr":"8bf22c134cf09ef556aabc47caf9f9da","@sp":"6bb183e2d0cd7d7c","ConnectionId":"y-REbOQEeIVEYZPzzS6rqw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"y-REbOQEeIVEYZPzzS6rqw","RequestId":"0HNIMHRA3F4OH:00000001","RequestPath":"/hubs/orders","CorrelationId":"84e126e2-27da-4237-8582-e70ea0e5f87c"}
{"@t":"2026-01-18T12:41:32.1459740Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ea276221b7af14ac41f5c5aee6945682","@sp":"27075aa3c7f3e5be","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:41:32.1458189Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:32.1595489Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8bf22c134cf09ef556aabc47caf9f9da","@sp":"6bb183e2d0cd7d7c","Method":"GET","Path":"/hubs/orders","Query":"?id=q-CuSgHkX6TNTQcXv9eJmg","StatusCode":101,"Duration":5448.6502,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OH:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OH"}
{"@t":"2026-01-18T12:41:32.1866726Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ea276221b7af14ac41f5c5aee6945682","@sp":"27075aa3c7f3e5be","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":40.7614,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:32.2083283Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b56c0d4f86b89e4440345bd10b243323","@sp":"f0bee4650bb8ac12","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:41:32.2080490Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OK:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OK"}
{"@t":"2026-01-18T12:41:32.2196410Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b56c0d4f86b89e4440345bd10b243323","@sp":"f0bee4650bb8ac12","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":11.4515,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OK:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OK"}
{"@t":"2026-01-18T12:41:32.2364760Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ac10110ecea2e3e2c2dc0fbf819928f1","@sp":"390027eb3a45fdf7","Method":"GET","Path":"/hubs/orders","Query":"?id=wsRVD2h3p8ldH3Pxg3-npA","Time":"2026-01-18T12:41:32.2363394Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OL:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OL"}
{"@t":"2026-01-18T12:41:32.2675386Z","@mt":"Client connected: {ConnectionId}","@tr":"ac10110ecea2e3e2c2dc0fbf819928f1","@sp":"390027eb3a45fdf7","ConnectionId":"NDz6GANmYkpOjk_ji8tCrw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"NDz6GANmYkpOjk_ji8tCrw","RequestId":"0HNIMHRA3F4OL:00000001","RequestPath":"/hubs/orders","CorrelationId":"7832e4cc-3674-488b-aeba-1450b725470b"}
{"@t":"2026-01-18T12:41:35.3365541Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7708276e3dfb24377ebfa6758f9b0327","@sp":"af06d432e65d8367","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:41:35.3364832Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:35.4044727Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7708276e3dfb24377ebfa6758f9b0327","@sp":"af06d432e65d8367","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":67.9408,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:35.4245989Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7708276e3dfb24377ebfa6758f9b0327","@sp":"c7538fa40de7c17f","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:41:35.4245165Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OM:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OM"}
{"@t":"2026-01-18T12:41:35.4273570Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7708276e3dfb24377ebfa6758f9b0327","@sp":"c7538fa40de7c17f","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":2.7359,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OM:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OM"}
{"@t":"2026-01-18T12:41:35.4312805Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7708276e3dfb24377ebfa6758f9b0327","@sp":"8a8ab7bcb6d9d2a6","Method":"GET","Path":"/hubs/orders","Query":"?id=8xaiUVqWSyyK9W4lNBZPhw","Time":"2026-01-18T12:41:35.4312244Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4ON:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4ON"}
{"@t":"2026-01-18T12:41:35.4393394Z","@mt":"Client connected: {ConnectionId}","@tr":"7708276e3dfb24377ebfa6758f9b0327","@sp":"8a8ab7bcb6d9d2a6","ConnectionId":"aZE7bG0kGdMY7XzoKdFmsg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"aZE7bG0kGdMY7XzoKdFmsg","RequestId":"0HNIMHRA3F4ON:00000001","RequestPath":"/hubs/orders","CorrelationId":"974df221-9dfa-4e8b-b091-81a30378d7d3"}
{"@t":"2026-01-18T12:41:35.4415919Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"aZE7bG0kGdMY7XzoKdFmsg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"aZE7bG0kGdMY7XzoKdFmsg","RequestId":"0HNIMHRA3F4ON:00000001","RequestPath":"/hubs/orders","CorrelationId":"974df221-9dfa-4e8b-b091-81a30378d7d3"}
{"@t":"2026-01-18T12:41:35.4477444Z","@mt":"Client disconnected: {ConnectionId}","@tr":"7708276e3dfb24377ebfa6758f9b0327","@sp":"8a8ab7bcb6d9d2a6","ConnectionId":"aZE7bG0kGdMY7XzoKdFmsg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"aZE7bG0kGdMY7XzoKdFmsg","RequestId":"0HNIMHRA3F4ON:00000001","RequestPath":"/hubs/orders","CorrelationId":"974df221-9dfa-4e8b-b091-81a30378d7d3"}
{"@t":"2026-01-18T12:41:35.4524801Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7708276e3dfb24377ebfa6758f9b0327","@sp":"8a8ab7bcb6d9d2a6","Method":"GET","Path":"/hubs/orders","Query":"?id=8xaiUVqWSyyK9W4lNBZPhw","StatusCode":101,"Duration":20.8175,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4ON:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4ON"}
{"@t":"2026-01-18T12:41:35.4564857Z","@mt":"Client disconnected: {ConnectionId}","@tr":"ac10110ecea2e3e2c2dc0fbf819928f1","@sp":"390027eb3a45fdf7","ConnectionId":"NDz6GANmYkpOjk_ji8tCrw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"NDz6GANmYkpOjk_ji8tCrw","RequestId":"0HNIMHRA3F4OL:00000001","RequestPath":"/hubs/orders","CorrelationId":"7832e4cc-3674-488b-aeba-1450b725470b"}
{"@t":"2026-01-18T12:41:35.4595593Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ac10110ecea2e3e2c2dc0fbf819928f1","@sp":"390027eb3a45fdf7","Method":"GET","Path":"/hubs/orders","Query":"?id=wsRVD2h3p8ldH3Pxg3-npA","StatusCode":101,"Duration":3223.1206,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OL:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OL"}
{"@t":"2026-01-18T12:41:35.4723817Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ea2f432b637d2f01f64c7f3bed4ae5bf","@sp":"debaff27933d2960","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:41:35.4722040Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:35.5329730Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ea2f432b637d2f01f64c7f3bed4ae5bf","@sp":"debaff27933d2960","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":60.7133,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:41:35.5599706Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"045977ff750e4f46e7ca98e190131214","@sp":"64183664c529d502","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:41:35.5598588Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OO:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OO"}
{"@t":"2026-01-18T12:41:35.5759978Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"045977ff750e4f46e7ca98e190131214","@sp":"64183664c529d502","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":16.04,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OO:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4OO"}
{"@t":"2026-01-18T12:41:35.6032296Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fb27f8b3eff5e57e238413cb89eedaed","@sp":"eacd0162930cfd4d","Method":"GET","Path":"/hubs/orders","Query":"?id=9fUC7DMhUiMFcbtfvz2Wnw","Time":"2026-01-18T12:41:35.6031284Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OP:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OP"}
{"@t":"2026-01-18T12:41:35.6165562Z","@mt":"Client connected: {ConnectionId}","@tr":"fb27f8b3eff5e57e238413cb89eedaed","@sp":"eacd0162930cfd4d","ConnectionId":"XqlB1vVDmlvzTN_6A6zzpQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"XqlB1vVDmlvzTN_6A6zzpQ","RequestId":"0HNIMHRA3F4OP:00000001","RequestPath":"/hubs/orders","CorrelationId":"47f2d99d-d240-444f-ae83-eb54d6e0aa93"}
{"@t":"2026-01-18T12:41:35.6271211Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"XqlB1vVDmlvzTN_6A6zzpQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"XqlB1vVDmlvzTN_6A6zzpQ","RequestId":"0HNIMHRA3F4OP:00000001","RequestPath":"/hubs/orders","CorrelationId":"47f2d99d-d240-444f-ae83-eb54d6e0aa93"}
{"@t":"2026-01-18T12:42:02.2765637Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e17ee49229a73fe716ab25fbee1dcda1","@sp":"0a3fc72d2cb6db27","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:42:02.2762953Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:42:02.3402232Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e17ee49229a73fe716ab25fbee1dcda1","@sp":"0a3fc72d2cb6db27","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":63.8765,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:42:32.3687361Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"60d3b879f9fdd744a89b237b55a250b5","@sp":"046a727d45e050d9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:42:32.3686210Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:42:32.4272228Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"60d3b879f9fdd744a89b237b55a250b5","@sp":"046a727d45e050d9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":58.5235,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4O5:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4O5"}
{"@t":"2026-01-18T12:43:02.4424122Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"28626b19627e35e3b8c49d49f70961fd","@sp":"b20cd995b6122399","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:43:02.4423542Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OQ:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OQ"}
{"@t":"2026-01-18T12:43:02.4561285Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"28626b19627e35e3b8c49d49f70961fd","@sp":"b20cd995b6122399","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":13.6833,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OQ:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OQ"}
{"@t":"2026-01-18T12:43:32.4695801Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bfc38a72d7838010aac5183e1a9dffe9","@sp":"06736e3153fe1c74","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:43:32.4694668Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OQ:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OQ"}
{"@t":"2026-01-18T12:43:32.4916005Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bfc38a72d7838010aac5183e1a9dffe9","@sp":"06736e3153fe1c74","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":22.0705,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OQ:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OQ"}
{"@t":"2026-01-18T12:44:02.5130529Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ff3d680e5bfb69341ec0203e91d1f0e6","@sp":"23efd44a9bd34845","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:44:02.5129760Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OQ:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OQ"}
{"@t":"2026-01-18T12:44:02.5319175Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ff3d680e5bfb69341ec0203e91d1f0e6","@sp":"23efd44a9bd34845","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":18.8893,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OQ:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OQ"}
{"@t":"2026-01-18T12:44:32.5591501Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"829fc1b89c40ef41219c407918f05c48","@sp":"67d6e0da27cc3b8b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:44:32.5589574Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OQ:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OQ"}
{"@t":"2026-01-18T12:44:32.5939490Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"829fc1b89c40ef41219c407918f05c48","@sp":"67d6e0da27cc3b8b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":34.9234,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OQ:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OQ"}
{"@t":"2026-01-18T12:45:02.6416240Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"26d89e686ad68862505a965efb2183c0","@sp":"4f83a7e7e5a63f3b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:45:02.6415681Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OR:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OR"}
{"@t":"2026-01-18T12:45:02.7404870Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"26d89e686ad68862505a965efb2183c0","@sp":"4f83a7e7e5a63f3b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":98.6748,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OR:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OR"}
{"@t":"2026-01-18T12:45:32.7930031Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6191875293ddb5ae8ee6a00a150accee","@sp":"0b5911299ec7b73c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:45:32.7929344Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OR:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OR"}
{"@t":"2026-01-18T12:45:32.8175115Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6191875293ddb5ae8ee6a00a150accee","@sp":"0b5911299ec7b73c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":24.4857,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OR:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OR"}
{"@t":"2026-01-18T12:46:02.8359598Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9591251560d6c28cbd7236da3f95c8b8","@sp":"b11265d2d57e0db1","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:46:02.8358904Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OR:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OR"}
{"@t":"2026-01-18T12:46:02.9119286Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9591251560d6c28cbd7236da3f95c8b8","@sp":"b11265d2d57e0db1","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":75.9358,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OR:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OR"}
{"@t":"2026-01-18T12:46:33.0180647Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"60bffe70f2883998489c07b9333e97cd","@sp":"a27024967f3e0433","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:46:33.0179536Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OR:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OR"}
{"@t":"2026-01-18T12:46:33.0857059Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"60bffe70f2883998489c07b9333e97cd","@sp":"a27024967f3e0433","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":67.6661,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OR:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OR"}
{"@t":"2026-01-18T12:47:03.1073821Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6db9aa375b56706d057d546568bf2595","@sp":"a3d04b993d81b6b3","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:47:03.1073223Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OS:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OS"}
{"@t":"2026-01-18T12:47:03.1207168Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6db9aa375b56706d057d546568bf2595","@sp":"a3d04b993d81b6b3","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":13.2705,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OS:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OS"}
{"@t":"2026-01-18T12:47:27.5489445Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9a1dafb216d245d4ebac0d0626846cb0","@sp":"63aaa7875fece8ea","Method":"POST","Path":"/api/auth/login","Query":"","Time":"2026-01-18T12:47:27.5488570Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OT:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIMHRA3F4OT"}
{"@t":"2026-01-18T12:47:29.7746982Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9a1dafb216d245d4ebac0d0626846cb0","@sp":"63aaa7875fece8ea","Method":"POST","Path":"/api/auth/login","Query":"","StatusCode":200,"Duration":2225.5996,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OT:00000001","RequestPath":"/api/auth/login","ConnectionId":"0HNIMHRA3F4OT"}
{"@t":"2026-01-18T12:47:29.9080456Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9e1b509befab14255f29a015817168e0","@sp":"35143735fc3ef0a2","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:47:29.9079682Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OT:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OT"}
{"@t":"2026-01-18T12:47:30.0043944Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9e1b509befab14255f29a015817168e0","@sp":"35143735fc3ef0a2","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":96.3746,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OT:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OT"}
{"@t":"2026-01-18T12:47:30.6219834Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"19d7f0ff2cfd3be584c3e9a89ee69bb6","@sp":"0d7e12534c5cb4ff","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:47:30.6218495Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OT:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OT"}
{"@t":"2026-01-18T12:47:30.7492030Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"19d7f0ff2cfd3be584c3e9a89ee69bb6","@sp":"0d7e12534c5cb4ff","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":127.1491,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OT:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OT"}
{"@t":"2026-01-18T12:47:33.1458389Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cff13670794866c0fe60897fa2a8516b","@sp":"95b76a4fd578141c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:47:33.1457548Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OS:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OS"}
{"@t":"2026-01-18T12:47:33.2909309Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cff13670794866c0fe60897fa2a8516b","@sp":"95b76a4fd578141c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":145.0771,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OS:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OS"}
{"@t":"2026-01-18T12:48:03.3376993Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f78d71caa317e28a6f725c71db546058","@sp":"051c5f96a79049c8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:48:03.3375863Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OS:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OS"}
{"@t":"2026-01-18T12:48:03.4004919Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f78d71caa317e28a6f725c71db546058","@sp":"051c5f96a79049c8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":62.7298,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OS:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OS"}
{"@t":"2026-01-18T12:48:33.4272043Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2edbee0314aaaa64bebd18d4eec9c97b","@sp":"250b0124d205d8f1","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:48:33.4229008Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OS:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OS"}
{"@t":"2026-01-18T12:48:33.4537572Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2edbee0314aaaa64bebd18d4eec9c97b","@sp":"250b0124d205d8f1","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":30.7836,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OS:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OS"}
{"@t":"2026-01-18T12:49:03.5559273Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9a15cd81e6bc81a101380e943ea35253","@sp":"468b01ce13d68b47","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:49:03.5557152Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OU:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OU"}
{"@t":"2026-01-18T12:49:03.5730207Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9a15cd81e6bc81a101380e943ea35253","@sp":"468b01ce13d68b47","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":17.2448,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OU:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OU"}
{"@t":"2026-01-18T12:49:19.0733326Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1adbe469d3bfea8642f5f698e08700c7","@sp":"96d0e0a9bd161027","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:49:19.0732802Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OV:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OV"}
{"@t":"2026-01-18T12:49:19.0905598Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1adbe469d3bfea8642f5f698e08700c7","@sp":"96d0e0a9bd161027","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":17.2208,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OV:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OV"}
{"@t":"2026-01-18T12:49:19.1130019Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1adbe469d3bfea8642f5f698e08700c7","@sp":"a5668dc680a15974","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:49:19.1129551Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P0:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4P0"}
{"@t":"2026-01-18T12:49:19.1172790Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1adbe469d3bfea8642f5f698e08700c7","@sp":"a5668dc680a15974","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":4.2681,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P0:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4P0"}
{"@t":"2026-01-18T12:49:19.1215178Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1adbe469d3bfea8642f5f698e08700c7","@sp":"9ecd17638c6cb135","Method":"GET","Path":"/hubs/orders","Query":"?id=zRC8Wu_lm-D06L5igQh6Mw","Time":"2026-01-18T12:49:19.1214579Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P1:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4P1"}
{"@t":"2026-01-18T12:49:19.1277457Z","@mt":"Client connected: {ConnectionId}","@tr":"1adbe469d3bfea8642f5f698e08700c7","@sp":"9ecd17638c6cb135","ConnectionId":"pARczvfKZ4da4eLIi4leWg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"pARczvfKZ4da4eLIi4leWg","RequestId":"0HNIMHRA3F4P1:00000001","RequestPath":"/hubs/orders","CorrelationId":"027673f7-22f4-40d7-b676-74c70a4ceded"}
{"@t":"2026-01-18T12:49:19.1304869Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"pARczvfKZ4da4eLIi4leWg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"pARczvfKZ4da4eLIi4leWg","RequestId":"0HNIMHRA3F4P1:00000001","RequestPath":"/hubs/orders","CorrelationId":"027673f7-22f4-40d7-b676-74c70a4ceded"}
{"@t":"2026-01-18T12:49:19.1382342Z","@mt":"Client disconnected: {ConnectionId}","@tr":"1adbe469d3bfea8642f5f698e08700c7","@sp":"9ecd17638c6cb135","ConnectionId":"pARczvfKZ4da4eLIi4leWg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"pARczvfKZ4da4eLIi4leWg","RequestId":"0HNIMHRA3F4P1:00000001","RequestPath":"/hubs/orders","CorrelationId":"027673f7-22f4-40d7-b676-74c70a4ceded"}
{"@t":"2026-01-18T12:49:19.1459202Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1adbe469d3bfea8642f5f698e08700c7","@sp":"9ecd17638c6cb135","Method":"GET","Path":"/hubs/orders","Query":"?id=zRC8Wu_lm-D06L5igQh6Mw","StatusCode":101,"Duration":24.3981,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P1:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4P1"}
{"@t":"2026-01-18T12:49:19.3587151Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d6b67f20cc630b94e0ca1a4eb985f717","@sp":"a60374a5a655bcbc","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:49:19.3586665Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OV:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OV"}
{"@t":"2026-01-18T12:49:19.3714782Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d6b67f20cc630b94e0ca1a4eb985f717","@sp":"a60374a5a655bcbc","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":12.7559,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OV:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OV"}
{"@t":"2026-01-18T12:49:19.3804402Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8a4584a786f35a26ca3f5526c77449df","@sp":"8b467f668d4cd53b","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:49:19.3803988Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P2:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4P2"}
{"@t":"2026-01-18T12:49:19.3842849Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8a4584a786f35a26ca3f5526c77449df","@sp":"8b467f668d4cd53b","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":3.8358,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P2:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMHRA3F4P2"}
{"@t":"2026-01-18T12:49:19.3907926Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0b220b5273d030f6c365abb8a753ac6b","@sp":"8b43992e81ef36c8","Method":"GET","Path":"/hubs/orders","Query":"?id=WSUgO8Jr6DPtVZ9ECKVWHw","Time":"2026-01-18T12:49:19.3907384Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P3:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4P3"}
{"@t":"2026-01-18T12:49:19.3955338Z","@mt":"Client connected: {ConnectionId}","@tr":"0b220b5273d030f6c365abb8a753ac6b","@sp":"8b43992e81ef36c8","ConnectionId":"G7lFsmJYx9WI_J7SBrCMzg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"G7lFsmJYx9WI_J7SBrCMzg","RequestId":"0HNIMHRA3F4P3:00000001","RequestPath":"/hubs/orders","CorrelationId":"c4866755-8100-4575-ba63-6e9fed7955b8"}
{"@t":"2026-01-18T12:49:19.3977394Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"G7lFsmJYx9WI_J7SBrCMzg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"G7lFsmJYx9WI_J7SBrCMzg","RequestId":"0HNIMHRA3F4P3:00000001","RequestPath":"/hubs/orders","CorrelationId":"c4866755-8100-4575-ba63-6e9fed7955b8"}
{"@t":"2026-01-18T12:49:33.6098851Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f602cbed05ad6f57fe1a1b7131c2ffba","@sp":"5b39e4f8342c15cf","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:49:33.6098085Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OU:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OU"}
{"@t":"2026-01-18T12:49:33.8082048Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f602cbed05ad6f57fe1a1b7131c2ffba","@sp":"5b39e4f8342c15cf","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":198.3131,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OU:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OU"}
{"@t":"2026-01-18T12:50:04.0945761Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5a06cece501095bbbcaab185368a14bc","@sp":"0e447f241e8b0014","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:50:04.0945314Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OU:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OU"}
{"@t":"2026-01-18T12:50:04.1187210Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5a06cece501095bbbcaab185368a14bc","@sp":"0e447f241e8b0014","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":24.1511,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OU:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OU"}
{"@t":"2026-01-18T12:50:34.1379029Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"084ebc3cbf72de819d29911c62525f79","@sp":"ab3af0be0e370dcb","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:50:34.1377908Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OU:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OU"}
{"@t":"2026-01-18T12:50:34.2313298Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"084ebc3cbf72de819d29911c62525f79","@sp":"ab3af0be0e370dcb","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":93.4353,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OU:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4OU"}
{"@t":"2026-01-18T12:51:04.2971786Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9d0b648c55f63ad177aea33a1c4d2963","@sp":"60e25a894fcf9883","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:51:04.2970694Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P4:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4P4"}
{"@t":"2026-01-18T12:51:04.3169572Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9d0b648c55f63ad177aea33a1c4d2963","@sp":"60e25a894fcf9883","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":19.7469,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P4:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4P4"}
{"@t":"2026-01-18T12:51:34.3415057Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"27c8d8327c6a9bbf5ea5da1635bc5386","@sp":"e819bf92090ff47e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:51:34.3413855Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P4:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4P4"}
{"@t":"2026-01-18T12:51:34.3598745Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"27c8d8327c6a9bbf5ea5da1635bc5386","@sp":"e819bf92090ff47e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":18.407,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P4:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4P4"}
{"@t":"2026-01-18T12:52:04.3850062Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3fd1363c7eece13a221c4fa134b43fa3","@sp":"833c9ba6cd426650","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:52:04.3849051Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P4:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4P4"}
{"@t":"2026-01-18T12:52:04.4065216Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3fd1363c7eece13a221c4fa134b43fa3","@sp":"833c9ba6cd426650","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":21.528,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P4:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMHRA3F4P4"}
{"@t":"2026-01-18T12:52:09.3410570Z","@mt":"Client disconnected: {ConnectionId}","@tr":"0b220b5273d030f6c365abb8a753ac6b","@sp":"8b43992e81ef36c8","ConnectionId":"G7lFsmJYx9WI_J7SBrCMzg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"G7lFsmJYx9WI_J7SBrCMzg","RequestId":"0HNIMHRA3F4P3:00000001","RequestPath":"/hubs/orders","CorrelationId":"c4866755-8100-4575-ba63-6e9fed7955b8"}
{"@t":"2026-01-18T12:52:09.3414716Z","@mt":"Client disconnected: {ConnectionId}","@tr":"fb27f8b3eff5e57e238413cb89eedaed","@sp":"eacd0162930cfd4d","ConnectionId":"XqlB1vVDmlvzTN_6A6zzpQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"XqlB1vVDmlvzTN_6A6zzpQ","RequestId":"0HNIMHRA3F4OP:00000001","RequestPath":"/hubs/orders","CorrelationId":"47f2d99d-d240-444f-ae83-eb54d6e0aa93"}
{"@t":"2026-01-18T12:52:09.3491046Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0b220b5273d030f6c365abb8a753ac6b","@sp":"8b43992e81ef36c8","Method":"GET","Path":"/hubs/orders","Query":"?id=WSUgO8Jr6DPtVZ9ECKVWHw","StatusCode":101,"Duration":169958.2623,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4P3:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4P3"}
{"@t":"2026-01-18T12:52:09.3528992Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fb27f8b3eff5e57e238413cb89eedaed","@sp":"eacd0162930cfd4d","Method":"GET","Path":"/hubs/orders","Query":"?id=9fUC7DMhUiMFcbtfvz2Wnw","StatusCode":101,"Duration":633749.6908,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMHRA3F4OP:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMHRA3F4OP"}
{"@t":"2026-01-18T12:53:29.3102263Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T12:53:29.3814133Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T12:53:29.3892081Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T12:53:29.7920944Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T12:53:31.1328561Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:53:31.1421098Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:53:31.1457702Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:53:31.7701306Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:53:31.7741476Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:53:31.7783969Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T12:53:32.0143227Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T12:53:32.1308773Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T12:53:35.8025900Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"625f353c6fdf4055eaf61e60906021c6","@sp":"fb054dd63789d067","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:53:35.7958656Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:35.8428769Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"625f353c6fdf4055eaf61e60906021c6","@sp":"fb054dd63789d067","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMI2BT0E6K:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"11ab6691-1335-4167-a1a5-cc1c608708f3"}
{"@t":"2026-01-18T12:53:39.7256142Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"625f353c6fdf4055eaf61e60906021c6","@sp":"fb054dd63789d067","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":3929.2561,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:40.1909117Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"625f353c6fdf4055eaf61e60906021c6","@sp":"515e1f605ec0c664","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:53:40.1905838Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6L:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E6L"}
{"@t":"2026-01-18T12:53:40.2270944Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"625f353c6fdf4055eaf61e60906021c6","@sp":"515e1f605ec0c664","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":36.1106,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6L:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E6L"}
{"@t":"2026-01-18T12:53:40.2863846Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"625f353c6fdf4055eaf61e60906021c6","@sp":"2a5084825738ebfd","Method":"GET","Path":"/hubs/orders","Query":"?id=1FPszsirgpO6IzRB_2qWwg","Time":"2026-01-18T12:53:40.2862132Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6M:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E6M"}
{"@t":"2026-01-18T12:53:40.4338340Z","@mt":"Client connected: {ConnectionId}","@tr":"625f353c6fdf4055eaf61e60906021c6","@sp":"2a5084825738ebfd","ConnectionId":"CvFdsk_dyNBWfZg-RBWvRg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"CvFdsk_dyNBWfZg-RBWvRg","RequestId":"0HNIMI2BT0E6M:00000001","RequestPath":"/hubs/orders","CorrelationId":"379d5323-0a5a-46ad-9ef9-d7287edd1563"}
{"@t":"2026-01-18T12:53:40.5140886Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"CvFdsk_dyNBWfZg-RBWvRg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"CvFdsk_dyNBWfZg-RBWvRg","RequestId":"0HNIMI2BT0E6M:00000001","RequestPath":"/hubs/orders","CorrelationId":"379d5323-0a5a-46ad-9ef9-d7287edd1563"}
{"@t":"2026-01-18T12:53:40.7303907Z","@mt":"Client disconnected: {ConnectionId}","@tr":"625f353c6fdf4055eaf61e60906021c6","@sp":"2a5084825738ebfd","ConnectionId":"CvFdsk_dyNBWfZg-RBWvRg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"CvFdsk_dyNBWfZg-RBWvRg","RequestId":"0HNIMI2BT0E6M:00000001","RequestPath":"/hubs/orders","CorrelationId":"379d5323-0a5a-46ad-9ef9-d7287edd1563"}
{"@t":"2026-01-18T12:53:40.7546739Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"625f353c6fdf4055eaf61e60906021c6","@sp":"2a5084825738ebfd","Method":"GET","Path":"/hubs/orders","Query":"?id=1FPszsirgpO6IzRB_2qWwg","StatusCode":101,"Duration":468.2574,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6M:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E6M"}
{"@t":"2026-01-18T12:53:41.6601622Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1cd62952a1285d407a7154a564b4ad3d","@sp":"e3667dfbfe568319","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:53:41.6600476Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:42.2143784Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1cd62952a1285d407a7154a564b4ad3d","@sp":"e3667dfbfe568319","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":554.0891,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:42.3586552Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4447523740d06d25c64a35804d430fe6","@sp":"025f69f5194eb3e7","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:53:42.3585089Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6N:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E6N"}
{"@t":"2026-01-18T12:53:42.3775582Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4447523740d06d25c64a35804d430fe6","@sp":"025f69f5194eb3e7","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":18.8075,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6N:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E6N"}
{"@t":"2026-01-18T12:53:42.4060372Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"34d9fc9d518b31b6a789162762420716","@sp":"2d8145bf3623283c","Method":"GET","Path":"/hubs/orders","Query":"?id=yF9_AQTvOgtrQUF2EZ1c0Q","Time":"2026-01-18T12:53:42.4055209Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6O:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E6O"}
{"@t":"2026-01-18T12:53:42.4414595Z","@mt":"Client connected: {ConnectionId}","@tr":"34d9fc9d518b31b6a789162762420716","@sp":"2d8145bf3623283c","ConnectionId":"3JeR0FQX4iu7A2JDTGnJbg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"3JeR0FQX4iu7A2JDTGnJbg","RequestId":"0HNIMI2BT0E6O:00000001","RequestPath":"/hubs/orders","CorrelationId":"3b29ebd9-e754-4a03-8669-ba8022efa8ca"}
{"@t":"2026-01-18T12:53:42.4641170Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"3JeR0FQX4iu7A2JDTGnJbg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"3JeR0FQX4iu7A2JDTGnJbg","RequestId":"0HNIMI2BT0E6O:00000001","RequestPath":"/hubs/orders","CorrelationId":"3b29ebd9-e754-4a03-8669-ba8022efa8ca"}
{"@t":"2026-01-18T12:53:47.2927664Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1f0594073336f27993e07fb6d20bd6f3","@sp":"58b7ffd0098ad4e0","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-18T12:53:47.2924461Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:47.4586564Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"1f0594073336f27993e07fb6d20bd6f3","@sp":"58b7ffd0098ad4e0","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"cdc69ac8-5bfc-4408-b2e4-aff3943d0e5a","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"689f4efb-fa3d-4a50-9603-0a867dee9d15"}
{"@t":"2026-01-18T12:53:47.7803528Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1f0594073336f27993e07fb6d20bd6f3","@sp":"58b7ffd0098ad4e0","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":487.687,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:49.9763340Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"23178006c15d13e8acd5a5f759da99d0","@sp":"565e6265b57f6046","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T12:53:49.9762108Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:51.2638715Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"23178006c15d13e8acd5a5f759da99d0","@sp":"565e6265b57f6046","OrderId":8,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"71066493-75ad-4c4b-8557-72fac1da6879"}
{"@t":"2026-01-18T12:53:51.3107507Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5675851d6dc6ac97e40c72a87c8f9dd0","@sp":"b7cfd176adc1dd14","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:53:51.3106381Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:53:51.3361399Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"23178006c15d13e8acd5a5f759da99d0","@sp":"565e6265b57f6046","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-9117DD","Status":"Preparing","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"71066493-75ad-4c4b-8557-72fac1da6879"}
{"@t":"2026-01-18T12:53:51.3654656Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5675851d6dc6ac97e40c72a87c8f9dd0","@sp":"b7cfd176adc1dd14","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":54.7001,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:53:51.4649423Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"23178006c15d13e8acd5a5f759da99d0","@sp":"565e6265b57f6046","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":1488.5506,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:53.6338724Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4452a758406dfefd5ea85df1d0041266","@sp":"e8983ebba2621b09","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:53:53.6337238Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:53.7464737Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4452a758406dfefd5ea85df1d0041266","@sp":"e8983ebba2621b09","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":112.1813,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:53.7898369Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4452a758406dfefd5ea85df1d0041266","@sp":"9cc77e93d5593782","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:53:53.7897105Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6Q:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E6Q"}
{"@t":"2026-01-18T12:53:53.7994454Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4452a758406dfefd5ea85df1d0041266","@sp":"9cc77e93d5593782","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":9.601,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6Q:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E6Q"}
{"@t":"2026-01-18T12:53:53.8063085Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4452a758406dfefd5ea85df1d0041266","@sp":"314bfff8297eb998","Method":"GET","Path":"/hubs/orders","Query":"?id=IdEpfjV5AGhJHUwYgXq0ZA","Time":"2026-01-18T12:53:53.8062103Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6R:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E6R"}
{"@t":"2026-01-18T12:53:53.8215363Z","@mt":"Client connected: {ConnectionId}","@tr":"4452a758406dfefd5ea85df1d0041266","@sp":"314bfff8297eb998","ConnectionId":"UwPlBXVMQAVQlc_yWyNyvA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"UwPlBXVMQAVQlc_yWyNyvA","RequestId":"0HNIMI2BT0E6R:00000001","RequestPath":"/hubs/orders","CorrelationId":"8fb03d73-5c5e-4d67-aa03-c5421c60d716"}
{"@t":"2026-01-18T12:53:53.8516699Z","@mt":"Client disconnected: {ConnectionId}","@tr":"4452a758406dfefd5ea85df1d0041266","@sp":"314bfff8297eb998","ConnectionId":"UwPlBXVMQAVQlc_yWyNyvA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"UwPlBXVMQAVQlc_yWyNyvA","RequestId":"0HNIMI2BT0E6R:00000001","RequestPath":"/hubs/orders","CorrelationId":"8fb03d73-5c5e-4d67-aa03-c5421c60d716"}
{"@t":"2026-01-18T12:53:53.8624457Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4452a758406dfefd5ea85df1d0041266","@sp":"314bfff8297eb998","Method":"GET","Path":"/hubs/orders","Query":"?id=IdEpfjV5AGhJHUwYgXq0ZA","StatusCode":101,"Duration":56.0879,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6R:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E6R"}
{"@t":"2026-01-18T12:53:53.8968816Z","@mt":"Client disconnected: {ConnectionId}","@tr":"34d9fc9d518b31b6a789162762420716","@sp":"2d8145bf3623283c","ConnectionId":"3JeR0FQX4iu7A2JDTGnJbg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"3JeR0FQX4iu7A2JDTGnJbg","RequestId":"0HNIMI2BT0E6O:00000001","RequestPath":"/hubs/orders","CorrelationId":"3b29ebd9-e754-4a03-8669-ba8022efa8ca"}
{"@t":"2026-01-18T12:53:53.9082955Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"34d9fc9d518b31b6a789162762420716","@sp":"2d8145bf3623283c","Method":"GET","Path":"/hubs/orders","Query":"?id=yF9_AQTvOgtrQUF2EZ1c0Q","StatusCode":101,"Duration":11502.5685,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6O:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E6O"}
{"@t":"2026-01-18T12:53:53.9191349Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e2edda06f07d404c9674ac7ba54fd726","@sp":"2860dd92ba1f7c5f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:53:53.9151920Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:53.9638904Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e2edda06f07d404c9674ac7ba54fd726","@sp":"2860dd92ba1f7c5f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":48.517,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:54.1004702Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dd8dcdd64dd65fbb881b30dadcb9588d","@sp":"fc93fd9849cb43a5","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:53:54.1003011Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6S:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E6S"}
{"@t":"2026-01-18T12:53:54.1189459Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dd8dcdd64dd65fbb881b30dadcb9588d","@sp":"fc93fd9849cb43a5","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":18.4665,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6S:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E6S"}
{"@t":"2026-01-18T12:53:54.1468126Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"faf33b31cfd3beca670407939fc18b84","@sp":"611419ddd986cda8","Method":"GET","Path":"/hubs/orders","Query":"?id=hBR7oIbAWHCHZvplCbrCxw","Time":"2026-01-18T12:53:54.1464687Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6T:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E6T"}
{"@t":"2026-01-18T12:53:54.1751291Z","@mt":"Client connected: {ConnectionId}","@tr":"faf33b31cfd3beca670407939fc18b84","@sp":"611419ddd986cda8","ConnectionId":"DcBjCTZHBPqaE8LRn82UbQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"DcBjCTZHBPqaE8LRn82UbQ","RequestId":"0HNIMI2BT0E6T:00000001","RequestPath":"/hubs/orders","CorrelationId":"61415af9-cccb-4337-a79c-5dad4ea6f774"}
{"@t":"2026-01-18T12:53:54.4957671Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0f51530f1554d764ff00fdbc9d0f1793","@sp":"b06ea6cbbabd700a","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:53:54.4956548Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:54.5314444Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0f51530f1554d764ff00fdbc9d0f1793","@sp":"b06ea6cbbabd700a","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":35.615,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:55.6330995Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d8c09f3e61c1f4b045cde3b501680df3","@sp":"e89f998025189ec3","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T12:53:55.6329546Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:55.6834570Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"d8c09f3e61c1f4b045cde3b501680df3","@sp":"e89f998025189ec3","OrderId":8,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"98a3ea8c-3531-4fdc-8671-4a7d19ad42a7"}
{"@t":"2026-01-18T12:53:55.6955715Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"d8c09f3e61c1f4b045cde3b501680df3","@sp":"e89f998025189ec3","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-9117DD","Status":"Ready","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"98a3ea8c-3531-4fdc-8671-4a7d19ad42a7"}
{"@t":"2026-01-18T12:53:55.8119908Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d8c09f3e61c1f4b045cde3b501680df3","@sp":"e89f998025189ec3","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":178.887,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000008","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:55.8281507Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"59fffd833b205cd37a11647009842588","@sp":"4fc7afa01fea7d6e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:53:55.8279942Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:55.8706842Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"59fffd833b205cd37a11647009842588","@sp":"4fc7afa01fea7d6e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":42.5277,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:58.3464833Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"14d17fb1e8c2de04a52cb8ad23290cb7","@sp":"4a36a68bad52248e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:53:58.3464008Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:58.3705066Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"14d17fb1e8c2de04a52cb8ad23290cb7","@sp":"4a36a68bad52248e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":23.9975,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:58.3884856Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"14d17fb1e8c2de04a52cb8ad23290cb7","@sp":"e011e05037d17d15","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:53:58.3883038Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6U:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E6U"}
{"@t":"2026-01-18T12:53:58.3974159Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"14d17fb1e8c2de04a52cb8ad23290cb7","@sp":"e011e05037d17d15","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":8.9633,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6U:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E6U"}
{"@t":"2026-01-18T12:53:58.4136514Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"14d17fb1e8c2de04a52cb8ad23290cb7","@sp":"ae99146bfa1cfe9c","Method":"GET","Path":"/hubs/orders","Query":"?id=DtGvvc9iS7cY6ebtVUwf5Q","Time":"2026-01-18T12:53:58.4134166Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6V:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E6V"}
{"@t":"2026-01-18T12:53:58.4273620Z","@mt":"Client connected: {ConnectionId}","@tr":"14d17fb1e8c2de04a52cb8ad23290cb7","@sp":"ae99146bfa1cfe9c","ConnectionId":"bL-iSkn0w4TNZ8VmT23yMQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"bL-iSkn0w4TNZ8VmT23yMQ","RequestId":"0HNIMI2BT0E6V:00000001","RequestPath":"/hubs/orders","CorrelationId":"5313960a-b688-4952-9069-b80dc348a4a2"}
{"@t":"2026-01-18T12:53:58.4331445Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"bL-iSkn0w4TNZ8VmT23yMQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"bL-iSkn0w4TNZ8VmT23yMQ","RequestId":"0HNIMI2BT0E6V:00000001","RequestPath":"/hubs/orders","CorrelationId":"5313960a-b688-4952-9069-b80dc348a4a2"}
{"@t":"2026-01-18T12:53:58.4504560Z","@mt":"Client disconnected: {ConnectionId}","@tr":"14d17fb1e8c2de04a52cb8ad23290cb7","@sp":"ae99146bfa1cfe9c","ConnectionId":"bL-iSkn0w4TNZ8VmT23yMQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"bL-iSkn0w4TNZ8VmT23yMQ","RequestId":"0HNIMI2BT0E6V:00000001","RequestPath":"/hubs/orders","CorrelationId":"5313960a-b688-4952-9069-b80dc348a4a2"}
{"@t":"2026-01-18T12:53:58.4650180Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"14d17fb1e8c2de04a52cb8ad23290cb7","@sp":"ae99146bfa1cfe9c","Method":"GET","Path":"/hubs/orders","Query":"?id=DtGvvc9iS7cY6ebtVUwf5Q","StatusCode":101,"Duration":51.5056,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6V:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E6V"}
{"@t":"2026-01-18T12:53:58.4717911Z","@mt":"Client disconnected: {ConnectionId}","@tr":"faf33b31cfd3beca670407939fc18b84","@sp":"611419ddd986cda8","ConnectionId":"DcBjCTZHBPqaE8LRn82UbQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"DcBjCTZHBPqaE8LRn82UbQ","RequestId":"0HNIMI2BT0E6T:00000001","RequestPath":"/hubs/orders","CorrelationId":"61415af9-cccb-4337-a79c-5dad4ea6f774"}
{"@t":"2026-01-18T12:53:58.4817161Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"faf33b31cfd3beca670407939fc18b84","@sp":"611419ddd986cda8","Method":"GET","Path":"/hubs/orders","Query":"?id=hBR7oIbAWHCHZvplCbrCxw","StatusCode":101,"Duration":4335.1455,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6T:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E6T"}
{"@t":"2026-01-18T12:53:58.5046625Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4df57cdc916b78bdc0fade4f2ae6cc11","@sp":"45565d1afbf39a92","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:53:58.5044941Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:58.5283515Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4df57cdc916b78bdc0fade4f2ae6cc11","@sp":"45565d1afbf39a92","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":23.7376,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:53:58.5519264Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1b7850787f92d03d49d42c509d9d2ff4","@sp":"dcce9bea4e2ec677","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:53:58.5516845Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E70:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E70"}
{"@t":"2026-01-18T12:53:58.5665038Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1b7850787f92d03d49d42c509d9d2ff4","@sp":"dcce9bea4e2ec677","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":14.5503,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E70:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E70"}
{"@t":"2026-01-18T12:53:58.5839747Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2d3be57da679a317d3f689d7a985808c","@sp":"3063f21efea4c376","Method":"GET","Path":"/hubs/orders","Query":"?id=nVzs4xaAvFQoIE6d9C6tvw","Time":"2026-01-18T12:53:58.5838631Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E71:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E71"}
{"@t":"2026-01-18T12:53:58.6299088Z","@mt":"Client connected: {ConnectionId}","@tr":"2d3be57da679a317d3f689d7a985808c","@sp":"3063f21efea4c376","ConnectionId":"DlLywSILfPDiANRCU9Yz1A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"DlLywSILfPDiANRCU9Yz1A","RequestId":"0HNIMI2BT0E71:00000001","RequestPath":"/hubs/orders","CorrelationId":"4fc6b753-38ff-490b-a7f6-ac1f82f2af5a"}
{"@t":"2026-01-18T12:53:58.6377351Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"DlLywSILfPDiANRCU9Yz1A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"DlLywSILfPDiANRCU9Yz1A","RequestId":"0HNIMI2BT0E71:00000001","RequestPath":"/hubs/orders","CorrelationId":"4fc6b753-38ff-490b-a7f6-ac1f82f2af5a"}
{"@t":"2026-01-18T12:54:02.0482982Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"510e94963cd79a8b0bd4edfbbba733ed","@sp":"47c6401e02256ee1","Method":"GET","Path":"/api/admin/orders/5","Query":"","Time":"2026-01-18T12:54:02.0481751Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000C","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:02.1115472Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"510e94963cd79a8b0bd4edfbbba733ed","@sp":"47c6401e02256ee1","Method":"GET","Path":"/api/admin/orders/5","Query":"","StatusCode":200,"Duration":63.28,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000C","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:03.7373519Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b6b540f764725bffe4850b2a37b50f5f","@sp":"860d9b104f71ccc1","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:54:03.7372270Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:03.7998817Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"b6b540f764725bffe4850b2a37b50f5f","@sp":"860d9b104f71ccc1","OrderId":5,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000000D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"570a35f1-1372-4079-832f-118e502add6f"}
{"@t":"2026-01-18T12:54:03.8100492Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b78c259f48dd681e18a62df7f8fa8b8d","@sp":"75b613e10c7879f6","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:03.8099156Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:03.8178868Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"b6b540f764725bffe4850b2a37b50f5f","@sp":"860d9b104f71ccc1","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-6AF3CB","Status":"Confirmed","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000000D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"570a35f1-1372-4079-832f-118e502add6f"}
{"@t":"2026-01-18T12:54:03.8906860Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b78c259f48dd681e18a62df7f8fa8b8d","@sp":"75b613e10c7879f6","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":80.5974,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:03.9456108Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b6b540f764725bffe4850b2a37b50f5f","@sp":"860d9b104f71ccc1","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":200,"Duration":208.2,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000D","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:06.9715937Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8493f3a4e7ae1256dadffe1e8b962b20","@sp":"eb1c381b295eb3a1","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:06.9714128Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:07.0530885Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8493f3a4e7ae1256dadffe1e8b962b20","@sp":"eb1c381b295eb3a1","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":81.5438,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:08.3584256Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c07a97abbd974ede511cec7ac4fa3432","@sp":"7915eeba64e17c39","Method":"GET","Path":"/api/admin/orders/4","Query":"","Time":"2026-01-18T12:54:08.3582909Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000F","RequestPath":"/api/admin/orders/4","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:08.4208007Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c07a97abbd974ede511cec7ac4fa3432","@sp":"7915eeba64e17c39","Method":"GET","Path":"/api/admin/orders/4","Query":"","StatusCode":200,"Duration":62.3803,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000000F","RequestPath":"/api/admin/orders/4","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:09.9424443Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"27950666231c2bf681edfa1cc3dc3790","@sp":"a7c066548d175550","Method":"PUT","Path":"/api/admin/orders/4/status","Query":"","Time":"2026-01-18T12:54:09.9423264Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000010","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:09.9886794Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"27950666231c2bf681edfa1cc3dc3790","@sp":"a7c066548d175550","OrderId":4,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000010","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"01788762-9e59-4d5b-b453-27bd037d0dcd"}
{"@t":"2026-01-18T12:54:10.0026529Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3448ebead1e9b2aae8239713c162d25f","@sp":"8ae5850dd3d0a87b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:10.0025349Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:10.0073557Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"27950666231c2bf681edfa1cc3dc3790","@sp":"a7c066548d175550","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-1AB48F","Status":"Confirmed","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000010","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"01788762-9e59-4d5b-b453-27bd037d0dcd"}
{"@t":"2026-01-18T12:54:10.0315915Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3448ebead1e9b2aae8239713c162d25f","@sp":"8ae5850dd3d0a87b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":28.9337,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:10.1331104Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"27950666231c2bf681edfa1cc3dc3790","@sp":"a7c066548d175550","Method":"PUT","Path":"/api/admin/orders/4/status","Query":"","StatusCode":200,"Duration":190.5759,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000010","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:13.1572245Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c4a4478aa72277246f0de0f079ca08ce","@sp":"8a9091dbf7592f22","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:13.1571071Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000011","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:13.1887966Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c4a4478aa72277246f0de0f079ca08ce","@sp":"8a9091dbf7592f22","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":31.4684,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000011","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:13.7536614Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7b9a757f73553860fd3a997c3be92a5c","@sp":"697bf9ca0d398192","Method":"GET","Path":"/api/admin/orders/1","Query":"","Time":"2026-01-18T12:54:13.7535515Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000012","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:13.7689525Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7b9a757f73553860fd3a997c3be92a5c","@sp":"697bf9ca0d398192","Method":"GET","Path":"/api/admin/orders/1","Query":"","StatusCode":200,"Duration":15.2912,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000012","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:15.2855986Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b52262bb09fa682e86d9614ec2fc33eb","@sp":"9a13571553e75325","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:54:15.2854862Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000013","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:15.3053764Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"b52262bb09fa682e86d9614ec2fc33eb","@sp":"9a13571553e75325","OrderId":1,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000013","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"5365b039-de60-4c08-b239-3d5dc99c2f3b"}
{"@t":"2026-01-18T12:54:15.3162532Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b1406c696d117b6b202aff2a946acab4","@sp":"f6f859f30e9d57ac","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:15.3157300Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:15.3169808Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"b52262bb09fa682e86d9614ec2fc33eb","@sp":"9a13571553e75325","Email":"admin@restaurant.com","OrderNumber":"ORD-20260111-C451BA","Status":"Confirmed","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000013","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"5365b039-de60-4c08-b239-3d5dc99c2f3b"}
{"@t":"2026-01-18T12:54:15.3420904Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b1406c696d117b6b202aff2a946acab4","@sp":"f6f859f30e9d57ac","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":26.2365,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:15.4487226Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b52262bb09fa682e86d9614ec2fc33eb","@sp":"9a13571553e75325","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":200,"Duration":163.0745,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000013","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:18.4004392Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cf4e8c01b09c4552a873d1e44beae93a","@sp":"4046c336a877be5c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:18.4002415Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000014","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:18.4444005Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cf4e8c01b09c4552a873d1e44beae93a","@sp":"4046c336a877be5c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":43.8237,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000014","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:18.5028620Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3028fc9b16e0832519f53b987580257d","@sp":"72981c499f0fc5e5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:18.5025777Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:18.6344082Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cf4e8c01b09c4552a873d1e44beae93a","@sp":"5da6dcea6d47b6d3","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:54:18.6342709Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E72:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E72"}
{"@t":"2026-01-18T12:54:18.8735152Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cf4e8c01b09c4552a873d1e44beae93a","@sp":"5da6dcea6d47b6d3","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":239.1336,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E72:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E72"}
{"@t":"2026-01-18T12:54:18.8840463Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3028fc9b16e0832519f53b987580257d","@sp":"72981c499f0fc5e5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":381.2749,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:18.8951955Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cf4e8c01b09c4552a873d1e44beae93a","@sp":"7c1c798e3f35309b","Method":"GET","Path":"/hubs/orders","Query":"?id=LffTIPn5LfS4-LqljdZ9qw","Time":"2026-01-18T12:54:18.8950910Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E73:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E73"}
{"@t":"2026-01-18T12:54:18.9221688Z","@mt":"Client connected: {ConnectionId}","@tr":"cf4e8c01b09c4552a873d1e44beae93a","@sp":"7c1c798e3f35309b","ConnectionId":"VUxe3l81yuJA340mf_41QQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"VUxe3l81yuJA340mf_41QQ","RequestId":"0HNIMI2BT0E73:00000001","RequestPath":"/hubs/orders","CorrelationId":"18116436-b0ec-42ca-b81f-5bd812be3fe7"}
{"@t":"2026-01-18T12:54:18.9348182Z","@mt":"Client disconnected: {ConnectionId}","@tr":"cf4e8c01b09c4552a873d1e44beae93a","@sp":"7c1c798e3f35309b","ConnectionId":"VUxe3l81yuJA340mf_41QQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"VUxe3l81yuJA340mf_41QQ","RequestId":"0HNIMI2BT0E73:00000001","RequestPath":"/hubs/orders","CorrelationId":"18116436-b0ec-42ca-b81f-5bd812be3fe7"}
{"@t":"2026-01-18T12:54:18.9708605Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cf4e8c01b09c4552a873d1e44beae93a","@sp":"7c1c798e3f35309b","Method":"GET","Path":"/hubs/orders","Query":"?id=LffTIPn5LfS4-LqljdZ9qw","StatusCode":101,"Duration":75.6151,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E73:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E73"}
{"@t":"2026-01-18T12:54:18.9985522Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4f612d0c1e47b2362a897c26bc421040","@sp":"d2d470bee7bf5c95","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:18.9984440Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:18.9996130Z","@mt":"Client disconnected: {ConnectionId}","@tr":"2d3be57da679a317d3f689d7a985808c","@sp":"3063f21efea4c376","ConnectionId":"DlLywSILfPDiANRCU9Yz1A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"DlLywSILfPDiANRCU9Yz1A","RequestId":"0HNIMI2BT0E71:00000001","RequestPath":"/hubs/orders","CorrelationId":"4fc6b753-38ff-490b-a7f6-ac1f82f2af5a"}
{"@t":"2026-01-18T12:54:19.0659143Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2d3be57da679a317d3f689d7a985808c","@sp":"3063f21efea4c376","Method":"GET","Path":"/hubs/orders","Query":"?id=nVzs4xaAvFQoIE6d9C6tvw","StatusCode":101,"Duration":20481.9345,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E71:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E71"}
{"@t":"2026-01-18T12:54:19.0703130Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4f612d0c1e47b2362a897c26bc421040","@sp":"d2d470bee7bf5c95","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":71.6703,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:19.1288461Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d927d22d210b1704b949d00c51fc38de","@sp":"5429e0ce8c56f42a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:54:19.1286358Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E74:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E74"}
{"@t":"2026-01-18T12:54:19.1375850Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d927d22d210b1704b949d00c51fc38de","@sp":"5429e0ce8c56f42a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":8.8473,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E74:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E74"}
{"@t":"2026-01-18T12:54:19.1525875Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c9ca00354ca2b254d1f17f5411d132fd","@sp":"c6a4aff07a37274e","Method":"GET","Path":"/hubs/orders","Query":"?id=VMFoL6ZEj0VjMwsfB2wQNg","Time":"2026-01-18T12:54:19.1524773Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E75:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E75"}
{"@t":"2026-01-18T12:54:19.1904596Z","@mt":"Client connected: {ConnectionId}","@tr":"c9ca00354ca2b254d1f17f5411d132fd","@sp":"c6a4aff07a37274e","ConnectionId":"j9pqOqo8Mzu0eT64vxtT1g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"j9pqOqo8Mzu0eT64vxtT1g","RequestId":"0HNIMI2BT0E75:00000001","RequestPath":"/hubs/orders","CorrelationId":"57431cdf-25c3-4ebc-a0b9-e27bd4966299"}
{"@t":"2026-01-18T12:54:20.9248694Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"287e0b05e94b1b4a46d151f05fa8df23","@sp":"a82d4f6e4268ca3d","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T12:54:20.9247769Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000007","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:20.9449805Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"287e0b05e94b1b4a46d151f05fa8df23","@sp":"a82d4f6e4268ca3d","OrderId":5,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000007","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"7f316bf4-b80c-4a37-b22b-1105437c35e5"}
{"@t":"2026-01-18T12:54:20.9522520Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"287e0b05e94b1b4a46d151f05fa8df23","@sp":"a82d4f6e4268ca3d","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-6AF3CB","Status":"Preparing","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000007","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"7f316bf4-b80c-4a37-b22b-1105437c35e5"}
{"@t":"2026-01-18T12:54:21.0702479Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"287e0b05e94b1b4a46d151f05fa8df23","@sp":"a82d4f6e4268ca3d","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":200,"Duration":145.2932,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000007","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:21.0819080Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"32ed19ce378cd79071e25fe5e532e9f0","@sp":"9e7714efd0651909","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:21.0818146Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:21.1064902Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"32ed19ce378cd79071e25fe5e532e9f0","@sp":"9e7714efd0651909","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":24.6292,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:24.2089955Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ef9e81923dbcfc11e1c16cbe6db295ff","@sp":"83ea12cfe52e80de","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:24.2088627Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:24.2372065Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ef9e81923dbcfc11e1c16cbe6db295ff","@sp":"83ea12cfe52e80de","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":28.2185,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:24.4143230Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"56ed6d613c96b7a2d9c6def5949ad913","@sp":"a8388d411b26796f","Method":"PUT","Path":"/api/admin/orders/4/status","Query":"","Time":"2026-01-18T12:54:24.4142230Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000A","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:24.4746657Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"56ed6d613c96b7a2d9c6def5949ad913","@sp":"a8388d411b26796f","OrderId":4,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:0000000A","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"4664adcd-8849-4690-8804-0d5adb882d50"}
{"@t":"2026-01-18T12:54:24.4888392Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"56ed6d613c96b7a2d9c6def5949ad913","@sp":"a8388d411b26796f","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-1AB48F","Status":"Preparing","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:0000000A","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"4664adcd-8849-4690-8804-0d5adb882d50"}
{"@t":"2026-01-18T12:54:24.6126832Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"56ed6d613c96b7a2d9c6def5949ad913","@sp":"a8388d411b26796f","Method":"PUT","Path":"/api/admin/orders/4/status","Query":"","StatusCode":200,"Duration":198.3426,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000A","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:24.6483734Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7e35c7e04b1ebf906a3fef62a690dfcd","@sp":"b8c2781040f1ddb8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:24.6482113Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:24.6854401Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7e35c7e04b1ebf906a3fef62a690dfcd","@sp":"b8c2781040f1ddb8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":37.081,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:28.3164540Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"25d8a01dd3ac2d665afab71199b9999c","@sp":"f21308fe6bc12815","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:28.3163893Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:28.3516033Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"25d8a01dd3ac2d665afab71199b9999c","@sp":"f21308fe6bc12815","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":35.1198,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:29.4128300Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"821818a0ccddf7e391c3d2afdf47cd58","@sp":"2e777f09b678a462","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:29.4127307Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:29.4330197Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"821818a0ccddf7e391c3d2afdf47cd58","@sp":"2e777f09b678a462","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":20.2388,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:31.9532661Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e6fe52fe3256b0ab622f764135814d3d","@sp":"2f69dbbf996c544c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:31.9527106Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:32.0002365Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e6fe52fe3256b0ab622f764135814d3d","@sp":"2f69dbbf996c544c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":47.394,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:32.0579861Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e6fe52fe3256b0ab622f764135814d3d","@sp":"4e6f3fcdba912718","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:54:32.0578333Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E76:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E76"}
{"@t":"2026-01-18T12:54:32.0716853Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e6fe52fe3256b0ab622f764135814d3d","@sp":"4e6f3fcdba912718","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":13.7418,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E76:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E76"}
{"@t":"2026-01-18T12:54:32.0903392Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e6fe52fe3256b0ab622f764135814d3d","@sp":"60e192639f3aa11c","Method":"GET","Path":"/hubs/orders","Query":"?id=KQA5buxk164EOasFLUCJEg","Time":"2026-01-18T12:54:32.0901216Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E77:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E77"}
{"@t":"2026-01-18T12:54:32.1116418Z","@mt":"Client connected: {ConnectionId}","@tr":"e6fe52fe3256b0ab622f764135814d3d","@sp":"60e192639f3aa11c","ConnectionId":"b6q2ideGLNqe1IJbBV4MVQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"b6q2ideGLNqe1IJbBV4MVQ","RequestId":"0HNIMI2BT0E77:00000001","RequestPath":"/hubs/orders","CorrelationId":"e355ca54-864e-453f-83a3-c0fbbe3e5953"}
{"@t":"2026-01-18T12:54:32.1522760Z","@mt":"Client disconnected: {ConnectionId}","@tr":"e6fe52fe3256b0ab622f764135814d3d","@sp":"60e192639f3aa11c","ConnectionId":"b6q2ideGLNqe1IJbBV4MVQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"b6q2ideGLNqe1IJbBV4MVQ","RequestId":"0HNIMI2BT0E77:00000001","RequestPath":"/hubs/orders","CorrelationId":"e355ca54-864e-453f-83a3-c0fbbe3e5953"}
{"@t":"2026-01-18T12:54:32.1720382Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e6fe52fe3256b0ab622f764135814d3d","@sp":"60e192639f3aa11c","Method":"GET","Path":"/hubs/orders","Query":"?id=KQA5buxk164EOasFLUCJEg","StatusCode":101,"Duration":81.7667,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E77:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E77"}
{"@t":"2026-01-18T12:54:32.2538901Z","@mt":"Client disconnected: {ConnectionId}","@tr":"c9ca00354ca2b254d1f17f5411d132fd","@sp":"c6a4aff07a37274e","ConnectionId":"j9pqOqo8Mzu0eT64vxtT1g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"j9pqOqo8Mzu0eT64vxtT1g","RequestId":"0HNIMI2BT0E75:00000001","RequestPath":"/hubs/orders","CorrelationId":"57431cdf-25c3-4ebc-a0b9-e27bd4966299"}
{"@t":"2026-01-18T12:54:32.3196118Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c9ca00354ca2b254d1f17f5411d132fd","@sp":"c6a4aff07a37274e","Method":"GET","Path":"/hubs/orders","Query":"?id=VMFoL6ZEj0VjMwsfB2wQNg","StatusCode":101,"Duration":13166.9277,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E75:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E75"}
{"@t":"2026-01-18T12:54:32.6526048Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d260cd49138138f3fe98fe2a224c1d1c","@sp":"f88877ee5891064f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:32.6524347Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000F","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:32.6931031Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d260cd49138138f3fe98fe2a224c1d1c","@sp":"f88877ee5891064f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":40.556,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000000F","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:32.7281703Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e16e67c09d934370c9ca3c3fc0ba30da","@sp":"63674b26a4062436","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:54:32.7280793Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E78:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E78"}
{"@t":"2026-01-18T12:54:32.7609337Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e16e67c09d934370c9ca3c3fc0ba30da","@sp":"63674b26a4062436","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":32.7495,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E78:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E78"}
{"@t":"2026-01-18T12:54:32.7762934Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"12b012f65102c213c3ad66a4400236ef","@sp":"c5f2335222778ce8","Method":"GET","Path":"/hubs/orders","Query":"?id=TC2ePPlNeeXn-792LxabOg","Time":"2026-01-18T12:54:32.7760858Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E79:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E79"}
{"@t":"2026-01-18T12:54:32.7994700Z","@mt":"Client connected: {ConnectionId}","@tr":"12b012f65102c213c3ad66a4400236ef","@sp":"c5f2335222778ce8","ConnectionId":"jIrhYse-dgjF87TINZ2Ysg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"jIrhYse-dgjF87TINZ2Ysg","RequestId":"0HNIMI2BT0E79:00000001","RequestPath":"/hubs/orders","CorrelationId":"6d418877-cf7e-4d47-866e-cf67186ab761"}
{"@t":"2026-01-18T12:54:34.8499942Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0a558890c8b430a96a9108c07f35aa5a","@sp":"25583f22ae592f9f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:34.8499248Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000010","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:34.8968273Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0a558890c8b430a96a9108c07f35aa5a","@sp":"25583f22ae592f9f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":46.8208,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000010","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:34.9223272Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0a558890c8b430a96a9108c07f35aa5a","@sp":"ff5dba27d88f1e28","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:54:34.9222613Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7A:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E7A"}
{"@t":"2026-01-18T12:54:34.9332291Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0a558890c8b430a96a9108c07f35aa5a","@sp":"ff5dba27d88f1e28","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":10.7842,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7A:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E7A"}
{"@t":"2026-01-18T12:54:34.9605267Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0a558890c8b430a96a9108c07f35aa5a","@sp":"1b5ad30fba230b0c","Method":"GET","Path":"/hubs/orders","Query":"?id=pF-JlDBAnhT-s43UiNDMzg","Time":"2026-01-18T12:54:34.9604172Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7B:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E7B"}
{"@t":"2026-01-18T12:54:34.9966420Z","@mt":"Client connected: {ConnectionId}","@tr":"0a558890c8b430a96a9108c07f35aa5a","@sp":"1b5ad30fba230b0c","ConnectionId":"zWqTgh8XZPCXPo4vE3B9LA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"zWqTgh8XZPCXPo4vE3B9LA","RequestId":"0HNIMI2BT0E7B:00000001","RequestPath":"/hubs/orders","CorrelationId":"bec0f35b-c8bc-4e71-800b-8e73e81acc12"}
{"@t":"2026-01-18T12:54:35.0051480Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"zWqTgh8XZPCXPo4vE3B9LA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"zWqTgh8XZPCXPo4vE3B9LA","RequestId":"0HNIMI2BT0E7B:00000001","RequestPath":"/hubs/orders","CorrelationId":"bec0f35b-c8bc-4e71-800b-8e73e81acc12"}
{"@t":"2026-01-18T12:54:35.0330772Z","@mt":"Client disconnected: {ConnectionId}","@tr":"0a558890c8b430a96a9108c07f35aa5a","@sp":"1b5ad30fba230b0c","ConnectionId":"zWqTgh8XZPCXPo4vE3B9LA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"zWqTgh8XZPCXPo4vE3B9LA","RequestId":"0HNIMI2BT0E7B:00000001","RequestPath":"/hubs/orders","CorrelationId":"bec0f35b-c8bc-4e71-800b-8e73e81acc12"}
{"@t":"2026-01-18T12:54:35.0418401Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0a558890c8b430a96a9108c07f35aa5a","@sp":"1b5ad30fba230b0c","Method":"GET","Path":"/hubs/orders","Query":"?id=pF-JlDBAnhT-s43UiNDMzg","StatusCode":101,"Duration":81.2078,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7B:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E7B"}
{"@t":"2026-01-18T12:54:35.0588865Z","@mt":"Client disconnected: {ConnectionId}","@tr":"12b012f65102c213c3ad66a4400236ef","@sp":"c5f2335222778ce8","ConnectionId":"jIrhYse-dgjF87TINZ2Ysg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"jIrhYse-dgjF87TINZ2Ysg","RequestId":"0HNIMI2BT0E79:00000001","RequestPath":"/hubs/orders","CorrelationId":"6d418877-cf7e-4d47-866e-cf67186ab761"}
{"@t":"2026-01-18T12:54:35.0673345Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"12b012f65102c213c3ad66a4400236ef","@sp":"c5f2335222778ce8","Method":"GET","Path":"/hubs/orders","Query":"?id=TC2ePPlNeeXn-792LxabOg","StatusCode":101,"Duration":2291.1714,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E79:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E79"}
{"@t":"2026-01-18T12:54:35.1144788Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"882ad79ead5cc550b0009c3e84a36b3b","@sp":"968e5adba7555c29","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:35.1143411Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000011","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:35.1429958Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"882ad79ead5cc550b0009c3e84a36b3b","@sp":"968e5adba7555c29","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":28.4268,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000011","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:35.1761771Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a56d60423d7d964da907720a96ab8064","@sp":"0d04a3b6c4356bbe","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:54:35.1761109Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7C:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E7C"}
{"@t":"2026-01-18T12:54:35.1910516Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a56d60423d7d964da907720a96ab8064","@sp":"0d04a3b6c4356bbe","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":14.8235,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7C:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E7C"}
{"@t":"2026-01-18T12:54:35.2074751Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d94a6c6e0092c00b1d2e777c4f0d70b5","@sp":"f0cf75d41b660543","Method":"GET","Path":"/hubs/orders","Query":"?id=D5Hh3V6d2zZ3Np2R9yiFjA","Time":"2026-01-18T12:54:35.2074266Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7D:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E7D"}
{"@t":"2026-01-18T12:54:35.2173811Z","@mt":"Client connected: {ConnectionId}","@tr":"d94a6c6e0092c00b1d2e777c4f0d70b5","@sp":"f0cf75d41b660543","ConnectionId":"8turIMD4jYApr0KcEjdw2w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"8turIMD4jYApr0KcEjdw2w","RequestId":"0HNIMI2BT0E7D:00000001","RequestPath":"/hubs/orders","CorrelationId":"712aba23-21ec-4f45-8955-e2e03a1b1b21"}
{"@t":"2026-01-18T12:54:35.2316535Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"8turIMD4jYApr0KcEjdw2w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"8turIMD4jYApr0KcEjdw2w","RequestId":"0HNIMI2BT0E7D:00000001","RequestPath":"/hubs/orders","CorrelationId":"712aba23-21ec-4f45-8955-e2e03a1b1b21"}
{"@t":"2026-01-18T12:54:37.4607847Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ba313b3c8915ee5a05cf4dcd8d58da1c","@sp":"3ae7646756c474bc","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-18T12:54:37.4606936Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000012","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:37.4790122Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ba313b3c8915ee5a05cf4dcd8d58da1c","@sp":"3ae7646756c474bc","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":18.243,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000012","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:41.6646151Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e90e27eb48b20dc7bfaa98e769962d17","@sp":"aa7de70619645e68","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T12:54:41.6645162Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:41.9899788Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"e90e27eb48b20dc7bfaa98e769962d17","@sp":"aa7de70619645e68","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"bb9ed011-645f-4006-a4f2-dd052cfa7c0f"}
{"@t":"2026-01-18T12:54:42.0537420Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"e90e27eb48b20dc7bfaa98e769962d17","@sp":"aa7de70619645e68","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"bb9ed011-645f-4006-a4f2-dd052cfa7c0f"}
{"@t":"2026-01-18T12:54:42.1220186Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"e90e27eb48b20dc7bfaa98e769962d17","@sp":"aa7de70619645e68","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"bb9ed011-645f-4006-a4f2-dd052cfa7c0f"}
{"@t":"2026-01-18T12:54:42.1849181Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"e90e27eb48b20dc7bfaa98e769962d17","@sp":"aa7de70619645e68","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"bb9ed011-645f-4006-a4f2-dd052cfa7c0f"}
{"@t":"2026-01-18T12:54:42.2432162Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"e90e27eb48b20dc7bfaa98e769962d17","@sp":"aa7de70619645e68","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":578.4822,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:44.1075721Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5ba0e3f6e1b49b273b4b5e1712aacb88","@sp":"0f810326f1de8ee6","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T12:54:44.1074840Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:44.1434360Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"5ba0e3f6e1b49b273b4b5e1712aacb88","@sp":"0f810326f1de8ee6","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"f2e46ebd-8aa4-4c81-b165-feda6deaa5da"}
{"@t":"2026-01-18T12:54:44.2130851Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"5ba0e3f6e1b49b273b4b5e1712aacb88","@sp":"0f810326f1de8ee6","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"f2e46ebd-8aa4-4c81-b165-feda6deaa5da"}
{"@t":"2026-01-18T12:54:44.3014746Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"5ba0e3f6e1b49b273b4b5e1712aacb88","@sp":"0f810326f1de8ee6","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"f2e46ebd-8aa4-4c81-b165-feda6deaa5da"}
{"@t":"2026-01-18T12:54:44.3678534Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"5ba0e3f6e1b49b273b4b5e1712aacb88","@sp":"0f810326f1de8ee6","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"f2e46ebd-8aa4-4c81-b165-feda6deaa5da"}
{"@t":"2026-01-18T12:54:44.4204909Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"5ba0e3f6e1b49b273b4b5e1712aacb88","@sp":"0f810326f1de8ee6","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":312.8734,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:50.2598133Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3a7a05cde40bf63bce35f252f2dae32d","@sp":"d27f7bdac57c062b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T12:54:50.2593529Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:50.2937200Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"3a7a05cde40bf63bce35f252f2dae32d","@sp":"d27f7bdac57c062b","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"cdd03997-303a-44ad-b6b9-9e7cb563cb9f"}
{"@t":"2026-01-18T12:54:50.3579491Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"3a7a05cde40bf63bce35f252f2dae32d","@sp":"d27f7bdac57c062b","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"cdd03997-303a-44ad-b6b9-9e7cb563cb9f"}
{"@t":"2026-01-18T12:54:50.4294166Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"3a7a05cde40bf63bce35f252f2dae32d","@sp":"d27f7bdac57c062b","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"cdd03997-303a-44ad-b6b9-9e7cb563cb9f"}
{"@t":"2026-01-18T12:54:50.4744434Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5184ce230e5754263b427f134a34417d","@sp":"262f34be3a226cad","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T12:54:50.4743775Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:50.4771078Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"3a7a05cde40bf63bce35f252f2dae32d","@sp":"d27f7bdac57c062b","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"cdd03997-303a-44ad-b6b9-9e7cb563cb9f"}
{"@t":"2026-01-18T12:54:50.5085672Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"5184ce230e5754263b427f134a34417d","@sp":"262f34be3a226cad","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"e65d2055-68a5-42e0-8486-3386d6515026"}
{"@t":"2026-01-18T12:54:50.5356110Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"3a7a05cde40bf63bce35f252f2dae32d","@sp":"d27f7bdac57c062b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":276.1792,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:50.5940264Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"5184ce230e5754263b427f134a34417d","@sp":"262f34be3a226cad","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"e65d2055-68a5-42e0-8486-3386d6515026"}
{"@t":"2026-01-18T12:54:50.6577217Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"5184ce230e5754263b427f134a34417d","@sp":"262f34be3a226cad","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"e65d2055-68a5-42e0-8486-3386d6515026"}
{"@t":"2026-01-18T12:54:50.7040020Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"5184ce230e5754263b427f134a34417d","@sp":"262f34be3a226cad","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"e65d2055-68a5-42e0-8486-3386d6515026"}
{"@t":"2026-01-18T12:54:50.7374727Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"5184ce230e5754263b427f134a34417d","@sp":"262f34be3a226cad","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":263.0192,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000015","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:56.3753174Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3af8164db9e988c3624439a2c5b4964a","@sp":"03449acab7685829","Method":"GET","Path":"/api/admin/orders/2","Query":"","Time":"2026-01-18T12:54:56.3752207Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000016","RequestPath":"/api/admin/orders/2","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:56.3928120Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3af8164db9e988c3624439a2c5b4964a","@sp":"03449acab7685829","Method":"GET","Path":"/api/admin/orders/2","Query":"","StatusCode":200,"Duration":17.4807,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000016","RequestPath":"/api/admin/orders/2","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:57.7805386Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"722f6f7bdd8f914c8b0d40b9c04839d9","@sp":"f43e2972c1749069","Method":"PUT","Path":"/api/admin/orders/2/status","Query":"","Time":"2026-01-18T12:54:57.7804585Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000017","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:57.8020460Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"722f6f7bdd8f914c8b0d40b9c04839d9","@sp":"f43e2972c1749069","OrderId":2,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000017","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"09b07ea0-23d3-4fd3-bb6e-84d08a765237"}
{"@t":"2026-01-18T12:54:57.8169282Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0bdc71434f0f72970b9a8bd461202a98","@sp":"fb8545bb1ad9b457","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:54:57.8168468Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000016","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:57.8171178Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"722f6f7bdd8f914c8b0d40b9c04839d9","@sp":"f43e2972c1749069","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-A165B5","Status":"Preparing","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000017","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"09b07ea0-23d3-4fd3-bb6e-84d08a765237"}
{"@t":"2026-01-18T12:54:57.8492108Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0bdc71434f0f72970b9a8bd461202a98","@sp":"fb8545bb1ad9b457","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":32.2542,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000016","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:54:57.9420320Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"722f6f7bdd8f914c8b0d40b9c04839d9","@sp":"f43e2972c1749069","Method":"PUT","Path":"/api/admin/orders/2/status","Query":"","StatusCode":200,"Duration":161.4633,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000017","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:59.9677318Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"352fd5a00a3816dcc3a55ac55b0af40b","@sp":"6a5a38954813c106","Method":"PUT","Path":"/api/admin/orders/2/status","Query":"","Time":"2026-01-18T12:54:59.9676402Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000018","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:54:59.9985199Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"352fd5a00a3816dcc3a55ac55b0af40b","@sp":"6a5a38954813c106","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000018","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"6c742fb2-ed9b-4851-8fb1-e779bca8669f"}
{"@t":"2026-01-18T12:55:00.1801633Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"352fd5a00a3816dcc3a55ac55b0af40b","@sp":"6a5a38954813c106","OrderId":2,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000018","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"6c742fb2-ed9b-4851-8fb1-e779bca8669f"}
{"@t":"2026-01-18T12:55:00.2413768Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"352fd5a00a3816dcc3a55ac55b0af40b","@sp":"6a5a38954813c106","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000018","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"6c742fb2-ed9b-4851-8fb1-e779bca8669f"}
{"@t":"2026-01-18T12:55:00.2852888Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"352fd5a00a3816dcc3a55ac55b0af40b","@sp":"6a5a38954813c106","OrderId":2,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:00000018","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"6c742fb2-ed9b-4851-8fb1-e779bca8669f"}
{"@t":"2026-01-18T12:55:00.3221873Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"352fd5a00a3816dcc3a55ac55b0af40b","@sp":"6a5a38954813c106","Method":"PUT","Path":"/api/admin/orders/2/status","Query":"","StatusCode":500,"Duration":354.4707,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000018","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:00.9783177Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"05ec188b9d4808d0173423e3ed2fe232","@sp":"8ddf2a228681f31d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:55:00.9782160Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000019","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:01.0409641Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"05ec188b9d4808d0173423e3ed2fe232","@sp":"8ddf2a228681f31d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":62.5945,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000019","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:01.5896928Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1f2e4bdbd5549cc052b77c5dac715b8c","@sp":"1e3f8c20a346ef6d","Method":"PUT","Path":"/api/admin/orders/2/status","Query":"","Time":"2026-01-18T12:55:01.5896026Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001A","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:01.6201583Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"1f2e4bdbd5549cc052b77c5dac715b8c","@sp":"1e3f8c20a346ef6d","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000001A","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"8a16936a-27e3-4e86-a071-dc716b6d1bf6"}
{"@t":"2026-01-18T12:55:01.6935705Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"1f2e4bdbd5549cc052b77c5dac715b8c","@sp":"1e3f8c20a346ef6d","OrderId":2,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000001A","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"8a16936a-27e3-4e86-a071-dc716b6d1bf6"}
{"@t":"2026-01-18T12:55:01.8760319Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"1f2e4bdbd5549cc052b77c5dac715b8c","@sp":"1e3f8c20a346ef6d","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000001A","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"8a16936a-27e3-4e86-a071-dc716b6d1bf6"}
{"@t":"2026-01-18T12:55:01.9424660Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"1f2e4bdbd5549cc052b77c5dac715b8c","@sp":"1e3f8c20a346ef6d","OrderId":2,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000001A","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"8a16936a-27e3-4e86-a071-dc716b6d1bf6"}
{"@t":"2026-01-18T12:55:02.0448305Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"1f2e4bdbd5549cc052b77c5dac715b8c","@sp":"1e3f8c20a346ef6d","Method":"PUT","Path":"/api/admin/orders/2/status","Query":"","StatusCode":500,"Duration":455.1352,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001A","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:02.1561079Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"51e3c459ebbd076e4a22d15045e3a514","@sp":"cbe506f4a934ff8c","Method":"PUT","Path":"/api/admin/orders/2/status","Query":"","Time":"2026-01-18T12:55:02.1559840Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001B","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:02.2027361Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"51e3c459ebbd076e4a22d15045e3a514","@sp":"cbe506f4a934ff8c","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000001B","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"01738cf0-86d7-41c3-a1a8-e59db7b8c4dd"}
{"@t":"2026-01-18T12:55:02.3650864Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"51e3c459ebbd076e4a22d15045e3a514","@sp":"cbe506f4a934ff8c","OrderId":2,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000001B","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"01738cf0-86d7-41c3-a1a8-e59db7b8c4dd"}
{"@t":"2026-01-18T12:55:02.4787293Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"51e3c459ebbd076e4a22d15045e3a514","@sp":"cbe506f4a934ff8c","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000001B","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"01738cf0-86d7-41c3-a1a8-e59db7b8c4dd"}
{"@t":"2026-01-18T12:55:02.6165645Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"51e3c459ebbd076e4a22d15045e3a514","@sp":"cbe506f4a934ff8c","OrderId":2,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000001B","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"01738cf0-86d7-41c3-a1a8-e59db7b8c4dd"}
{"@t":"2026-01-18T12:55:02.7477587Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"51e3c459ebbd076e4a22d15045e3a514","@sp":"cbe506f4a934ff8c","Method":"PUT","Path":"/api/admin/orders/2/status","Query":"","StatusCode":500,"Duration":591.6847,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001B","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:02.9289069Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c02dfd5b3572eff39be5b9295e6630fb","@sp":"234c8f493a8c3bfd","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:55:02.9287046Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:03.2917872Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c02dfd5b3572eff39be5b9295e6630fb","@sp":"234c8f493a8c3bfd","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":362.9854,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:03.4539964Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"78805e4e59e39adabe0ae71e962d300c","@sp":"5e837d0135d63cb8","Method":"PUT","Path":"/api/admin/orders/2/status","Query":"","Time":"2026-01-18T12:55:03.4539308Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001D","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:03.4808586Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"78805e4e59e39adabe0ae71e962d300c","@sp":"5e837d0135d63cb8","OrderId":2,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000001D","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"36e96443-1545-4393-a95d-d7fed2626f8e"}
{"@t":"2026-01-18T12:55:03.4872741Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8472986e2505e329b22183d78c413b1a","@sp":"5ff2cc3505e68138","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:55:03.4872120Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000017","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:55:03.4874311Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"78805e4e59e39adabe0ae71e962d300c","@sp":"5e837d0135d63cb8","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-A165B5","Status":"Ready","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6K:0000001D","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K","CorrelationId":"36e96443-1545-4393-a95d-d7fed2626f8e"}
{"@t":"2026-01-18T12:55:03.5195722Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8472986e2505e329b22183d78c413b1a","@sp":"5ff2cc3505e68138","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":32.289,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000017","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:55:03.6182786Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"78805e4e59e39adabe0ae71e962d300c","@sp":"5e837d0135d63cb8","Method":"PUT","Path":"/api/admin/orders/2/status","Query":"","StatusCode":200,"Duration":164.2067,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001D","RequestPath":"/api/admin/orders/2/status","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:06.6468457Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e6395909e6c85dad102a480e75a97c16","@sp":"572db67e4489d070","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:55:06.6467136Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:06.6775305Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e6395909e6c85dad102a480e75a97c16","@sp":"572db67e4489d070","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":30.7372,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:12.1363896Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4e5c5b95c5c49fd4d921c2caae88532f","@sp":"23ebdf390d472a2d","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T12:55:12.1362555Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001F","RequestPath":"/api/deliveries","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:12.1696138Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"4e5c5b95c5c49fd4d921c2caae88532f","@sp":"23ebdf390d472a2d","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":401,"Duration":33.2394,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:0000001F","RequestPath":"/api/deliveries","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:12.2446676Z","@mt":"Client disconnected: {ConnectionId}","@tr":"d94a6c6e0092c00b1d2e777c4f0d70b5","@sp":"f0cf75d41b660543","ConnectionId":"8turIMD4jYApr0KcEjdw2w","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"8turIMD4jYApr0KcEjdw2w","RequestId":"0HNIMI2BT0E7D:00000001","RequestPath":"/hubs/orders","CorrelationId":"712aba23-21ec-4f45-8955-e2e03a1b1b21"}
{"@t":"2026-01-18T12:55:12.2804079Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"06758a4e308195bd85b1ecd4b381f1cc","@sp":"3c51887a6c2d85c2","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T12:55:12.2802361Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000020","RequestPath":"/api/deliveries","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:12.2950386Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d94a6c6e0092c00b1d2e777c4f0d70b5","@sp":"f0cf75d41b660543","Method":"GET","Path":"/hubs/orders","Query":"?id=D5Hh3V6d2zZ3Np2R9yiFjA","StatusCode":101,"Duration":37087.3239,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7D:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E7D"}
{"@t":"2026-01-18T12:55:12.5358111Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"06758a4e308195bd85b1ecd4b381f1cc","@sp":"3c51887a6c2d85c2","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":200,"Duration":255.4539,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000020","RequestPath":"/api/deliveries","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:20.7833251Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9dc9b282c6fea476c82ac5d421e23388","@sp":"257b21f4f230e731","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T12:55:20.7831924Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000021","RequestPath":"/api/deliveries","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:20.7978941Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"9dc9b282c6fea476c82ac5d421e23388","@sp":"257b21f4f230e731","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":401,"Duration":14.5641,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000021","RequestPath":"/api/deliveries","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:20.8896265Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9476e4002532728b1c35b7b189619b53","@sp":"bf464471e3f3d208","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T12:55:20.8894890Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000022","RequestPath":"/api/deliveries","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:21.0101467Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9476e4002532728b1c35b7b189619b53","@sp":"bf464471e3f3d208","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":200,"Duration":120.5355,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000022","RequestPath":"/api/deliveries","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:28.0908076Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"64e3ad67a887b90f97891ec6145e590b","@sp":"8e2b9725528f112c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:55:28.0907094Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000023","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:28.2949399Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"64e3ad67a887b90f97891ec6145e590b","@sp":"8e2b9725528f112c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":204.0046,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000023","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:28.3223173Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"64e3ad67a887b90f97891ec6145e590b","@sp":"7c22d44cf02ebdd3","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:55:28.3222109Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7E:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E7E"}
{"@t":"2026-01-18T12:55:28.3322118Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"64e3ad67a887b90f97891ec6145e590b","@sp":"7c22d44cf02ebdd3","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":9.8885,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7E:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E7E"}
{"@t":"2026-01-18T12:55:28.3439457Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"64e3ad67a887b90f97891ec6145e590b","@sp":"955cb6ce23c0b645","Method":"GET","Path":"/hubs/orders","Query":"?id=jo5V7rdFfTy5-bielDVxXg","Time":"2026-01-18T12:55:28.3438288Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7F:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E7F"}
{"@t":"2026-01-18T12:55:28.3566248Z","@mt":"Client connected: {ConnectionId}","@tr":"64e3ad67a887b90f97891ec6145e590b","@sp":"955cb6ce23c0b645","ConnectionId":"WEc92bCyRg4-4ti4XiJxqA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"WEc92bCyRg4-4ti4XiJxqA","RequestId":"0HNIMI2BT0E7F:00000001","RequestPath":"/hubs/orders","CorrelationId":"0abbcfae-0000-40ca-a9e8-6a90fbb5e2dd"}
{"@t":"2026-01-18T12:55:28.3622479Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"WEc92bCyRg4-4ti4XiJxqA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"WEc92bCyRg4-4ti4XiJxqA","RequestId":"0HNIMI2BT0E7F:00000001","RequestPath":"/hubs/orders","CorrelationId":"0abbcfae-0000-40ca-a9e8-6a90fbb5e2dd"}
{"@t":"2026-01-18T12:55:28.3768359Z","@mt":"Client disconnected: {ConnectionId}","@tr":"64e3ad67a887b90f97891ec6145e590b","@sp":"955cb6ce23c0b645","ConnectionId":"WEc92bCyRg4-4ti4XiJxqA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"WEc92bCyRg4-4ti4XiJxqA","RequestId":"0HNIMI2BT0E7F:00000001","RequestPath":"/hubs/orders","CorrelationId":"0abbcfae-0000-40ca-a9e8-6a90fbb5e2dd"}
{"@t":"2026-01-18T12:55:28.3849652Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"64e3ad67a887b90f97891ec6145e590b","@sp":"955cb6ce23c0b645","Method":"GET","Path":"/hubs/orders","Query":"?id=jo5V7rdFfTy5-bielDVxXg","StatusCode":101,"Duration":40.7563,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7F:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E7F"}
{"@t":"2026-01-18T12:55:28.4414602Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e293fe3dbc6aced8a09a8141520b2716","@sp":"5977db59cb19ef05","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:55:28.4413736Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000024","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:28.4681661Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e293fe3dbc6aced8a09a8141520b2716","@sp":"5977db59cb19ef05","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":26.6931,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000024","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:28.4946425Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2399adf984e142e1fab7311ebda08d25","@sp":"5ad8392b504b1df0","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T12:55:28.4945510Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7G:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E7G"}
{"@t":"2026-01-18T12:55:28.5051894Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2399adf984e142e1fab7311ebda08d25","@sp":"5ad8392b504b1df0","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":10.5224,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7G:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI2BT0E7G"}
{"@t":"2026-01-18T12:55:28.5295684Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a098abdab3248c1b41a33821bbafaefd","@sp":"a43077d59067cd2e","Method":"GET","Path":"/hubs/orders","Query":"?id=k6Uv1QDXQI8qlUY9X6HyTQ","Time":"2026-01-18T12:55:28.5291690Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7H:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E7H"}
{"@t":"2026-01-18T12:55:28.5702211Z","@mt":"Client connected: {ConnectionId}","@tr":"a098abdab3248c1b41a33821bbafaefd","@sp":"a43077d59067cd2e","ConnectionId":"y_fVBH1tOysSpfxZ6kWYrQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"y_fVBH1tOysSpfxZ6kWYrQ","RequestId":"0HNIMI2BT0E7H:00000001","RequestPath":"/hubs/orders","CorrelationId":"b5045f17-de65-4bdd-9224-6b92660230dc"}
{"@t":"2026-01-18T12:55:28.5776334Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"y_fVBH1tOysSpfxZ6kWYrQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"y_fVBH1tOysSpfxZ6kWYrQ","RequestId":"0HNIMI2BT0E7H:00000001","RequestPath":"/hubs/orders","CorrelationId":"b5045f17-de65-4bdd-9224-6b92660230dc"}
{"@t":"2026-01-18T12:55:33.3228330Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5e57fd1fda84d29b94427749856f192d","@sp":"5e900cf89d1c430d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:55:33.3226703Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000025","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:33.3489416Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5e57fd1fda84d29b94427749856f192d","@sp":"5e900cf89d1c430d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":26.1023,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000025","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:34.6306939Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"20215faf06a9fa0c9651d6dc0d8b2a6d","@sp":"1a9564184dcbd553","Method":"GET","Path":"/api/admin/orders/3","Query":"","Time":"2026-01-18T12:55:34.6304885Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000026","RequestPath":"/api/admin/orders/3","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:34.7611218Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"20215faf06a9fa0c9651d6dc0d8b2a6d","@sp":"1a9564184dcbd553","Method":"GET","Path":"/api/admin/orders/3","Query":"","StatusCode":200,"Duration":130.4975,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6K:00000026","RequestPath":"/api/admin/orders/3","ConnectionId":"0HNIMI2BT0E6K"}
{"@t":"2026-01-18T12:55:38.0946007Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"471c40356bc08719e0e9a6c802fe6954","@sp":"6d37a2dd2d8b7811","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","Time":"2026-01-18T12:55:38.0945092Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000018","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:55:38.1431265Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"471c40356bc08719e0e9a6c802fe6954","@sp":"6d37a2dd2d8b7811","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000018","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"bc2f6e40-1371-4716-bad0-e44eb7529423"}
{"@t":"2026-01-18T12:55:38.2022739Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"471c40356bc08719e0e9a6c802fe6954","@sp":"6d37a2dd2d8b7811","OrderId":3,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000018","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"bc2f6e40-1371-4716-bad0-e44eb7529423"}
{"@t":"2026-01-18T12:55:38.2619604Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"471c40356bc08719e0e9a6c802fe6954","@sp":"6d37a2dd2d8b7811","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000018","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"bc2f6e40-1371-4716-bad0-e44eb7529423"}
{"@t":"2026-01-18T12:55:38.3221878Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"471c40356bc08719e0e9a6c802fe6954","@sp":"6d37a2dd2d8b7811","OrderId":3,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000018","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"bc2f6e40-1371-4716-bad0-e44eb7529423"}
{"@t":"2026-01-18T12:55:38.3694481Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"471c40356bc08719e0e9a6c802fe6954","@sp":"6d37a2dd2d8b7811","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","StatusCode":500,"Duration":274.8699,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000018","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:55:38.8415884Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c4eb654b5b8b7a7c77c4b30b50742289","@sp":"b0c6de462c38b8fa","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","Time":"2026-01-18T12:55:38.8414912Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000019","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:55:38.8857588Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"c4eb654b5b8b7a7c77c4b30b50742289","@sp":"b0c6de462c38b8fa","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000019","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"80f33387-a804-4aff-aa8f-22150157dead"}
{"@t":"2026-01-18T12:55:38.9459496Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"c4eb654b5b8b7a7c77c4b30b50742289","@sp":"b0c6de462c38b8fa","OrderId":3,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000019","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"80f33387-a804-4aff-aa8f-22150157dead"}
{"@t":"2026-01-18T12:55:39.0166199Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"c4eb654b5b8b7a7c77c4b30b50742289","@sp":"b0c6de462c38b8fa","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000019","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"80f33387-a804-4aff-aa8f-22150157dead"}
{"@t":"2026-01-18T12:55:39.0762821Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d6bfb6e9ae0e2eb505ea6b358a4582c4","@sp":"060b36df8c46d9f5","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","Time":"2026-01-18T12:55:39.0761983Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:39.0792098Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"c4eb654b5b8b7a7c77c4b30b50742289","@sp":"b0c6de462c38b8fa","OrderId":3,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:00000019","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"80f33387-a804-4aff-aa8f-22150157dead"}
{"@t":"2026-01-18T12:55:39.1099640Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"d6bfb6e9ae0e2eb505ea6b358a4582c4","@sp":"060b36df8c46d9f5","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"75e710ee-ed94-4516-b33f-6b9e2462ef26"}
{"@t":"2026-01-18T12:55:39.1296732Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"c4eb654b5b8b7a7c77c4b30b50742289","@sp":"b0c6de462c38b8fa","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","StatusCode":500,"Duration":288.028,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:00000019","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:55:39.1876933Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"d6bfb6e9ae0e2eb505ea6b358a4582c4","@sp":"060b36df8c46d9f5","OrderId":3,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"75e710ee-ed94-4516-b33f-6b9e2462ef26"}
{"@t":"2026-01-18T12:55:39.2422338Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"86f2d680b119a1b0afce7538d51c63e7","@sp":"ce52b64129ae1a09","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","Time":"2026-01-18T12:55:39.2417740Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000001A","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:55:39.2630730Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"d6bfb6e9ae0e2eb505ea6b358a4582c4","@sp":"060b36df8c46d9f5","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"75e710ee-ed94-4516-b33f-6b9e2462ef26"}
{"@t":"2026-01-18T12:55:39.2812169Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"86f2d680b119a1b0afce7538d51c63e7","@sp":"ce52b64129ae1a09","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:0000001A","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"7c49669d-ed1e-47fe-a2f9-fe1c66e87443"}
{"@t":"2026-01-18T12:55:39.3142401Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"d6bfb6e9ae0e2eb505ea6b358a4582c4","@sp":"060b36df8c46d9f5","OrderId":3,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"75e710ee-ed94-4516-b33f-6b9e2462ef26"}
{"@t":"2026-01-18T12:55:39.3716007Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"86f2d680b119a1b0afce7538d51c63e7","@sp":"ce52b64129ae1a09","OrderId":3,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:0000001A","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"7c49669d-ed1e-47fe-a2f9-fe1c66e87443"}
{"@t":"2026-01-18T12:55:39.4137563Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"d6bfb6e9ae0e2eb505ea6b358a4582c4","@sp":"060b36df8c46d9f5","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","StatusCode":500,"Duration":337.4739,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:39.4317746Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f4187e1abef70124b184f9f90f4912c0","@sp":"633e1ab84079ed9a","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","Time":"2026-01-18T12:55:39.4316951Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:55:39.4764369Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"86f2d680b119a1b0afce7538d51c63e7","@sp":"ce52b64129ae1a09","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:0000001A","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"7c49669d-ed1e-47fe-a2f9-fe1c66e87443"}
{"@t":"2026-01-18T12:55:39.5140687Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"f4187e1abef70124b184f9f90f4912c0","@sp":"633e1ab84079ed9a","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7J:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7J","CorrelationId":"9225b7f7-182e-4f16-abaa-5c4ac8fad841"}
{"@t":"2026-01-18T12:55:39.5342795Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"86f2d680b119a1b0afce7538d51c63e7","@sp":"ce52b64129ae1a09","OrderId":3,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:0000001A","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"7c49669d-ed1e-47fe-a2f9-fe1c66e87443"}
{"@t":"2026-01-18T12:55:39.5851990Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"f4187e1abef70124b184f9f90f4912c0","@sp":"633e1ab84079ed9a","OrderId":3,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7J:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7J","CorrelationId":"9225b7f7-182e-4f16-abaa-5c4ac8fad841"}
{"@t":"2026-01-18T12:55:39.6150337Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8c31f114e0e171b03c855f5ad93c4eff","@sp":"e9bce1dd284e199c","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","Time":"2026-01-18T12:55:39.6148233Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000002","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:39.6378299Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"86f2d680b119a1b0afce7538d51c63e7","@sp":"ce52b64129ae1a09","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","StatusCode":500,"Duration":395.9565,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000001A","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:55:39.6875555Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"f4187e1abef70124b184f9f90f4912c0","@sp":"633e1ab84079ed9a","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7J:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7J","CorrelationId":"9225b7f7-182e-4f16-abaa-5c4ac8fad841"}
{"@t":"2026-01-18T12:55:39.7017089Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"8c31f114e0e171b03c855f5ad93c4eff","@sp":"e9bce1dd284e199c","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000002","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"e7ed2aca-79d4-4b59-b0d9-5ec3a1b5ca2f"}
{"@t":"2026-01-18T12:55:39.7409945Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"f4187e1abef70124b184f9f90f4912c0","@sp":"633e1ab84079ed9a","OrderId":3,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7J:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7J","CorrelationId":"9225b7f7-182e-4f16-abaa-5c4ac8fad841"}
{"@t":"2026-01-18T12:55:39.7884978Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"8c31f114e0e171b03c855f5ad93c4eff","@sp":"e9bce1dd284e199c","OrderId":3,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000002","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"e7ed2aca-79d4-4b59-b0d9-5ec3a1b5ca2f"}
{"@t":"2026-01-18T12:55:39.8062700Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1cdfbd0407088cc4cce1080dd001eea0","@sp":"b8f7967c1b5842b2","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","Time":"2026-01-18T12:55:39.8061835Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000001B","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:55:39.8356626Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"f4187e1abef70124b184f9f90f4912c0","@sp":"633e1ab84079ed9a","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","StatusCode":500,"Duration":403.8786,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000001","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:55:39.8825872Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"8c31f114e0e171b03c855f5ad93c4eff","@sp":"e9bce1dd284e199c","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000002","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"e7ed2aca-79d4-4b59-b0d9-5ec3a1b5ca2f"}
{"@t":"2026-01-18T12:55:39.8982128Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"1cdfbd0407088cc4cce1080dd001eea0","@sp":"b8f7967c1b5842b2","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:0000001B","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"63c1d41c-6739-47e4-860c-ffb643dc084d"}
{"@t":"2026-01-18T12:55:39.9411266Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"8c31f114e0e171b03c855f5ad93c4eff","@sp":"e9bce1dd284e199c","OrderId":3,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000002","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"e7ed2aca-79d4-4b59-b0d9-5ec3a1b5ca2f"}
{"@t":"2026-01-18T12:55:39.9880053Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"1cdfbd0407088cc4cce1080dd001eea0","@sp":"b8f7967c1b5842b2","OrderId":3,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:0000001B","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"63c1d41c-6739-47e4-860c-ffb643dc084d"}
{"@t":"2026-01-18T12:55:40.0270087Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"8c31f114e0e171b03c855f5ad93c4eff","@sp":"e9bce1dd284e199c","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","StatusCode":500,"Duration":412.0955,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000002","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:40.0729673Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"1cdfbd0407088cc4cce1080dd001eea0","@sp":"b8f7967c1b5842b2","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:0000001B","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"63c1d41c-6739-47e4-860c-ffb643dc084d"}
{"@t":"2026-01-18T12:55:40.1266276Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"1cdfbd0407088cc4cce1080dd001eea0","@sp":"b8f7967c1b5842b2","OrderId":3,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E6P:0000001B","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P","CorrelationId":"63c1d41c-6739-47e4-860c-ffb643dc084d"}
{"@t":"2026-01-18T12:55:40.1745348Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"1cdfbd0407088cc4cce1080dd001eea0","@sp":"b8f7967c1b5842b2","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","StatusCode":500,"Duration":368.2488,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E6P:0000001B","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMI2BT0E6P"}
{"@t":"2026-01-18T12:55:53.5099463Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c8de290aa572a773e95eba44dbb3f7fc","@sp":"aacd5b7c45c41075","Method":"GET","Path":"/api/admin/orders/1","Query":"","Time":"2026-01-18T12:55:53.5098271Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000003","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:53.5271429Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c8de290aa572a773e95eba44dbb3f7fc","@sp":"aacd5b7c45c41075","Method":"GET","Path":"/api/admin/orders/1","Query":"","StatusCode":200,"Duration":17.2257,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000003","RequestPath":"/api/admin/orders/1","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:55.7027142Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8d3694dd4f009550ef567305b92bf81c","@sp":"e4a93455233e7db5","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:55:55.7026469Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000004","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:55.7360100Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"8d3694dd4f009550ef567305b92bf81c","@sp":"e4a93455233e7db5","OrderId":1,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000004","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"d64614fe-4811-40a5-8491-11b0c30ed17c"}
{"@t":"2026-01-18T12:55:55.7457858Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b00235d4df301c24c4c848b9f86d106a","@sp":"084f0bee4f21d9e5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:55:55.7456756Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:55:55.7523215Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"8d3694dd4f009550ef567305b92bf81c","@sp":"e4a93455233e7db5","Email":"admin@restaurant.com","OrderNumber":"ORD-20260111-C451BA","Status":"Preparing","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000004","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"d64614fe-4811-40a5-8491-11b0c30ed17c"}
{"@t":"2026-01-18T12:55:55.7648446Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b00235d4df301c24c4c848b9f86d106a","@sp":"084f0bee4f21d9e5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":19.0734,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:55:55.8655641Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8d3694dd4f009550ef567305b92bf81c","@sp":"e4a93455233e7db5","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":200,"Duration":162.783,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000004","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:57.2189603Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d35b77e390cebf51f3c628aa5bd380d5","@sp":"b029530644adc362","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:55:57.2188737Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000005","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:57.2380145Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"d35b77e390cebf51f3c628aa5bd380d5","@sp":"b029530644adc362","OrderId":1,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000005","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"babbdaf3-5095-4342-bf3a-58f76b2b6855"}
{"@t":"2026-01-18T12:55:57.2475957Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"d35b77e390cebf51f3c628aa5bd380d5","@sp":"b029530644adc362","Email":"admin@restaurant.com","OrderNumber":"ORD-20260111-C451BA","Status":"Ready","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000005","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"babbdaf3-5095-4342-bf3a-58f76b2b6855"}
{"@t":"2026-01-18T12:55:57.3657642Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d35b77e390cebf51f3c628aa5bd380d5","@sp":"b029530644adc362","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":200,"Duration":146.7891,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000005","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:58.7914569Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"220b39fbe7b731158098c716e6972e9b","@sp":"daddd4cc5efc3793","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:55:58.7912739Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:58.8092844Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"220b39fbe7b731158098c716e6972e9b","@sp":"daddd4cc5efc3793","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":17.9423,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:58.8882562Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2cc0d73e33e50e4fdb4823e2fc366ac4","@sp":"75cc7b9502595dac","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:55:58.8881294Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:55:58.9090099Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2cc0d73e33e50e4fdb4823e2fc366ac4","@sp":"75cc7b9502595dac","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":20.7692,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:56:00.3959582Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2f3a73b891ebb331543c102920660b2b","@sp":"438d49b101df790c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:56:00.3958502Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:56:00.4155746Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2f3a73b891ebb331543c102920660b2b","@sp":"438d49b101df790c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":19.5816,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:56:01.5669777Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"95e5efa9ba779d2a15d999e8d11ae5d0","@sp":"ec3302afb3791e7a","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:56:01.5667753Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000009","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:56:01.5900796Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"95e5efa9ba779d2a15d999e8d11ae5d0","@sp":"ec3302afb3791e7a","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000009","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"6b1e75d1-f7cd-4b00-86dd-7f2c6962816d"}
{"@t":"2026-01-18T12:56:01.6476854Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"95e5efa9ba779d2a15d999e8d11ae5d0","@sp":"ec3302afb3791e7a","OrderId":1,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000009","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"6b1e75d1-f7cd-4b00-86dd-7f2c6962816d"}
{"@t":"2026-01-18T12:56:01.7096891Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"95e5efa9ba779d2a15d999e8d11ae5d0","@sp":"ec3302afb3791e7a","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000009","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"6b1e75d1-f7cd-4b00-86dd-7f2c6962816d"}
{"@t":"2026-01-18T12:56:01.7647293Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"95e5efa9ba779d2a15d999e8d11ae5d0","@sp":"ec3302afb3791e7a","OrderId":1,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:00000009","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"6b1e75d1-f7cd-4b00-86dd-7f2c6962816d"}
{"@t":"2026-01-18T12:56:01.8161511Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"95e5efa9ba779d2a15d999e8d11ae5d0","@sp":"ec3302afb3791e7a","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":500,"Duration":249.2771,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:00000009","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:56:03.2089863Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2c78f66e61effd2db7dc26ce856f8b07","@sp":"ee2dd782c5a2aa7a","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:56:03.2088521Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:0000000A","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:56:03.2338670Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"2c78f66e61effd2db7dc26ce856f8b07","@sp":"ee2dd782c5a2aa7a","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:0000000A","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"0d756c09-8470-45ae-9b7a-5356f721d73e"}
{"@t":"2026-01-18T12:56:03.3020942Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"2c78f66e61effd2db7dc26ce856f8b07","@sp":"ee2dd782c5a2aa7a","OrderId":1,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:0000000A","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"0d756c09-8470-45ae-9b7a-5356f721d73e"}
{"@t":"2026-01-18T12:56:03.3673641Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"2c78f66e61effd2db7dc26ce856f8b07","@sp":"ee2dd782c5a2aa7a","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:0000000A","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"0d756c09-8470-45ae-9b7a-5356f721d73e"}
{"@t":"2026-01-18T12:56:03.4590167Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:2cbf088f-7694-49bb-a289-1d94336ca99c\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"2c78f66e61effd2db7dc26ce856f8b07","@sp":"ee2dd782c5a2aa7a","OrderId":1,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7I:0000000A","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I","CorrelationId":"0d756c09-8470-45ae-9b7a-5356f721d73e"}
{"@t":"2026-01-18T12:56:03.4837834Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cda485c28aa2f7a2485226f3b019bc87","@sp":"a5353e1eff0cb3a2","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:56:03.4836972Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:56:03.5354879Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"2c78f66e61effd2db7dc26ce856f8b07","@sp":"ee2dd782c5a2aa7a","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":500,"Duration":326.5439,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7I:0000000A","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7I"}
{"@t":"2026-01-18T12:56:03.5559557Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cda485c28aa2f7a2485226f3b019bc87","@sp":"a5353e1eff0cb3a2","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":72.1278,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:56:33.5843713Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8a59d244fc209ae47fdb276fd6273d2b","@sp":"bc9ab681490b2530","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:56:33.5842799Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:56:33.6564848Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8a59d244fc209ae47fdb276fd6273d2b","@sp":"bc9ab681490b2530","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":72.0958,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:57:03.7225007Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"49a63b09abe7630e5f92ad323dfae258","@sp":"b89250c6913f4a70","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:57:03.7224107Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:57:03.7415208Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"49a63b09abe7630e5f92ad323dfae258","@sp":"b89250c6913f4a70","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":18.9617,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:57:33.7619375Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9f9dbf19b42c66ffee220c02df498694","@sp":"a8ba1475a0d334d6","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:57:33.7618430Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:57:34.0753490Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9f9dbf19b42c66ffee220c02df498694","@sp":"a8ba1475a0d334d6","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":313.1022,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7J:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7J"}
{"@t":"2026-01-18T12:58:04.3567089Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f01d419577473f2a5f3bb6ba7e0cfbf2","@sp":"84fd1df7fcf0ad3d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:58:04.3565922Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7K:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7K"}
{"@t":"2026-01-18T12:58:04.3753555Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f01d419577473f2a5f3bb6ba7e0cfbf2","@sp":"84fd1df7fcf0ad3d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":18.6669,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7K:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7K"}
{"@t":"2026-01-18T12:58:17.2056352Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e0b0f8e94a325fee51ab98d933a9f35c","@sp":"aab395560aaf68fb","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T12:58:17.2052186Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7L:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7L"}
{"@t":"2026-01-18T12:58:17.2543044Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"e0b0f8e94a325fee51ab98d933a9f35c","@sp":"aab395560aaf68fb","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7L:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7L","CorrelationId":"5fe99207-45e7-44be-a9b3-45b64e88237e"}
{"@t":"2026-01-18T12:58:17.3084937Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"e0b0f8e94a325fee51ab98d933a9f35c","@sp":"aab395560aaf68fb","OrderId":1,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7L:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7L","CorrelationId":"5fe99207-45e7-44be-a9b3-45b64e88237e"}
{"@t":"2026-01-18T12:58:17.3664773Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"e0b0f8e94a325fee51ab98d933a9f35c","@sp":"aab395560aaf68fb","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7L:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7L","CorrelationId":"5fe99207-45e7-44be-a9b3-45b64e88237e"}
{"@t":"2026-01-18T12:58:17.4354176Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:597b7431-e918-48dd-9a60-11968548ca3f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"e0b0f8e94a325fee51ab98d933a9f35c","@sp":"aab395560aaf68fb","OrderId":1,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"d939b5f7-1479-4a52-a6c0-0f73858c89f5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI2BT0E7L:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7L","CorrelationId":"5fe99207-45e7-44be-a9b3-45b64e88237e"}
{"@t":"2026-01-18T12:58:17.4905767Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"e0b0f8e94a325fee51ab98d933a9f35c","@sp":"aab395560aaf68fb","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":500,"Duration":285.1956,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7L:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI2BT0E7L"}
{"@t":"2026-01-18T12:58:34.4135556Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7a92ab104ca3829bb041d40299925951","@sp":"80ea10652afc5bbd","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:58:34.4134688Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7K:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7K"}
{"@t":"2026-01-18T12:58:34.4749722Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7a92ab104ca3829bb041d40299925951","@sp":"80ea10652afc5bbd","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":61.3847,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7K:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7K"}
{"@t":"2026-01-18T12:59:04.4944245Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fdbbe7928a68994d5e31031166ab4784","@sp":"5d60fd83f1b3ee98","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:59:04.4943333Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7K:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7K"}
{"@t":"2026-01-18T12:59:04.5118226Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fdbbe7928a68994d5e31031166ab4784","@sp":"5d60fd83f1b3ee98","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":17.3491,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7K:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7K"}
{"@t":"2026-01-18T12:59:34.5401713Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c63278b334ac82e35d0c32860e5ee7af","@sp":"c177d568f0bc1591","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T12:59:34.5400869Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7K:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7K"}
{"@t":"2026-01-18T12:59:34.6057209Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c63278b334ac82e35d0c32860e5ee7af","@sp":"c177d568f0bc1591","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":65.5606,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7K:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7K"}
{"@t":"2026-01-18T13:00:04.6347122Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fd7986cf1603800d5902cd418da688d1","@sp":"e871b053b3a960e9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:00:04.6346306Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7M:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7M"}
{"@t":"2026-01-18T13:00:04.6946015Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fd7986cf1603800d5902cd418da688d1","@sp":"e871b053b3a960e9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":59.8517,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7M:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7M"}
{"@t":"2026-01-18T13:00:34.7298232Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a82969d34900f0c6cfa24d7217ce0771","@sp":"a9944f9dd2b84a7d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:00:34.7297533Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7M:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7M"}
{"@t":"2026-01-18T13:00:34.8088405Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a82969d34900f0c6cfa24d7217ce0771","@sp":"a9944f9dd2b84a7d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":78.8044,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7M:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7M"}
{"@t":"2026-01-18T13:01:04.8509295Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e459660df290f800345f72e2bf24705f","@sp":"5f0f24cb28c97589","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:01:04.8508090Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7M:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7M"}
{"@t":"2026-01-18T13:01:04.9017627Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e459660df290f800345f72e2bf24705f","@sp":"5f0f24cb28c97589","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":50.7914,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7M:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7M"}
{"@t":"2026-01-18T13:01:34.9284807Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dd15fffdda572f3f0d7cfae642c05050","@sp":"2bab50827007c7f8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:01:34.9283146Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7M:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7M"}
{"@t":"2026-01-18T13:01:34.9505118Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dd15fffdda572f3f0d7cfae642c05050","@sp":"2bab50827007c7f8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":22.0961,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7M:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI2BT0E7M"}
{"@t":"2026-01-18T13:01:42.2847346Z","@mt":"Client disconnected: {ConnectionId}","@tr":"a098abdab3248c1b41a33821bbafaefd","@sp":"a43077d59067cd2e","ConnectionId":"y_fVBH1tOysSpfxZ6kWYrQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"y_fVBH1tOysSpfxZ6kWYrQ","RequestId":"0HNIMI2BT0E7H:00000001","RequestPath":"/hubs/orders","CorrelationId":"b5045f17-de65-4bdd-9224-6b92660230dc"}
{"@t":"2026-01-18T13:01:42.2911765Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a098abdab3248c1b41a33821bbafaefd","@sp":"a43077d59067cd2e","Method":"GET","Path":"/hubs/orders","Query":"?id=k6Uv1QDXQI8qlUY9X6HyTQ","StatusCode":101,"Duration":373761.7668,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI2BT0E7H:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI2BT0E7H"}
{"@t":"2026-01-18T13:02:07.5958934Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:02:07.6670914Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:02:07.6693020Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:02:07.9424832Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T13:02:09.8251242Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:02:09.8290968Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:02:09.8325916Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:02:10.9893768Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:02:10.9943197Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:02:11.0038830Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:02:11.4268729Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T13:02:11.6927726Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T13:02:12.0549201Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3347f0547c755d9104db5b7c265a0f31","@sp":"9724fbd1b06e0cad","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:02:12.0519345Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:02:12.0775354Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"3347f0547c755d9104db5b7c265a0f31","@sp":"9724fbd1b06e0cad","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMI75PDH6E:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"9053a95e-761d-4f05-bf15-ea8c29fed724"}
{"@t":"2026-01-18T13:02:12.2867813Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d4547c2ababd0f4914490259c2508eb0","@sp":"97bad82f6a252c0b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:02:12.2864309Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:14.8702104Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3347f0547c755d9104db5b7c265a0f31","@sp":"9724fbd1b06e0cad","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":2817.8912,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:02:14.8702190Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d4547c2ababd0f4914490259c2508eb0","@sp":"97bad82f6a252c0b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":2583.3916,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:14.9924815Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ac0b033c083cf0a09ae6092096da991d","@sp":"d4b3d0a64c4f0815","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:02:14.9923271Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6H:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6H"}
{"@t":"2026-01-18T13:02:14.9924816Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3347f0547c755d9104db5b7c265a0f31","@sp":"321977acbb1392db","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:02:14.9923271Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6G:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6G"}
{"@t":"2026-01-18T13:02:15.0171447Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3347f0547c755d9104db5b7c265a0f31","@sp":"321977acbb1392db","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":22.4264,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6G:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6G"}
{"@t":"2026-01-18T13:02:15.0150496Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ac0b033c083cf0a09ae6092096da991d","@sp":"d4b3d0a64c4f0815","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":22.4264,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6H:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6H"}
{"@t":"2026-01-18T13:02:15.0779411Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3347f0547c755d9104db5b7c265a0f31","@sp":"dd3c80ff7764a354","Method":"GET","Path":"/hubs/orders","Query":"?id=QVQrtkxx4l3vclCMeb6tww","Time":"2026-01-18T13:02:15.0778293Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6I:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6I"}
{"@t":"2026-01-18T13:02:15.0779414Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3858882cf7cdff036af1b900ca6e3b07","@sp":"f0a095f4a6307501","Method":"GET","Path":"/hubs/orders","Query":"?id=WKqwAtYHFD8NcZQzOW33Fw","Time":"2026-01-18T13:02:15.0778728Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6J:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6J"}
{"@t":"2026-01-18T13:02:15.1901486Z","@mt":"Client connected: {ConnectionId}","@tr":"3858882cf7cdff036af1b900ca6e3b07","@sp":"f0a095f4a6307501","ConnectionId":"GoO3D1rnPR16f_HxmeEfbg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"GoO3D1rnPR16f_HxmeEfbg","RequestId":"0HNIMI75PDH6J:00000001","RequestPath":"/hubs/orders","CorrelationId":"3b570d1d-b07c-44f1-84c3-3795644e2d74"}
{"@t":"2026-01-18T13:02:15.1901448Z","@mt":"Client connected: {ConnectionId}","@tr":"3347f0547c755d9104db5b7c265a0f31","@sp":"dd3c80ff7764a354","ConnectionId":"y_vEZa1fMjLHldVcTlU2Iw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"y_vEZa1fMjLHldVcTlU2Iw","RequestId":"0HNIMI75PDH6I:00000001","RequestPath":"/hubs/orders","CorrelationId":"be744587-ecea-4904-a70b-19c17f835743"}
{"@t":"2026-01-18T13:02:15.2570160Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"y_vEZa1fMjLHldVcTlU2Iw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"y_vEZa1fMjLHldVcTlU2Iw","RequestId":"0HNIMI75PDH6I:00000001","RequestPath":"/hubs/orders","CorrelationId":"be744587-ecea-4904-a70b-19c17f835743"}
{"@t":"2026-01-18T13:02:15.2571260Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"GoO3D1rnPR16f_HxmeEfbg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"GoO3D1rnPR16f_HxmeEfbg","RequestId":"0HNIMI75PDH6J:00000001","RequestPath":"/hubs/orders","CorrelationId":"3b570d1d-b07c-44f1-84c3-3795644e2d74"}
{"@t":"2026-01-18T13:02:15.2966004Z","@mt":"Client disconnected: {ConnectionId}","@tr":"3347f0547c755d9104db5b7c265a0f31","@sp":"dd3c80ff7764a354","ConnectionId":"y_vEZa1fMjLHldVcTlU2Iw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"y_vEZa1fMjLHldVcTlU2Iw","RequestId":"0HNIMI75PDH6I:00000001","RequestPath":"/hubs/orders","CorrelationId":"be744587-ecea-4904-a70b-19c17f835743"}
{"@t":"2026-01-18T13:02:15.3286418Z","@mt":"Client disconnected: {ConnectionId}","@tr":"3858882cf7cdff036af1b900ca6e3b07","@sp":"f0a095f4a6307501","ConnectionId":"GoO3D1rnPR16f_HxmeEfbg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"GoO3D1rnPR16f_HxmeEfbg","RequestId":"0HNIMI75PDH6J:00000001","RequestPath":"/hubs/orders","CorrelationId":"3b570d1d-b07c-44f1-84c3-3795644e2d74"}
{"@t":"2026-01-18T13:02:15.3615973Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3347f0547c755d9104db5b7c265a0f31","@sp":"dd3c80ff7764a354","Method":"GET","Path":"/hubs/orders","Query":"?id=QVQrtkxx4l3vclCMeb6tww","StatusCode":101,"Duration":283.6834,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6I:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6I"}
{"@t":"2026-01-18T13:02:15.3615986Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3858882cf7cdff036af1b900ca6e3b07","@sp":"f0a095f4a6307501","Method":"GET","Path":"/hubs/orders","Query":"?id=WKqwAtYHFD8NcZQzOW33Fw","StatusCode":101,"Duration":283.6395,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6J:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6J"}
{"@t":"2026-01-18T13:02:15.5214865Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ccb9e04c760cc3b6b0f36f4ae004c125","@sp":"1c14d3a1b4e993ab","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:02:15.5213673Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:15.8949520Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ccb9e04c760cc3b6b0f36f4ae004c125","@sp":"1c14d3a1b4e993ab","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":373.5053,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:15.9098323Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a4f62473290f59c98d4da554c9646493","@sp":"e261052b4b8ac6b9","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:02:15.9097307Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6K:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6K"}
{"@t":"2026-01-18T13:02:15.9157110Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a4f62473290f59c98d4da554c9646493","@sp":"e261052b4b8ac6b9","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":5.7551,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6K:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6K"}
{"@t":"2026-01-18T13:02:15.9241078Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"351722e0baba0c26a6d53eeb5d78917b","@sp":"bea5adca9a941ff6","Method":"GET","Path":"/hubs/orders","Query":"?id=fI7z2Urgsv4J-xyHBfP2ug","Time":"2026-01-18T13:02:15.9239632Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6L:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6L"}
{"@t":"2026-01-18T13:02:15.9365698Z","@mt":"Client connected: {ConnectionId}","@tr":"351722e0baba0c26a6d53eeb5d78917b","@sp":"bea5adca9a941ff6","ConnectionId":"er-L5rY_fc-Jr2wET202og","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"er-L5rY_fc-Jr2wET202og","RequestId":"0HNIMI75PDH6L:00000001","RequestPath":"/hubs/orders","CorrelationId":"c25003e8-d4c0-4382-a9b9-ef211f30c63d"}
{"@t":"2026-01-18T13:02:15.9422839Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"er-L5rY_fc-Jr2wET202og","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"er-L5rY_fc-Jr2wET202og","RequestId":"0HNIMI75PDH6L:00000001","RequestPath":"/hubs/orders","CorrelationId":"c25003e8-d4c0-4382-a9b9-ef211f30c63d"}
{"@t":"2026-01-18T13:02:18.9943660Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b4f0a6e3d607412c90d08efcd55c19c9","@sp":"37f4225dac184a9a","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-18T13:02:18.9939430Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:19.0906482Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"b4f0a6e3d607412c90d08efcd55c19c9","@sp":"37f4225dac184a9a","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"d8d76c4f-c78d-4b46-b407-bfd8f274e696","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"fe7e82e0-b73b-4361-b07c-8a119c8d01a8"}
{"@t":"2026-01-18T13:02:19.2334976Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b4f0a6e3d607412c90d08efcd55c19c9","@sp":"37f4225dac184a9a","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":239.4593,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:22.5364034Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e7bbbc68dbc4ab93b516b663ed545de1","@sp":"0a0b36836f1bf7f7","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:02:22.5362906Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:23.1098508Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"e7bbbc68dbc4ab93b516b663ed545de1","@sp":"0a0b36836f1bf7f7","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"71e0ef99-0bb1-4af3-8af0-9f6feb4ade28"}
{"@t":"2026-01-18T13:02:23.1287639Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"e7bbbc68dbc4ab93b516b663ed545de1","@sp":"0a0b36836f1bf7f7","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"71e0ef99-0bb1-4af3-8af0-9f6feb4ade28"}
{"@t":"2026-01-18T13:02:23.1643675Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"e7bbbc68dbc4ab93b516b663ed545de1","@sp":"0a0b36836f1bf7f7","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"71e0ef99-0bb1-4af3-8af0-9f6feb4ade28"}
{"@t":"2026-01-18T13:02:23.1831281Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"e7bbbc68dbc4ab93b516b663ed545de1","@sp":"0a0b36836f1bf7f7","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"71e0ef99-0bb1-4af3-8af0-9f6feb4ade28"}
{"@t":"2026-01-18T13:02:23.1998688Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"e7bbbc68dbc4ab93b516b663ed545de1","@sp":"0a0b36836f1bf7f7","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":663.4612,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:24.5122253Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"84d9d083fff6b2db108cf4cb8f725718","@sp":"814f7192acb7b1b2","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:02:24.5121059Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:24.5897823Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"84d9d083fff6b2db108cf4cb8f725718","@sp":"814f7192acb7b1b2","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"01c6264f-0abd-4089-9a22-44658934503c"}
{"@t":"2026-01-18T13:02:24.8243389Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"84d9d083fff6b2db108cf4cb8f725718","@sp":"814f7192acb7b1b2","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"01c6264f-0abd-4089-9a22-44658934503c"}
{"@t":"2026-01-18T13:02:25.0116633Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"84d9d083fff6b2db108cf4cb8f725718","@sp":"814f7192acb7b1b2","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"01c6264f-0abd-4089-9a22-44658934503c"}
{"@t":"2026-01-18T13:02:25.0572518Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"84d9d083fff6b2db108cf4cb8f725718","@sp":"814f7192acb7b1b2","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"01c6264f-0abd-4089-9a22-44658934503c"}
{"@t":"2026-01-18T13:02:25.1042245Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"84d9d083fff6b2db108cf4cb8f725718","@sp":"814f7192acb7b1b2","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":591.9705,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:25.2838138Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4c3b8740ac5d4cafcf81801e139babd8","@sp":"5595cdeef83d2ede","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:02:25.2836726Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:25.4721734Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d5ababd4df82e1a4772be95c8945a0e6","@sp":"bcad23ac754e6479","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:02:25.4719111Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:02:25.6079048Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"4c3b8740ac5d4cafcf81801e139babd8","@sp":"5595cdeef83d2ede","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"ec0e0020-5429-496c-bb8f-6138e735e669"}
{"@t":"2026-01-18T13:02:25.6258365Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"d5ababd4df82e1a4772be95c8945a0e6","@sp":"bcad23ac754e6479","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"203d99e7-3248-47d6-8a90-95cd3aade12c"}
{"@t":"2026-01-18T13:02:25.6974322Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"62996fcd31b4406556601c16fbf572c0","@sp":"76f76d7044d36124","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:02:25.6973160Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:02:26.1900082Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"4c3b8740ac5d4cafcf81801e139babd8","@sp":"5595cdeef83d2ede","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"ec0e0020-5429-496c-bb8f-6138e735e669"}
{"@t":"2026-01-18T13:02:26.2954250Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"d5ababd4df82e1a4772be95c8945a0e6","@sp":"bcad23ac754e6479","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"203d99e7-3248-47d6-8a90-95cd3aade12c"}
{"@t":"2026-01-18T13:02:26.3469794Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"62996fcd31b4406556601c16fbf572c0","@sp":"76f76d7044d36124","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6M:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M","CorrelationId":"0495e6a3-3c4c-4788-a82d-0250b0b0f22c"}
{"@t":"2026-01-18T13:02:26.4044001Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"4c3b8740ac5d4cafcf81801e139babd8","@sp":"5595cdeef83d2ede","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"ec0e0020-5429-496c-bb8f-6138e735e669"}
{"@t":"2026-01-18T13:02:26.5693294Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"d5ababd4df82e1a4772be95c8945a0e6","@sp":"bcad23ac754e6479","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"203d99e7-3248-47d6-8a90-95cd3aade12c"}
{"@t":"2026-01-18T13:02:26.5901493Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"62996fcd31b4406556601c16fbf572c0","@sp":"76f76d7044d36124","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6M:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M","CorrelationId":"0495e6a3-3c4c-4788-a82d-0250b0b0f22c"}
{"@t":"2026-01-18T13:02:26.6241058Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"4c3b8740ac5d4cafcf81801e139babd8","@sp":"5595cdeef83d2ede","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6F:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F","CorrelationId":"ec0e0020-5429-496c-bb8f-6138e735e669"}
{"@t":"2026-01-18T13:02:26.6513593Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"d5ababd4df82e1a4772be95c8945a0e6","@sp":"bcad23ac754e6479","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"203d99e7-3248-47d6-8a90-95cd3aade12c"}
{"@t":"2026-01-18T13:02:26.6891616Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"62996fcd31b4406556601c16fbf572c0","@sp":"76f76d7044d36124","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6M:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M","CorrelationId":"0495e6a3-3c4c-4788-a82d-0250b0b0f22c"}
{"@t":"2026-01-18T13:02:26.6980803Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"4c3b8740ac5d4cafcf81801e139babd8","@sp":"5595cdeef83d2ede","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":1414.2134,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6F:00000006","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6F"}
{"@t":"2026-01-18T13:02:26.7237131Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"d5ababd4df82e1a4772be95c8945a0e6","@sp":"bcad23ac754e6479","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":1251.678,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:02:26.7684047Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"62996fcd31b4406556601c16fbf572c0","@sp":"76f76d7044d36124","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6M:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M","CorrelationId":"0495e6a3-3c4c-4788-a82d-0250b0b0f22c"}
{"@t":"2026-01-18T13:02:26.8666619Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"62996fcd31b4406556601c16fbf572c0","@sp":"76f76d7044d36124","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":1169.0858,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:01.2775153Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bf9b67c6095590ca766736850d27daf0","@sp":"50ffdf7fec5fc354","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:01.2772860Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:01.3644290Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bf9b67c6095590ca766736850d27daf0","@sp":"50ffdf7fec5fc354","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":87.0445,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:01.3948628Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bf9b67c6095590ca766736850d27daf0","@sp":"48baf593d6dcf33c","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:03:01.3947206Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6N:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6N"}
{"@t":"2026-01-18T13:03:01.4150043Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bf9b67c6095590ca766736850d27daf0","@sp":"48baf593d6dcf33c","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":20.1681,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6N:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6N"}
{"@t":"2026-01-18T13:03:01.4856154Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bf9b67c6095590ca766736850d27daf0","@sp":"5483867d3dce97b3","Method":"GET","Path":"/hubs/orders","Query":"?id=nBlzbLkgYZfFi9GR-yErVA","Time":"2026-01-18T13:03:01.4855029Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6O:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6O"}
{"@t":"2026-01-18T13:03:01.5078982Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d546e48251e5930f5974e9fff07f14b3","@sp":"b4ac2f229df9e9f9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:01.5076136Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:01.5399871Z","@mt":"Client connected: {ConnectionId}","@tr":"bf9b67c6095590ca766736850d27daf0","@sp":"5483867d3dce97b3","ConnectionId":"chl1ZFbMZMdecYohfQw27A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"chl1ZFbMZMdecYohfQw27A","RequestId":"0HNIMI75PDH6O:00000001","RequestPath":"/hubs/orders","CorrelationId":"aba2c5b0-681c-4f8e-99fe-785770964a9c"}
{"@t":"2026-01-18T13:03:01.5469806Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"chl1ZFbMZMdecYohfQw27A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"chl1ZFbMZMdecYohfQw27A","RequestId":"0HNIMI75PDH6O:00000001","RequestPath":"/hubs/orders","CorrelationId":"aba2c5b0-681c-4f8e-99fe-785770964a9c"}
{"@t":"2026-01-18T13:03:01.5627403Z","@mt":"Client disconnected: {ConnectionId}","@tr":"bf9b67c6095590ca766736850d27daf0","@sp":"5483867d3dce97b3","ConnectionId":"chl1ZFbMZMdecYohfQw27A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"chl1ZFbMZMdecYohfQw27A","RequestId":"0HNIMI75PDH6O:00000001","RequestPath":"/hubs/orders","CorrelationId":"aba2c5b0-681c-4f8e-99fe-785770964a9c"}
{"@t":"2026-01-18T13:03:01.5693422Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d546e48251e5930f5974e9fff07f14b3","@sp":"b4ac2f229df9e9f9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":61.5954,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:01.5781109Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bf9b67c6095590ca766736850d27daf0","@sp":"5483867d3dce97b3","Method":"GET","Path":"/hubs/orders","Query":"?id=nBlzbLkgYZfFi9GR-yErVA","StatusCode":101,"Duration":92.4259,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6O:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6O"}
{"@t":"2026-01-18T13:03:01.6096845Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d546e48251e5930f5974e9fff07f14b3","@sp":"dd83bcd5b3c226bd","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:03:01.6095643Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6P:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6P"}
{"@t":"2026-01-18T13:03:01.6215113Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d546e48251e5930f5974e9fff07f14b3","@sp":"dd83bcd5b3c226bd","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":11.8272,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6P:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6P"}
{"@t":"2026-01-18T13:03:01.6292567Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d546e48251e5930f5974e9fff07f14b3","@sp":"3c73e25a9dc14214","Method":"GET","Path":"/hubs/orders","Query":"?id=7Ny3NPe7awoeeU0FDWeeVw","Time":"2026-01-18T13:03:01.6289722Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6Q:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6Q"}
{"@t":"2026-01-18T13:03:01.6446687Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"82c3f7647e5d39f6d7bbd2128366103d","@sp":"74813ae79e41fff0","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:01.6444729Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:01.6503190Z","@mt":"Client connected: {ConnectionId}","@tr":"d546e48251e5930f5974e9fff07f14b3","@sp":"3c73e25a9dc14214","ConnectionId":"gSotefTdxk9SkXklyiaXYQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"gSotefTdxk9SkXklyiaXYQ","RequestId":"0HNIMI75PDH6Q:00000001","RequestPath":"/hubs/orders","CorrelationId":"ee2f16f9-c796-4300-a34f-232ea2a0c43c"}
{"@t":"2026-01-18T13:03:01.6697718Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"gSotefTdxk9SkXklyiaXYQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"gSotefTdxk9SkXklyiaXYQ","RequestId":"0HNIMI75PDH6Q:00000001","RequestPath":"/hubs/orders","CorrelationId":"ee2f16f9-c796-4300-a34f-232ea2a0c43c"}
{"@t":"2026-01-18T13:03:01.6969513Z","@mt":"Client disconnected: {ConnectionId}","@tr":"d546e48251e5930f5974e9fff07f14b3","@sp":"3c73e25a9dc14214","ConnectionId":"gSotefTdxk9SkXklyiaXYQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"gSotefTdxk9SkXklyiaXYQ","RequestId":"0HNIMI75PDH6Q:00000001","RequestPath":"/hubs/orders","CorrelationId":"ee2f16f9-c796-4300-a34f-232ea2a0c43c"}
{"@t":"2026-01-18T13:03:01.7109542Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"82c3f7647e5d39f6d7bbd2128366103d","@sp":"74813ae79e41fff0","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":66.2954,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:01.8513455Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2dae0e19ea5781d767233622ec6bfb2b","@sp":"221ee87ed0725a34","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:01.8512158Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:01.9576168Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d546e48251e5930f5974e9fff07f14b3","@sp":"3c73e25a9dc14214","Method":"GET","Path":"/hubs/orders","Query":"?id=7Ny3NPe7awoeeU0FDWeeVw","StatusCode":101,"Duration":328.2892,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6Q:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6Q"}
{"@t":"2026-01-18T13:03:02.1622448Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"82c3f7647e5d39f6d7bbd2128366103d","@sp":"877f26b6447b60c4","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:03:02.1621157Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6R:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6R"}
{"@t":"2026-01-18T13:03:02.1867064Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"82c3f7647e5d39f6d7bbd2128366103d","@sp":"877f26b6447b60c4","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":24.4704,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6R:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6R"}
{"@t":"2026-01-18T13:03:02.1944711Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"82c3f7647e5d39f6d7bbd2128366103d","@sp":"a7d3139e34695bb1","Method":"GET","Path":"/hubs/orders","Query":"?id=_TGqZa7aBX_qIONo7Rrnkw","Time":"2026-01-18T13:03:02.1943807Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6S:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6S"}
{"@t":"2026-01-18T13:03:02.2123857Z","@mt":"Client connected: {ConnectionId}","@tr":"82c3f7647e5d39f6d7bbd2128366103d","@sp":"a7d3139e34695bb1","ConnectionId":"0yXn5EzN-Is0b3Ri5TxN5A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"0yXn5EzN-Is0b3Ri5TxN5A","RequestId":"0HNIMI75PDH6S:00000001","RequestPath":"/hubs/orders","CorrelationId":"c1035415-a253-436d-8009-78e23979d69c"}
{"@t":"2026-01-18T13:03:02.2172400Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"0yXn5EzN-Is0b3Ri5TxN5A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"0yXn5EzN-Is0b3Ri5TxN5A","RequestId":"0HNIMI75PDH6S:00000001","RequestPath":"/hubs/orders","CorrelationId":"c1035415-a253-436d-8009-78e23979d69c"}
{"@t":"2026-01-18T13:03:02.2333035Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2dae0e19ea5781d767233622ec6bfb2b","@sp":"221ee87ed0725a34","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":381.8338,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:02.2431980Z","@mt":"Client disconnected: {ConnectionId}","@tr":"82c3f7647e5d39f6d7bbd2128366103d","@sp":"a7d3139e34695bb1","ConnectionId":"0yXn5EzN-Is0b3Ri5TxN5A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"0yXn5EzN-Is0b3Ri5TxN5A","RequestId":"0HNIMI75PDH6S:00000001","RequestPath":"/hubs/orders","CorrelationId":"c1035415-a253-436d-8009-78e23979d69c"}
{"@t":"2026-01-18T13:03:02.2531930Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"82c3f7647e5d39f6d7bbd2128366103d","@sp":"a7d3139e34695bb1","Method":"GET","Path":"/hubs/orders","Query":"?id=_TGqZa7aBX_qIONo7Rrnkw","StatusCode":101,"Duration":58.6609,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6S:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6S"}
{"@t":"2026-01-18T13:03:02.2608001Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2dae0e19ea5781d767233622ec6bfb2b","@sp":"1f4bfe0e67628c8a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:03:02.2605556Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6T:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6T"}
{"@t":"2026-01-18T13:03:02.2753030Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2dae0e19ea5781d767233622ec6bfb2b","@sp":"1f4bfe0e67628c8a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":14.4685,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6T:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6T"}
{"@t":"2026-01-18T13:03:02.2864429Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2dae0e19ea5781d767233622ec6bfb2b","@sp":"745e2bb33d8a6efb","Method":"GET","Path":"/hubs/orders","Query":"?id=oVus_GHwuuZ-4bI1QH_ugw","Time":"2026-01-18T13:03:02.2863322Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6U:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6U"}
{"@t":"2026-01-18T13:03:02.3012514Z","@mt":"Client connected: {ConnectionId}","@tr":"2dae0e19ea5781d767233622ec6bfb2b","@sp":"745e2bb33d8a6efb","ConnectionId":"Cj0fWgpRXAEeePtzBa8nNQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Cj0fWgpRXAEeePtzBa8nNQ","RequestId":"0HNIMI75PDH6U:00000001","RequestPath":"/hubs/orders","CorrelationId":"651a538a-c921-4929-a483-8b94f760e96b"}
{"@t":"2026-01-18T13:03:02.3235830Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"Cj0fWgpRXAEeePtzBa8nNQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Cj0fWgpRXAEeePtzBa8nNQ","RequestId":"0HNIMI75PDH6U:00000001","RequestPath":"/hubs/orders","CorrelationId":"651a538a-c921-4929-a483-8b94f760e96b"}
{"@t":"2026-01-18T13:03:02.3431408Z","@mt":"Client disconnected: {ConnectionId}","@tr":"2dae0e19ea5781d767233622ec6bfb2b","@sp":"745e2bb33d8a6efb","ConnectionId":"Cj0fWgpRXAEeePtzBa8nNQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Cj0fWgpRXAEeePtzBa8nNQ","RequestId":"0HNIMI75PDH6U:00000001","RequestPath":"/hubs/orders","CorrelationId":"651a538a-c921-4929-a483-8b94f760e96b"}
{"@t":"2026-01-18T13:03:02.3984120Z","@mt":"Client disconnected: {ConnectionId}","@tr":"351722e0baba0c26a6d53eeb5d78917b","@sp":"bea5adca9a941ff6","ConnectionId":"er-L5rY_fc-Jr2wET202og","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"er-L5rY_fc-Jr2wET202og","RequestId":"0HNIMI75PDH6L:00000001","RequestPath":"/hubs/orders","CorrelationId":"c25003e8-d4c0-4382-a9b9-ef211f30c63d"}
{"@t":"2026-01-18T13:03:03.0303656Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2dae0e19ea5781d767233622ec6bfb2b","@sp":"745e2bb33d8a6efb","Method":"GET","Path":"/hubs/orders","Query":"?id=oVus_GHwuuZ-4bI1QH_ugw","StatusCode":101,"Duration":743.6404,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6U:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6U"}
{"@t":"2026-01-18T13:03:03.0365354Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"351722e0baba0c26a6d53eeb5d78917b","@sp":"bea5adca9a941ff6","Method":"GET","Path":"/hubs/orders","Query":"?id=fI7z2Urgsv4J-xyHBfP2ug","StatusCode":101,"Duration":47112.4684,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6L:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH6L"}
{"@t":"2026-01-18T13:03:03.3725727Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2d5e0d139aa899653ca40e72e759f12e","@sp":"78bc41c0659a22a5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:03.3724675Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:04.5195138Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2d5e0d139aa899653ca40e72e759f12e","@sp":"78bc41c0659a22a5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":1146.9851,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:04.5332576Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fffc75d9d0b9344c220a03c979d72e2b","@sp":"bc4d352a56326e4d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:03:04.5331691Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6V:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6V"}
{"@t":"2026-01-18T13:03:04.5403422Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fffc75d9d0b9344c220a03c979d72e2b","@sp":"bc4d352a56326e4d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":7.1003,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6V:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH6V"}
{"@t":"2026-01-18T13:03:04.5460414Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"16967e965231acd0cc60fb2929585cdb","@sp":"82fa2705598108a9","Method":"GET","Path":"/hubs/orders","Query":"?id=8e8L0t4N5p_aMQe1nKBIXQ","Time":"2026-01-18T13:03:04.5458794Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH70:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH70"}
{"@t":"2026-01-18T13:03:04.5652466Z","@mt":"Client connected: {ConnectionId}","@tr":"16967e965231acd0cc60fb2929585cdb","@sp":"82fa2705598108a9","ConnectionId":"Wqr8e4LFb2HsJNPCzIKg5Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Wqr8e4LFb2HsJNPCzIKg5Q","RequestId":"0HNIMI75PDH70:00000001","RequestPath":"/hubs/orders","CorrelationId":"13490ef4-a614-4a51-a6b5-6a2f5d2af249"}
{"@t":"2026-01-18T13:03:04.5680966Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"Wqr8e4LFb2HsJNPCzIKg5Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Wqr8e4LFb2HsJNPCzIKg5Q","RequestId":"0HNIMI75PDH70:00000001","RequestPath":"/hubs/orders","CorrelationId":"13490ef4-a614-4a51-a6b5-6a2f5d2af249"}
{"@t":"2026-01-18T13:03:08.3745322Z","@mt":"Client disconnected: {ConnectionId}","@tr":"16967e965231acd0cc60fb2929585cdb","@sp":"82fa2705598108a9","ConnectionId":"Wqr8e4LFb2HsJNPCzIKg5Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Wqr8e4LFb2HsJNPCzIKg5Q","RequestId":"0HNIMI75PDH70:00000001","RequestPath":"/hubs/orders","CorrelationId":"13490ef4-a614-4a51-a6b5-6a2f5d2af249"}
{"@t":"2026-01-18T13:03:08.3766474Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"16967e965231acd0cc60fb2929585cdb","@sp":"82fa2705598108a9","Method":"GET","Path":"/hubs/orders","Query":"?id=8e8L0t4N5p_aMQe1nKBIXQ","StatusCode":101,"Duration":3830.6359,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH70:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH70"}
{"@t":"2026-01-18T13:03:12.4705971Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b37969a69c18bcf1b1a10525fecf5a22","@sp":"b08a75fd8c2af429","Method":"POST","Path":"/api/auth/login","Query":"","Time":"2026-01-18T13:03:12.4703911Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:13.4408415Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b37969a69c18bcf1b1a10525fecf5a22","@sp":"b08a75fd8c2af429","Method":"POST","Path":"/api/auth/login","Query":"","StatusCode":200,"Duration":970.3939,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000005","RequestPath":"/api/auth/login","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:13.5047908Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e0b5708a8e65f6bcae16544f135b942c","@sp":"220fc9b3ad6a8aa3","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:13.5044734Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:13.5511823Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e0b5708a8e65f6bcae16544f135b942c","@sp":"220fc9b3ad6a8aa3","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":46.6522,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:13.9885807Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e2ab27cfcb33a481d2982c7644c9c9ea","@sp":"8e0bb7e34d4d3869","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:13.9885002Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:14.0305422Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e2ab27cfcb33a481d2982c7644c9c9ea","@sp":"8e0bb7e34d4d3869","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":41.9721,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:16.4472281Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4fbb95700596d05c7c50179666e06e82","@sp":"006b51ecb06e08fa","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:16.4470973Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:16.4759285Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4fbb95700596d05c7c50179666e06e82","@sp":"006b51ecb06e08fa","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":28.7352,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:16.5255207Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4fbb95700596d05c7c50179666e06e82","@sp":"91ad3913129f4ed6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:03:16.5253967Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH71:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH71"}
{"@t":"2026-01-18T13:03:16.5368274Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4fbb95700596d05c7c50179666e06e82","@sp":"91ad3913129f4ed6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":11.3572,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH71:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH71"}
{"@t":"2026-01-18T13:03:16.5466135Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4fbb95700596d05c7c50179666e06e82","@sp":"aae63154278b95f7","Method":"GET","Path":"/hubs/orders","Query":"?id=wzcWbiBTPc303ziGkDo-SA","Time":"2026-01-18T13:03:16.5465039Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH72:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH72"}
{"@t":"2026-01-18T13:03:16.5620605Z","@mt":"Client connected: {ConnectionId}","@tr":"4fbb95700596d05c7c50179666e06e82","@sp":"aae63154278b95f7","ConnectionId":"RhDZrA8J1soWO4GoDtbYSA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"RhDZrA8J1soWO4GoDtbYSA","RequestId":"0HNIMI75PDH72:00000001","RequestPath":"/hubs/orders","CorrelationId":"46e4d838-d001-4414-ae1b-1131406973d8"}
{"@t":"2026-01-18T13:03:16.5682759Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"RhDZrA8J1soWO4GoDtbYSA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"RhDZrA8J1soWO4GoDtbYSA","RequestId":"0HNIMI75PDH72:00000001","RequestPath":"/hubs/orders","CorrelationId":"46e4d838-d001-4414-ae1b-1131406973d8"}
{"@t":"2026-01-18T13:03:16.5868116Z","@mt":"Client disconnected: {ConnectionId}","@tr":"4fbb95700596d05c7c50179666e06e82","@sp":"aae63154278b95f7","ConnectionId":"RhDZrA8J1soWO4GoDtbYSA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"RhDZrA8J1soWO4GoDtbYSA","RequestId":"0HNIMI75PDH72:00000001","RequestPath":"/hubs/orders","CorrelationId":"46e4d838-d001-4414-ae1b-1131406973d8"}
{"@t":"2026-01-18T13:03:16.5980218Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4fbb95700596d05c7c50179666e06e82","@sp":"aae63154278b95f7","Method":"GET","Path":"/hubs/orders","Query":"?id=wzcWbiBTPc303ziGkDo-SA","StatusCode":101,"Duration":51.4144,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH72:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH72"}
{"@t":"2026-01-18T13:03:16.6602608Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"48ed0b794b79ee1b94b88c085ccadb99","@sp":"ea5b834dd11377e8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:16.6601690Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:16.7038314Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"48ed0b794b79ee1b94b88c085ccadb99","@sp":"ea5b834dd11377e8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":43.5275,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:16.8500837Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"25dd91c059fb98edb3a4ab9fbfe8d79d","@sp":"a0117a884bc52bd6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:03:16.8499576Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH73:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH73"}
{"@t":"2026-01-18T13:03:16.8679558Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"25dd91c059fb98edb3a4ab9fbfe8d79d","@sp":"a0117a884bc52bd6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":17.8527,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH73:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMI75PDH73"}
{"@t":"2026-01-18T13:03:16.9175004Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"27c1aba552128361976db3383dc7ac59","@sp":"c58b83a8af33d463","Method":"GET","Path":"/hubs/orders","Query":"?id=IXnuKQYn58obCOw5UU60TQ","Time":"2026-01-18T13:03:16.9173068Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH74:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH74"}
{"@t":"2026-01-18T13:03:17.0059895Z","@mt":"Client connected: {ConnectionId}","@tr":"27c1aba552128361976db3383dc7ac59","@sp":"c58b83a8af33d463","ConnectionId":"WzaGBktMERXPNVBmZQGPnA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"WzaGBktMERXPNVBmZQGPnA","RequestId":"0HNIMI75PDH74:00000001","RequestPath":"/hubs/orders","CorrelationId":"2de0ea9b-330e-47a6-813c-a0beb7bf909f"}
{"@t":"2026-01-18T13:03:17.0115840Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"WzaGBktMERXPNVBmZQGPnA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"WzaGBktMERXPNVBmZQGPnA","RequestId":"0HNIMI75PDH74:00000001","RequestPath":"/hubs/orders","CorrelationId":"2de0ea9b-330e-47a6-813c-a0beb7bf909f"}
{"@t":"2026-01-18T13:03:18.9916918Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a51e50d430fc6a49531be38e27a042ac","@sp":"200ef3d8d21e5ed2","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-18T13:03:18.9916206Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000A","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:19.0319305Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a51e50d430fc6a49531be38e27a042ac","@sp":"200ef3d8d21e5ed2","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":40.2335,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000A","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:26.3039262Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"acd506c0deefda0da9c96202be6c3a82","@sp":"4168db271b3f9bee","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-18T13:03:26.3037492Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000B","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:26.3178995Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"acd506c0deefda0da9c96202be6c3a82","@sp":"4168db271b3f9bee","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":14.0293,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000B","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:28.4353966Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b7a484eb7dbb7045574c8708263600bd","@sp":"56028b28c1f0d4fc","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:28.4352848Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000C","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:28.6094583Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"b7a484eb7dbb7045574c8708263600bd","@sp":"56028b28c1f0d4fc","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:0000000C","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"8fcd2a00-5b63-40dc-a094-5c28321fd8b6"}
{"@t":"2026-01-18T13:03:28.7478960Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"b7a484eb7dbb7045574c8708263600bd","@sp":"56028b28c1f0d4fc","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:0000000C","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"8fcd2a00-5b63-40dc-a094-5c28321fd8b6"}
{"@t":"2026-01-18T13:03:28.8718148Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"b7a484eb7dbb7045574c8708263600bd","@sp":"56028b28c1f0d4fc","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:0000000C","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"8fcd2a00-5b63-40dc-a094-5c28321fd8b6"}
{"@t":"2026-01-18T13:03:28.9356097Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"b7a484eb7dbb7045574c8708263600bd","@sp":"56028b28c1f0d4fc","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:0000000C","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"8fcd2a00-5b63-40dc-a094-5c28321fd8b6"}
{"@t":"2026-01-18T13:03:29.1855391Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"b7a484eb7dbb7045574c8708263600bd","@sp":"56028b28c1f0d4fc","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":750.1165,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000C","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:30.1456185Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9fd760b6ddcabef8426397ffd73fa69a","@sp":"beac910f201c33f9","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:30.1455378Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000D","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:30.3338540Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"9fd760b6ddcabef8426397ffd73fa69a","@sp":"beac910f201c33f9","OrderId":8,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:0000000D","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"df95afdd-edd8-434b-b014-b1ab68b1ff76"}
{"@t":"2026-01-18T13:03:30.3647985Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9a74dbc823059218ff13f69414d3cccd","@sp":"b6d892644e3da396","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:30.3647228Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:30.3807961Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"9fd760b6ddcabef8426397ffd73fa69a","@sp":"beac910f201c33f9","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-9117DD","Status":"Cancelled","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:0000000D","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"df95afdd-edd8-434b-b014-b1ab68b1ff76"}
{"@t":"2026-01-18T13:03:30.3877624Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9a74dbc823059218ff13f69414d3cccd","@sp":"b6d892644e3da396","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":22.9445,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:30.4929865Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9fd760b6ddcabef8426397ffd73fa69a","@sp":"beac910f201c33f9","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":347.3944,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000D","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:32.0366575Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8fc23aab83c9ae50de8c6483dc3af676","@sp":"3200047bbb8d02b1","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:32.0365512Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:32.0695877Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"8fc23aab83c9ae50de8c6483dc3af676","@sp":"3200047bbb8d02b1","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:0000000E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ea464aed-d385-4508-8105-965c51047b01"}
{"@t":"2026-01-18T13:03:32.1374700Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"8fc23aab83c9ae50de8c6483dc3af676","@sp":"3200047bbb8d02b1","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:0000000E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ea464aed-d385-4508-8105-965c51047b01"}
{"@t":"2026-01-18T13:03:32.2522632Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"8fc23aab83c9ae50de8c6483dc3af676","@sp":"3200047bbb8d02b1","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:0000000E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ea464aed-d385-4508-8105-965c51047b01"}
{"@t":"2026-01-18T13:03:32.3125665Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"8fc23aab83c9ae50de8c6483dc3af676","@sp":"3200047bbb8d02b1","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:0000000E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ea464aed-d385-4508-8105-965c51047b01"}
{"@t":"2026-01-18T13:03:32.3966395Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"8fc23aab83c9ae50de8c6483dc3af676","@sp":"3200047bbb8d02b1","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":359.9478,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000E","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:33.5422267Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a7996f7a3669b455fd1392f5ad490d91","@sp":"578cafebf9178fd9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:33.5421224Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000F","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:33.5988107Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a7996f7a3669b455fd1392f5ad490d91","@sp":"578cafebf9178fd9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":56.3034,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:0000000F","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:34.3360710Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d2f5904e63d9e76720947e9c21e734a7","@sp":"504c5984759a9c3b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:34.3359776Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000010","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:34.3586143Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"d2f5904e63d9e76720947e9c21e734a7","@sp":"504c5984759a9c3b","OrderId":8,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000010","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"3ead5306-843a-46ea-a773-7418845b0328"}
{"@t":"2026-01-18T13:03:34.3678666Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1a698fb75fb4d4375ebd96efe9833faf","@sp":"7167c9f37ae1fc84","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:34.3677479Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:34.3678613Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"d2f5904e63d9e76720947e9c21e734a7","@sp":"504c5984759a9c3b","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-9117DD","Status":"Ready","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000010","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"3ead5306-843a-46ea-a773-7418845b0328"}
{"@t":"2026-01-18T13:03:34.3903229Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1a698fb75fb4d4375ebd96efe9833faf","@sp":"7167c9f37ae1fc84","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":22.4809,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:34.4968540Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d2f5904e63d9e76720947e9c21e734a7","@sp":"504c5984759a9c3b","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":160.5279,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000010","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:37.5273500Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e42d5d4c990b9b057e9406e0f253c6f8","@sp":"66b0b310f0ec0f7e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:37.5269763Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000011","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:37.6478797Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e42d5d4c990b9b057e9406e0f253c6f8","@sp":"66b0b310f0ec0f7e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":120.6916,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000011","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:52.1522318Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"28b16da27657976e583155d6034a8890","@sp":"4c93e716afe83cb1","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:52.1521099Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000012","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:52.2416320Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"28b16da27657976e583155d6034a8890","@sp":"4c93e716afe83cb1","OrderId":8,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000012","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ff7f7bb3-b26a-4894-ae14-e0e5210102f5"}
{"@t":"2026-01-18T13:03:52.2540081Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6a35078f393bce05f241e2d0b474b49f","@sp":"c902e74c48425e53","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:52.2539206Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:52.2551137Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"28b16da27657976e583155d6034a8890","@sp":"4c93e716afe83cb1","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-9117DD","Status":"Preparing","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000012","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ff7f7bb3-b26a-4894-ae14-e0e5210102f5"}
{"@t":"2026-01-18T13:03:52.3018119Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6a35078f393bce05f241e2d0b474b49f","@sp":"c902e74c48425e53","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":47.7738,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:52.4045240Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"28b16da27657976e583155d6034a8890","@sp":"4c93e716afe83cb1","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":252.2516,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000012","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:53.4441619Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cf67cd1e4054bee5c5da88c92c933bbc","@sp":"426bcbda3f8ac6d8","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:53.4440757Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:53.4719934Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"cf67cd1e4054bee5c5da88c92c933bbc","@sp":"426bcbda3f8ac6d8","OrderId":8,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"1d1950c6-56b1-4e1a-ad23-87dbabbf33d5"}
{"@t":"2026-01-18T13:03:53.4850935Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"cf67cd1e4054bee5c5da88c92c933bbc","@sp":"426bcbda3f8ac6d8","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-9117DD","Status":"Ready","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"1d1950c6-56b1-4e1a-ad23-87dbabbf33d5"}
{"@t":"2026-01-18T13:03:53.6054263Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cf67cd1e4054bee5c5da88c92c933bbc","@sp":"426bcbda3f8ac6d8","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":161.2354,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000013","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:55.2597639Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"27a464a78d90b08065b6947230da9c44","@sp":"945a5b6dc1553507","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:55.2596819Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:55.3281973Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"68ebdf043277a86a45ba92499d38c342","@sp":"a9ed9cf5cbafd042","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:55.3281092Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:55.3476641Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"27a464a78d90b08065b6947230da9c44","@sp":"945a5b6dc1553507","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ba020a46-1f80-42d7-b4a8-75304a5574d6"}
{"@t":"2026-01-18T13:03:55.4543976Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"68ebdf043277a86a45ba92499d38c342","@sp":"a9ed9cf5cbafd042","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":126.154,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:55.4945076Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"27a464a78d90b08065b6947230da9c44","@sp":"945a5b6dc1553507","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ba020a46-1f80-42d7-b4a8-75304a5574d6"}
{"@t":"2026-01-18T13:03:55.5016340Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"be530f3596f6b126dec561a881bdd24f","@sp":"7af46eb14b8f1abe","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:55.5015268Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH75:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH75"}
{"@t":"2026-01-18T13:03:55.7837115Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"be530f3596f6b126dec561a881bdd24f","@sp":"7af46eb14b8f1abe","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":282.0747,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH75:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH75"}
{"@t":"2026-01-18T13:03:55.7866235Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"27a464a78d90b08065b6947230da9c44","@sp":"945a5b6dc1553507","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ba020a46-1f80-42d7-b4a8-75304a5574d6"}
{"@t":"2026-01-18T13:03:55.8535828Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"27a464a78d90b08065b6947230da9c44","@sp":"945a5b6dc1553507","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ba020a46-1f80-42d7-b4a8-75304a5574d6"}
{"@t":"2026-01-18T13:03:55.8959137Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"27a464a78d90b08065b6947230da9c44","@sp":"945a5b6dc1553507","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":636.1838,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000014","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:56.6445342Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5d177ba80ea5f23b1a2cd03c61ccd68a","@sp":"36fa6a82499b97c7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:03:56.6444579Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000015","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:56.6900775Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5d177ba80ea5f23b1a2cd03c61ccd68a","@sp":"36fa6a82499b97c7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":45.4979,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000015","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:57.7384963Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7d796c2727e530eb6c13c36f4d95d483","@sp":"256a3a910a028f67","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:57.7384192Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000016","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:57.7919569Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"7d796c2727e530eb6c13c36f4d95d483","@sp":"256a3a910a028f67","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000016","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ba016730-f3b0-4755-8b07-35c2ea3a8110"}
{"@t":"2026-01-18T13:03:57.8440575Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"7d796c2727e530eb6c13c36f4d95d483","@sp":"256a3a910a028f67","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000016","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ba016730-f3b0-4755-8b07-35c2ea3a8110"}
{"@t":"2026-01-18T13:03:57.8941891Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"7d796c2727e530eb6c13c36f4d95d483","@sp":"256a3a910a028f67","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000016","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ba016730-f3b0-4755-8b07-35c2ea3a8110"}
{"@t":"2026-01-18T13:03:57.9464859Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"7d796c2727e530eb6c13c36f4d95d483","@sp":"256a3a910a028f67","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000016","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"ba016730-f3b0-4755-8b07-35c2ea3a8110"}
{"@t":"2026-01-18T13:03:57.9851398Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"7d796c2727e530eb6c13c36f4d95d483","@sp":"256a3a910a028f67","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":246.5964,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000016","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:58.3494985Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ad8016171b9d08cba80ff9796488ddb3","@sp":"031a27540df036e1","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:58.3494244Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000017","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:58.3835672Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"ad8016171b9d08cba80ff9796488ddb3","@sp":"031a27540df036e1","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000017","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"6d5c4d48-d105-4489-9b4c-a7bd56621cfa"}
{"@t":"2026-01-18T13:03:58.4480248Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"ad8016171b9d08cba80ff9796488ddb3","@sp":"031a27540df036e1","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000017","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"6d5c4d48-d105-4489-9b4c-a7bd56621cfa"}
{"@t":"2026-01-18T13:03:58.4993684Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"ad8016171b9d08cba80ff9796488ddb3","@sp":"031a27540df036e1","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000017","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"6d5c4d48-d105-4489-9b4c-a7bd56621cfa"}
{"@t":"2026-01-18T13:03:58.5288732Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3e465f2300299219b5b514adc6e45dcd","@sp":"cff5f6b6fc48531e","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:58.5287723Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH75:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH75"}
{"@t":"2026-01-18T13:03:58.5495608Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"ad8016171b9d08cba80ff9796488ddb3","@sp":"031a27540df036e1","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6E:00000017","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E","CorrelationId":"6d5c4d48-d105-4489-9b4c-a7bd56621cfa"}
{"@t":"2026-01-18T13:03:58.5668069Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"3e465f2300299219b5b514adc6e45dcd","@sp":"cff5f6b6fc48531e","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH75:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH75","CorrelationId":"5a373f58-d0ee-432e-ab6f-c6e19f406f3c"}
{"@t":"2026-01-18T13:03:58.5990337Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"ad8016171b9d08cba80ff9796488ddb3","@sp":"031a27540df036e1","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":249.4437,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6E:00000017","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6E"}
{"@t":"2026-01-18T13:03:58.8438968Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4bdf9126ee0136b3c11c461e23931f84","@sp":"26c372787a2920c9","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:58.8438217Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:58.9893430Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"15ebcd3aa8b5815bc8de85f777f23da4","@sp":"751dbcae0b4b6f3e","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:03:58.9892543Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH76:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH76"}
{"@t":"2026-01-18T13:03:59.0694957Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"3e465f2300299219b5b514adc6e45dcd","@sp":"cff5f6b6fc48531e","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH75:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH75","CorrelationId":"5a373f58-d0ee-432e-ab6f-c6e19f406f3c"}
{"@t":"2026-01-18T13:03:59.1538898Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"4bdf9126ee0136b3c11c461e23931f84","@sp":"26c372787a2920c9","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6M:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M","CorrelationId":"8793984f-10a9-40df-845b-11c4067213f1"}
{"@t":"2026-01-18T13:03:59.1580832Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"15ebcd3aa8b5815bc8de85f777f23da4","@sp":"751dbcae0b4b6f3e","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH76:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH76","CorrelationId":"01c8b377-e386-476e-ab8f-0cf8aa244841"}
{"@t":"2026-01-18T13:03:59.1976561Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"3e465f2300299219b5b514adc6e45dcd","@sp":"cff5f6b6fc48531e","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH75:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH75","CorrelationId":"5a373f58-d0ee-432e-ab6f-c6e19f406f3c"}
{"@t":"2026-01-18T13:03:59.1982279Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:db3de1b0-6c3a-4398-aa41-003f29fec547\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"4bdf9126ee0136b3c11c461e23931f84","@sp":"26c372787a2920c9","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6M:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M","CorrelationId":"8793984f-10a9-40df-845b-11c4067213f1"}
{"@t":"2026-01-18T13:03:59.2333479Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:554af3cb-b667-44ab-8e63-9b25447fba7b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"15ebcd3aa8b5815bc8de85f777f23da4","@sp":"751dbcae0b4b6f3e","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH76:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH76","CorrelationId":"01c8b377-e386-476e-ab8f-0cf8aa244841"}
{"@t":"2026-01-18T13:03:59.2735396Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"3e465f2300299219b5b514adc6e45dcd","@sp":"cff5f6b6fc48531e","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH75:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH75","CorrelationId":"5a373f58-d0ee-432e-ab6f-c6e19f406f3c"}
{"@t":"2026-01-18T13:03:59.3282172Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"4bdf9126ee0136b3c11c461e23931f84","@sp":"26c372787a2920c9","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6M:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M","CorrelationId":"8793984f-10a9-40df-845b-11c4067213f1"}
{"@t":"2026-01-18T13:03:59.3855503Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"15ebcd3aa8b5815bc8de85f777f23da4","@sp":"751dbcae0b4b6f3e","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH76:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH76","CorrelationId":"01c8b377-e386-476e-ab8f-0cf8aa244841"}
{"@t":"2026-01-18T13:03:59.4176225Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"3e465f2300299219b5b514adc6e45dcd","@sp":"cff5f6b6fc48531e","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":888.748,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH75:00000002","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH75"}
{"@t":"2026-01-18T13:03:59.4708997Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"4bdf9126ee0136b3c11c461e23931f84","@sp":"26c372787a2920c9","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH6M:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M","CorrelationId":"8793984f-10a9-40df-845b-11c4067213f1"}
{"@t":"2026-01-18T13:03:59.5089574Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"15ebcd3aa8b5815bc8de85f777f23da4","@sp":"751dbcae0b4b6f3e","OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH76:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH76","CorrelationId":"01c8b377-e386-476e-ab8f-0cf8aa244841"}
{"@t":"2026-01-18T13:03:59.5612234Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"4bdf9126ee0136b3c11c461e23931f84","@sp":"26c372787a2920c9","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":717.3204,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH6M:00000009","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH6M"}
{"@t":"2026-01-18T13:03:59.6312238Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"15ebcd3aa8b5815bc8de85f777f23da4","@sp":"751dbcae0b4b6f3e","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":500,"Duration":641.9045,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH76:00000001","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMI75PDH76"}
{"@t":"2026-01-18T13:05:12.6557926Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"be2a50653e03dd994ac243c578fe433c","@sp":"bee74722408ea207","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","Time":"2026-01-18T13:05:12.6556722Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH77:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI75PDH77"}
{"@t":"2026-01-18T13:05:12.7345276Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"be2a50653e03dd994ac243c578fe433c","@sp":"bee74722408ea207","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH77:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI75PDH77","CorrelationId":"d30df770-8b75-4ac7-9074-43e6d78b6c28"}
{"@t":"2026-01-18T13:05:12.7999622Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 501","@tr":"be2a50653e03dd994ac243c578fe433c","@sp":"bee74722408ea207","OrderId":1,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH77:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI75PDH77","CorrelationId":"d30df770-8b75-4ac7-9074-43e6d78b6c28"}
{"@t":"2026-01-18T13:05:12.8620874Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"be2a50653e03dd994ac243c578fe433c","@sp":"bee74722408ea207","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH77:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI75PDH77","CorrelationId":"d30df770-8b75-4ac7-9074-43e6d78b6c28"}
{"@t":"2026-01-18T13:05:12.9612693Z","@mt":"Error updating order status for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:d8be6f51-46e2-4017-8800-51b76fd8a5cd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 514\r\n   at RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus(Int32 id, UpdateOrderStatusRequest request) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Controllers\\AdminOrdersController.cs:line 69","@tr":"be2a50653e03dd994ac243c578fe433c","@sp":"bee74722408ea207","OrderId":1,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"7adcd665-42db-4556-b579-ee1a40bfa890","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMI75PDH77:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI75PDH77","CorrelationId":"d30df770-8b75-4ac7-9074-43e6d78b6c28"}
{"@t":"2026-01-18T13:05:13.0790689Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Error","@tr":"be2a50653e03dd994ac243c578fe433c","@sp":"bee74722408ea207","Method":"PUT","Path":"/api/admin/orders/1/status","Query":"","StatusCode":500,"Duration":423.2774,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH77:00000001","RequestPath":"/api/admin/orders/1/status","ConnectionId":"0HNIMI75PDH77"}
{"@t":"2026-01-18T13:08:59.2544236Z","@mt":"Client disconnected: {ConnectionId}","@tr":"27c1aba552128361976db3383dc7ac59","@sp":"c58b83a8af33d463","ConnectionId":"WzaGBktMERXPNVBmZQGPnA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"WzaGBktMERXPNVBmZQGPnA","RequestId":"0HNIMI75PDH74:00000001","RequestPath":"/hubs/orders","CorrelationId":"2de0ea9b-330e-47a6-813c-a0beb7bf909f"}
{"@t":"2026-01-18T13:08:59.2602973Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"27c1aba552128361976db3383dc7ac59","@sp":"c58b83a8af33d463","Method":"GET","Path":"/hubs/orders","Query":"?id=IXnuKQYn58obCOw5UU60TQ","StatusCode":101,"Duration":342342.8554,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMI75PDH74:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMI75PDH74"}
{"@t":"2026-01-18T13:09:21.1857589Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:09:21.2391094Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:09:21.2416617Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:09:21.5919853Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T13:09:22.8997878Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:09:22.9036610Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:09:22.9068524Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:09:23.7089872Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:09:23.7125082Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:09:23.7158308Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:09:23.9439268Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T13:09:24.1663078Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T13:09:31.9567669Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d5da4cc73baec2daa491ceee727dfc4e","@sp":"bd9ffa03ee769d2b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:09:31.9501768Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:32.0052344Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"d5da4cc73baec2daa491ceee727dfc4e","@sp":"bd9ffa03ee769d2b","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMIB8R5G7C:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C","CorrelationId":"ae8729ff-6468-4c45-8896-5fa65b4cc070"}
{"@t":"2026-01-18T13:09:37.3724516Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d5da4cc73baec2daa491ceee727dfc4e","@sp":"bd9ffa03ee769d2b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":5421.5407,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:37.6874803Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d5da4cc73baec2daa491ceee727dfc4e","@sp":"f00ff4f295a9c999","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:09:37.6872350Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7D:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7D"}
{"@t":"2026-01-18T13:09:37.7166856Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d5da4cc73baec2daa491ceee727dfc4e","@sp":"f00ff4f295a9c999","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":29.1532,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7D:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7D"}
{"@t":"2026-01-18T13:09:37.7578849Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d5da4cc73baec2daa491ceee727dfc4e","@sp":"9d969438c06cbe62","Method":"GET","Path":"/hubs/orders","Query":"?id=XU_wzqS0fUgBPN3EJa_zLg","Time":"2026-01-18T13:09:37.7577566Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7E:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7E"}
{"@t":"2026-01-18T13:09:37.8594296Z","@mt":"Client connected: {ConnectionId}","@tr":"d5da4cc73baec2daa491ceee727dfc4e","@sp":"9d969438c06cbe62","ConnectionId":"OfGBe5UhhdzAYHNR2hLOJw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"OfGBe5UhhdzAYHNR2hLOJw","RequestId":"0HNIMIB8R5G7E:00000001","RequestPath":"/hubs/orders","CorrelationId":"5d37c28a-1dff-42f2-b4c6-2ca634f05b76"}
{"@t":"2026-01-18T13:09:37.9335749Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"OfGBe5UhhdzAYHNR2hLOJw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"OfGBe5UhhdzAYHNR2hLOJw","RequestId":"0HNIMIB8R5G7E:00000001","RequestPath":"/hubs/orders","CorrelationId":"5d37c28a-1dff-42f2-b4c6-2ca634f05b76"}
{"@t":"2026-01-18T13:09:38.0517573Z","@mt":"Client disconnected: {ConnectionId}","@tr":"d5da4cc73baec2daa491ceee727dfc4e","@sp":"9d969438c06cbe62","ConnectionId":"OfGBe5UhhdzAYHNR2hLOJw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"OfGBe5UhhdzAYHNR2hLOJw","RequestId":"0HNIMIB8R5G7E:00000001","RequestPath":"/hubs/orders","CorrelationId":"5d37c28a-1dff-42f2-b4c6-2ca634f05b76"}
{"@t":"2026-01-18T13:09:38.0655501Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d5da4cc73baec2daa491ceee727dfc4e","@sp":"9d969438c06cbe62","Method":"GET","Path":"/hubs/orders","Query":"?id=XU_wzqS0fUgBPN3EJa_zLg","StatusCode":101,"Duration":307.6846,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7E:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7E"}
{"@t":"2026-01-18T13:09:38.8105513Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5977a5a8e767907e55c0789a13d7f2b5","@sp":"afbcf21b28fbf0bb","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:09:38.8104497Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:39.0914756Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5977a5a8e767907e55c0789a13d7f2b5","@sp":"afbcf21b28fbf0bb","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":280.951,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:39.1053321Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"63d117d72b07e87d894245dc25292950","@sp":"59f6286ac0d23e3a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:09:39.1052633Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7F:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7F"}
{"@t":"2026-01-18T13:09:39.1105176Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"63d117d72b07e87d894245dc25292950","@sp":"59f6286ac0d23e3a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":5.1761,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7F:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7F"}
{"@t":"2026-01-18T13:09:39.1154197Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b01a505ff0af630bd9e99463e21a224e","@sp":"6a3ff90f77678c6f","Method":"GET","Path":"/hubs/orders","Query":"?id=oN9PzDiMNfHJSpBbykCpCA","Time":"2026-01-18T13:09:39.1153371Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7G:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7G"}
{"@t":"2026-01-18T13:09:39.1246514Z","@mt":"Client connected: {ConnectionId}","@tr":"b01a505ff0af630bd9e99463e21a224e","@sp":"6a3ff90f77678c6f","ConnectionId":"KR1oCkXVRRjGLGo81Ls7uw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KR1oCkXVRRjGLGo81Ls7uw","RequestId":"0HNIMIB8R5G7G:00000001","RequestPath":"/hubs/orders","CorrelationId":"7c7233c8-14a7-4312-a6f7-dfaa65293401"}
{"@t":"2026-01-18T13:09:39.1281152Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"KR1oCkXVRRjGLGo81Ls7uw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KR1oCkXVRRjGLGo81Ls7uw","RequestId":"0HNIMIB8R5G7G:00000001","RequestPath":"/hubs/orders","CorrelationId":"7c7233c8-14a7-4312-a6f7-dfaa65293401"}
{"@t":"2026-01-18T13:09:41.6982257Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7292703963ef348b545d78c0b87fb90f","@sp":"91e035492bdf6c09","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-18T13:09:41.6981062Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:41.7979396Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"7292703963ef348b545d78c0b87fb90f","@sp":"91e035492bdf6c09","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b29a1016-2e53-4365-a2d9-6cede3c8f906","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7C:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMIB8R5G7C","CorrelationId":"9c003ad8-8db3-4661-8192-5287f4ede5c3"}
{"@t":"2026-01-18T13:09:42.0395256Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7292703963ef348b545d78c0b87fb90f","@sp":"91e035492bdf6c09","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":341.3082,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:44.4959150Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0e7df5068a250283353a5bbb56b8cf7d","@sp":"7fa9b9529c5ecdf7","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:09:44.4958216Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:45.3484800Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:ec94993c-f532-4760-83ef-34aa69e1c6dd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"0e7df5068a250283353a5bbb56b8cf7d","@sp":"7fa9b9529c5ecdf7","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:ec94993c-f532-4760-83ef-34aa69e1c6dd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7C:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIB8R5G7C","CorrelationId":"272b6a7b-e079-44c2-a115-88bdf1e03ff3"}
{"@t":"2026-01-18T13:09:45.4341362Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:ec94993c-f532-4760-83ef-34aa69e1c6dd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 506","@tr":"0e7df5068a250283353a5bbb56b8cf7d","@sp":"7fa9b9529c5ecdf7","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7C:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIB8R5G7C","CorrelationId":"272b6a7b-e079-44c2-a115-88bdf1e03ff3"}
{"@t":"2026-01-18T13:09:45.5079667Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"0e7df5068a250283353a5bbb56b8cf7d","@sp":"7fa9b9529c5ecdf7","OrderId":8,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7C:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIB8R5G7C","CorrelationId":"272b6a7b-e079-44c2-a115-88bdf1e03ff3"}
{"@t":"2026-01-18T13:09:45.5503914Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"176133751dd9cee5cd4d462ce00fd4db","@sp":"e2508ab7249932a9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:09:45.5503268Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7H:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7H"}
{"@t":"2026-01-18T13:09:45.5570057Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"0e7df5068a250283353a5bbb56b8cf7d","@sp":"7fa9b9529c5ecdf7","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-9117DD","Status":"Delivered","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7C:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIB8R5G7C","CorrelationId":"272b6a7b-e079-44c2-a115-88bdf1e03ff3"}
{"@t":"2026-01-18T13:09:45.6310157Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"176133751dd9cee5cd4d462ce00fd4db","@sp":"e2508ab7249932a9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":80.6018,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7H:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7H"}
{"@t":"2026-01-18T13:09:45.7159286Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0e7df5068a250283353a5bbb56b8cf7d","@sp":"7fa9b9529c5ecdf7","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":1219.9844,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:48.7754865Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"67b98fdb363dfe914a04e72619781b8a","@sp":"4d324d13e4a8a1e7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:09:48.7751151Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:48.8132908Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"67b98fdb363dfe914a04e72619781b8a","@sp":"4d324d13e4a8a1e7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":37.9737,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:53.2642605Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"59de8cbdc5f1bf66cbfe9e66f2ae9f1a","@sp":"aa29ccb031212c59","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T13:09:53.2640856Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000006","RequestPath":"/api/deliveries","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:53.3590750Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"59de8cbdc5f1bf66cbfe9e66f2ae9f1a","@sp":"aa29ccb031212c59","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":401,"Duration":94.8127,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000006","RequestPath":"/api/deliveries","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:53.4354218Z","@mt":"Client disconnected: {ConnectionId}","@tr":"b01a505ff0af630bd9e99463e21a224e","@sp":"6a3ff90f77678c6f","ConnectionId":"KR1oCkXVRRjGLGo81Ls7uw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KR1oCkXVRRjGLGo81Ls7uw","RequestId":"0HNIMIB8R5G7G:00000001","RequestPath":"/hubs/orders","CorrelationId":"7c7233c8-14a7-4312-a6f7-dfaa65293401"}
{"@t":"2026-01-18T13:09:53.4453428Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a8aeb3be4997a2dd022557fc5c9d0119","@sp":"57371cbe32b59faf","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T13:09:53.4451997Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000007","RequestPath":"/api/deliveries","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:09:53.4667750Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b01a505ff0af630bd9e99463e21a224e","@sp":"6a3ff90f77678c6f","Method":"GET","Path":"/hubs/orders","Query":"?id=oN9PzDiMNfHJSpBbykCpCA","StatusCode":101,"Duration":14350.8418,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7G:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7G"}
{"@t":"2026-01-18T13:09:53.6982082Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a8aeb3be4997a2dd022557fc5c9d0119","@sp":"57371cbe32b59faf","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":200,"Duration":252.5744,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000007","RequestPath":"/api/deliveries","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:10:00.2703840Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"eeb26e3b6bf7fd64dfeaae956c52f0a0","@sp":"051a59ad710c1cae","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:10:00.2700821Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:10:00.5017135Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"eeb26e3b6bf7fd64dfeaae956c52f0a0","@sp":"051a59ad710c1cae","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":231.5208,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:10:00.5253556Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"eeb26e3b6bf7fd64dfeaae956c52f0a0","@sp":"28b07d99b35552cb","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:10:00.5252671Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7I:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7I"}
{"@t":"2026-01-18T13:10:00.5416648Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"eeb26e3b6bf7fd64dfeaae956c52f0a0","@sp":"28b07d99b35552cb","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":16.0538,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7I:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7I"}
{"@t":"2026-01-18T13:10:00.5556713Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"eeb26e3b6bf7fd64dfeaae956c52f0a0","@sp":"c0e01ac9946c7096","Method":"GET","Path":"/hubs/orders","Query":"?id=HaMtoSt4ENUiJVHtI9TuCQ","Time":"2026-01-18T13:10:00.5555819Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7J:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7J"}
{"@t":"2026-01-18T13:10:00.5829604Z","@mt":"Client connected: {ConnectionId}","@tr":"eeb26e3b6bf7fd64dfeaae956c52f0a0","@sp":"c0e01ac9946c7096","ConnectionId":"jJPYadKdpm76cHV48-VRoA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"jJPYadKdpm76cHV48-VRoA","RequestId":"0HNIMIB8R5G7J:00000001","RequestPath":"/hubs/orders","CorrelationId":"14a33097-07eb-41ed-8e1b-c4fb53d68a79"}
{"@t":"2026-01-18T13:10:00.6284143Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"jJPYadKdpm76cHV48-VRoA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"jJPYadKdpm76cHV48-VRoA","RequestId":"0HNIMIB8R5G7J:00000001","RequestPath":"/hubs/orders","CorrelationId":"14a33097-07eb-41ed-8e1b-c4fb53d68a79"}
{"@t":"2026-01-18T13:10:00.7228515Z","@mt":"Client disconnected: {ConnectionId}","@tr":"eeb26e3b6bf7fd64dfeaae956c52f0a0","@sp":"c0e01ac9946c7096","ConnectionId":"jJPYadKdpm76cHV48-VRoA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"jJPYadKdpm76cHV48-VRoA","RequestId":"0HNIMIB8R5G7J:00000001","RequestPath":"/hubs/orders","CorrelationId":"14a33097-07eb-41ed-8e1b-c4fb53d68a79"}
{"@t":"2026-01-18T13:10:00.7896844Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"eec07e9b517772382d564f18a8321889","@sp":"28476cdca7ce32eb","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:10:00.7895786Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:10:01.4311321Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"eeb26e3b6bf7fd64dfeaae956c52f0a0","@sp":"c0e01ac9946c7096","Method":"GET","Path":"/hubs/orders","Query":"?id=HaMtoSt4ENUiJVHtI9TuCQ","StatusCode":101,"Duration":875.4161,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7J:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7J"}
{"@t":"2026-01-18T13:10:01.6462336Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"eec07e9b517772382d564f18a8321889","@sp":"28476cdca7ce32eb","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":856.5729,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:10:01.9949373Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fac6993d6cdb7e38a4ca225a5083fe2c","@sp":"44d5bd9038fa0f86","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:10:01.9948164Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7K:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7K"}
{"@t":"2026-01-18T13:10:02.1703344Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fac6993d6cdb7e38a4ca225a5083fe2c","@sp":"44d5bd9038fa0f86","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":175.4313,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7K:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7K"}
{"@t":"2026-01-18T13:10:02.1875648Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1cfb408608884effbc4b9e262cc49502","@sp":"089061f454d5b8f4","Method":"GET","Path":"/hubs/orders","Query":"?id=tr-3FchUMtskhFuno5rWhg","Time":"2026-01-18T13:10:02.1874903Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7L:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7L"}
{"@t":"2026-01-18T13:10:02.3144788Z","@mt":"Client connected: {ConnectionId}","@tr":"1cfb408608884effbc4b9e262cc49502","@sp":"089061f454d5b8f4","ConnectionId":"CJIWpgR5xxEA5_DRb_xbZQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"CJIWpgR5xxEA5_DRb_xbZQ","RequestId":"0HNIMIB8R5G7L:00000001","RequestPath":"/hubs/orders","CorrelationId":"e3733d97-ca99-4065-ac95-a2411d433b65"}
{"@t":"2026-01-18T13:10:02.3830306Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"CJIWpgR5xxEA5_DRb_xbZQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"CJIWpgR5xxEA5_DRb_xbZQ","RequestId":"0HNIMIB8R5G7L:00000001","RequestPath":"/hubs/orders","CorrelationId":"e3733d97-ca99-4065-ac95-a2411d433b65"}
{"@t":"2026-01-18T13:10:04.7556686Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"84d32eac75378713a64b9a65d7a08436","@sp":"b143cc55c3fdd813","Method":"GET","Path":"/api/admin/orders/7","Query":"","Time":"2026-01-18T13:10:04.7556053Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:0000000A","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:10:04.7900429Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"84d32eac75378713a64b9a65d7a08436","@sp":"b143cc55c3fdd813","Method":"GET","Path":"/api/admin/orders/7","Query":"","StatusCode":200,"Duration":34.3669,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:0000000A","RequestPath":"/api/admin/orders/7","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:10:07.2250476Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a8eeda4b464246463ae9faf131f85874","@sp":"02afc4e2f2e60ca2","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","Time":"2026-01-18T13:10:07.2249266Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:0000000B","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:10:07.4090016Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:ec94993c-f532-4760-83ef-34aa69e1c6dd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"a8eeda4b464246463ae9faf131f85874","@sp":"02afc4e2f2e60ca2","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:ec94993c-f532-4760-83ef-34aa69e1c6dd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7C:0000000B","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMIB8R5G7C","CorrelationId":"7cfad6fa-14f4-4f6f-abdf-0ccb3b949641"}
{"@t":"2026-01-18T13:10:07.5126507Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:ec94993c-f532-4760-83ef-34aa69e1c6dd\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 506","@tr":"a8eeda4b464246463ae9faf131f85874","@sp":"02afc4e2f2e60ca2","OrderId":7,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7C:0000000B","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMIB8R5G7C","CorrelationId":"7cfad6fa-14f4-4f6f-abdf-0ccb3b949641"}
{"@t":"2026-01-18T13:10:07.5966133Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"a8eeda4b464246463ae9faf131f85874","@sp":"02afc4e2f2e60ca2","OrderId":7,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7C:0000000B","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMIB8R5G7C","CorrelationId":"7cfad6fa-14f4-4f6f-abdf-0ccb3b949641"}
{"@t":"2026-01-18T13:10:07.6129735Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e4cdcf3a175c090ebca045dc0c557d75","@sp":"e12de32822d37c07","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:10:07.6128716Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7H:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7H"}
{"@t":"2026-01-18T13:10:07.6214938Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"a8eeda4b464246463ae9faf131f85874","@sp":"02afc4e2f2e60ca2","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-D60E7A","Status":"Delivered","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7C:0000000B","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMIB8R5G7C","CorrelationId":"7cfad6fa-14f4-4f6f-abdf-0ccb3b949641"}
{"@t":"2026-01-18T13:10:07.6806376Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e4cdcf3a175c090ebca045dc0c557d75","@sp":"e12de32822d37c07","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":67.6618,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7H:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7H"}
{"@t":"2026-01-18T13:10:07.7417986Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a8eeda4b464246463ae9faf131f85874","@sp":"02afc4e2f2e60ca2","Method":"PUT","Path":"/api/admin/orders/7/status","Query":"","StatusCode":200,"Duration":516.6107,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:0000000B","RequestPath":"/api/admin/orders/7/status","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:10:10.7802104Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8713966139503a724f9d27e85ef68418","@sp":"cc20ab3d558acdd2","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:10:10.7801219Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:10:10.9934708Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8713966139503a724f9d27e85ef68418","@sp":"cc20ab3d558acdd2","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":213.2565,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7C:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7C"}
{"@t":"2026-01-18T13:12:04.1547601Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3d26943952a1f3a60f5beea33fb443b7","@sp":"d06be6b715b88dea","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:12:04.1545774Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7M:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7M"}
{"@t":"2026-01-18T13:12:04.3010787Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3d26943952a1f3a60f5beea33fb443b7","@sp":"d06be6b715b88dea","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":146.3439,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7M:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7M"}
{"@t":"2026-01-18T13:12:04.3612981Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3d26943952a1f3a60f5beea33fb443b7","@sp":"99a7f10f5f6ba272","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:12:04.3611157Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7N:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7N"}
{"@t":"2026-01-18T13:12:04.3725116Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3d26943952a1f3a60f5beea33fb443b7","@sp":"99a7f10f5f6ba272","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":11.2985,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7N:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7N"}
{"@t":"2026-01-18T13:12:04.3795851Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3d26943952a1f3a60f5beea33fb443b7","@sp":"7c309fefdf9d8995","Method":"GET","Path":"/hubs/orders","Query":"?id=-j_Hlpy5CCt9k9TJe_P63A","Time":"2026-01-18T13:12:04.3794199Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7O:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7O"}
{"@t":"2026-01-18T13:12:04.3959769Z","@mt":"Client connected: {ConnectionId}","@tr":"3d26943952a1f3a60f5beea33fb443b7","@sp":"7c309fefdf9d8995","ConnectionId":"tHnzK9GEeWtwcpRzQhL5QA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"tHnzK9GEeWtwcpRzQhL5QA","RequestId":"0HNIMIB8R5G7O:00000001","RequestPath":"/hubs/orders","CorrelationId":"97af5809-4f75-4d52-8ee5-98e9d812556a"}
{"@t":"2026-01-18T13:12:04.4845116Z","@mt":"Client disconnected: {ConnectionId}","@tr":"3d26943952a1f3a60f5beea33fb443b7","@sp":"7c309fefdf9d8995","ConnectionId":"tHnzK9GEeWtwcpRzQhL5QA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"tHnzK9GEeWtwcpRzQhL5QA","RequestId":"0HNIMIB8R5G7O:00000001","RequestPath":"/hubs/orders","CorrelationId":"97af5809-4f75-4d52-8ee5-98e9d812556a"}
{"@t":"2026-01-18T13:12:04.5032870Z","@mt":"Client disconnected: {ConnectionId}","@tr":"1cfb408608884effbc4b9e262cc49502","@sp":"089061f454d5b8f4","ConnectionId":"CJIWpgR5xxEA5_DRb_xbZQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"CJIWpgR5xxEA5_DRb_xbZQ","RequestId":"0HNIMIB8R5G7L:00000001","RequestPath":"/hubs/orders","CorrelationId":"e3733d97-ca99-4065-ac95-a2411d433b65"}
{"@t":"2026-01-18T13:12:04.5868201Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"56dbad4f889e91d75657c28b10b0837f","@sp":"638b1f90152e9883","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:12:04.5866711Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:04.5972429Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3d26943952a1f3a60f5beea33fb443b7","@sp":"7c309fefdf9d8995","Method":"GET","Path":"/hubs/orders","Query":"?id=-j_Hlpy5CCt9k9TJe_P63A","StatusCode":101,"Duration":217.1609,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7O:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7O"}
{"@t":"2026-01-18T13:12:04.6668114Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1cfb408608884effbc4b9e262cc49502","@sp":"089061f454d5b8f4","Method":"GET","Path":"/hubs/orders","Query":"?id=tr-3FchUMtskhFuno5rWhg","StatusCode":101,"Duration":122478.958,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7L:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7L"}
{"@t":"2026-01-18T13:12:04.7606192Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"56dbad4f889e91d75657c28b10b0837f","@sp":"638b1f90152e9883","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":173.7933,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:04.8064280Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"82488ba73b951056f6fd8377da103b09","@sp":"2d7c6dc0073c3a57","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:12:04.8057963Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7Q:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7Q"}
{"@t":"2026-01-18T13:12:04.8602630Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"82488ba73b951056f6fd8377da103b09","@sp":"2d7c6dc0073c3a57","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":54.2708,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7Q:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7Q"}
{"@t":"2026-01-18T13:12:04.8844243Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6ce3044a7d5171ebc4ad3cf74a608259","@sp":"88b2b39105623d10","Method":"GET","Path":"/hubs/orders","Query":"?id=1Nm8rcqzkxWsMsB8HJLxhQ","Time":"2026-01-18T13:12:04.8843180Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7R:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7R"}
{"@t":"2026-01-18T13:12:04.9310058Z","@mt":"Client connected: {ConnectionId}","@tr":"6ce3044a7d5171ebc4ad3cf74a608259","@sp":"88b2b39105623d10","ConnectionId":"gyys7-4DINZys-kpgHj1fQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"gyys7-4DINZys-kpgHj1fQ","RequestId":"0HNIMIB8R5G7R:00000001","RequestPath":"/hubs/orders","CorrelationId":"c68b4de5-fd03-4c83-af37-1bfe88424cc7"}
{"@t":"2026-01-18T13:12:08.2982739Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a3cb27762d02e089286836df784dbb65","@sp":"b0e67fd31dd82eca","Method":"PUT","Path":"/api/admin/orders/4/status","Query":"","Time":"2026-01-18T13:12:08.2982062Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000002","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:08.3386370Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"a3cb27762d02e089286836df784dbb65","@sp":"b0e67fd31dd82eca","OrderId":4,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7P:00000002","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMIB8R5G7P","CorrelationId":"967734a8-bdb5-4b4c-bc25-bb4758a8018d"}
{"@t":"2026-01-18T13:12:08.3512586Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"a3cb27762d02e089286836df784dbb65","@sp":"b0e67fd31dd82eca","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-1AB48F","Status":"Ready","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7P:00000002","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMIB8R5G7P","CorrelationId":"967734a8-bdb5-4b4c-bc25-bb4758a8018d"}
{"@t":"2026-01-18T13:12:08.4659093Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a3cb27762d02e089286836df784dbb65","@sp":"b0e67fd31dd82eca","Method":"PUT","Path":"/api/admin/orders/4/status","Query":"","StatusCode":200,"Duration":167.6415,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000002","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:08.6301676Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4d041d1e4857b32fdcd7a87472941b54","@sp":"9f5be0b0ed225874","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:12:08.6301120Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:08.7463787Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4d041d1e4857b32fdcd7a87472941b54","@sp":"9f5be0b0ed225874","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":116.1893,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:09.7495846Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cfb24c822cc1b4d021261e8513b5d059","@sp":"d78f2aa39aee650b","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T13:12:09.7495243Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000004","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:09.7956878Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"cfb24c822cc1b4d021261e8513b5d059","@sp":"d78f2aa39aee650b","OrderId":5,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7P:00000004","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMIB8R5G7P","CorrelationId":"c75e15f1-0479-4ae9-a7b3-3aedc03d0b64"}
{"@t":"2026-01-18T13:12:09.8091014Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"cfb24c822cc1b4d021261e8513b5d059","@sp":"d78f2aa39aee650b","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-6AF3CB","Status":"Ready","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"84a9e1e8-0d73-4192-9370-c6f716323bc3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIB8R5G7P:00000004","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMIB8R5G7P","CorrelationId":"c75e15f1-0479-4ae9-a7b3-3aedc03d0b64"}
{"@t":"2026-01-18T13:12:09.9310860Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cfb24c822cc1b4d021261e8513b5d059","@sp":"d78f2aa39aee650b","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":200,"Duration":181.4272,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000004","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:09.9444102Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"369d8b48dd9159407465776faab9cdaa","@sp":"7bbba773f0e83e90","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:12:09.9443564Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:09.9894933Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"369d8b48dd9159407465776faab9cdaa","@sp":"7bbba773f0e83e90","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":45.0583,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:12.3387089Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"28c3275ba2e5f3e46bfe2d086911c291","@sp":"41c8dd50e08ae55f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:12:12.3386203Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7M:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7M"}
{"@t":"2026-01-18T13:12:12.4664238Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"28c3275ba2e5f3e46bfe2d086911c291","@sp":"41c8dd50e08ae55f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":127.6626,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7M:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7M"}
{"@t":"2026-01-18T13:12:12.5320486Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"28c3275ba2e5f3e46bfe2d086911c291","@sp":"5147515d6140dd35","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:12:12.5319012Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7S:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7S"}
{"@t":"2026-01-18T13:12:12.5454039Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"28c3275ba2e5f3e46bfe2d086911c291","@sp":"5147515d6140dd35","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":13.4022,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7S:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7S"}
{"@t":"2026-01-18T13:12:12.5544392Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"28c3275ba2e5f3e46bfe2d086911c291","@sp":"228c6b8c8df6f4c1","Method":"GET","Path":"/hubs/orders","Query":"?id=ho3aTLvQVmiToHC0KNmCvQ","Time":"2026-01-18T13:12:12.5543505Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7T:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7T"}
{"@t":"2026-01-18T13:12:12.5671955Z","@mt":"Client connected: {ConnectionId}","@tr":"28c3275ba2e5f3e46bfe2d086911c291","@sp":"228c6b8c8df6f4c1","ConnectionId":"byJIGB2SG1PDKn5O_k-boQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"byJIGB2SG1PDKn5O_k-boQ","RequestId":"0HNIMIB8R5G7T:00000001","RequestPath":"/hubs/orders","CorrelationId":"8901bc54-d975-4d4f-8ddf-f2f8d2fa779d"}
{"@t":"2026-01-18T13:12:12.5791472Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"byJIGB2SG1PDKn5O_k-boQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"byJIGB2SG1PDKn5O_k-boQ","RequestId":"0HNIMIB8R5G7T:00000001","RequestPath":"/hubs/orders","CorrelationId":"8901bc54-d975-4d4f-8ddf-f2f8d2fa779d"}
{"@t":"2026-01-18T13:12:12.5958309Z","@mt":"Client disconnected: {ConnectionId}","@tr":"28c3275ba2e5f3e46bfe2d086911c291","@sp":"228c6b8c8df6f4c1","ConnectionId":"byJIGB2SG1PDKn5O_k-boQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"byJIGB2SG1PDKn5O_k-boQ","RequestId":"0HNIMIB8R5G7T:00000001","RequestPath":"/hubs/orders","CorrelationId":"8901bc54-d975-4d4f-8ddf-f2f8d2fa779d"}
{"@t":"2026-01-18T13:12:12.6099101Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"28c3275ba2e5f3e46bfe2d086911c291","@sp":"228c6b8c8df6f4c1","Method":"GET","Path":"/hubs/orders","Query":"?id=ho3aTLvQVmiToHC0KNmCvQ","StatusCode":101,"Duration":55.4622,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7T:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7T"}
{"@t":"2026-01-18T13:12:12.6181861Z","@mt":"Client disconnected: {ConnectionId}","@tr":"6ce3044a7d5171ebc4ad3cf74a608259","@sp":"88b2b39105623d10","ConnectionId":"gyys7-4DINZys-kpgHj1fQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"gyys7-4DINZys-kpgHj1fQ","RequestId":"0HNIMIB8R5G7R:00000001","RequestPath":"/hubs/orders","CorrelationId":"c68b4de5-fd03-4c83-af37-1bfe88424cc7"}
{"@t":"2026-01-18T13:12:12.6335468Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6ce3044a7d5171ebc4ad3cf74a608259","@sp":"88b2b39105623d10","Method":"GET","Path":"/hubs/orders","Query":"?id=1Nm8rcqzkxWsMsB8HJLxhQ","StatusCode":101,"Duration":7749.1415,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7R:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7R"}
{"@t":"2026-01-18T13:12:12.6627635Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9f05c243894c0954203184e8c5a9fd4f","@sp":"898e1650fe3ff5ae","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:12:12.6626751Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:12.7635532Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9f05c243894c0954203184e8c5a9fd4f","@sp":"898e1650fe3ff5ae","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":100.7883,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:12.8092044Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fa69cbd310ca85505ed5d4bc99a6f0e0","@sp":"efcf8b302beb0318","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:12:12.8091107Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7U:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7U"}
{"@t":"2026-01-18T13:12:12.8367466Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fa69cbd310ca85505ed5d4bc99a6f0e0","@sp":"efcf8b302beb0318","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":27.4611,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7U:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIB8R5G7U"}
{"@t":"2026-01-18T13:12:12.8823715Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"40b7faf8aa6364cd25a00db6504caa14","@sp":"d97478fc97a00899","Method":"GET","Path":"/hubs/orders","Query":"?id=RGpQrYZ5hLvibSptmavC2w","Time":"2026-01-18T13:12:12.8822916Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7V:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7V"}
{"@t":"2026-01-18T13:12:13.2162388Z","@mt":"Client connected: {ConnectionId}","@tr":"40b7faf8aa6364cd25a00db6504caa14","@sp":"d97478fc97a00899","ConnectionId":"PSv-8KwErncoxeQUnfsYkg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"PSv-8KwErncoxeQUnfsYkg","RequestId":"0HNIMIB8R5G7V:00000001","RequestPath":"/hubs/orders","CorrelationId":"e0a8402c-e257-4581-9d32-b8ccb759f75e"}
{"@t":"2026-01-18T13:12:13.2214026Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"PSv-8KwErncoxeQUnfsYkg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"PSv-8KwErncoxeQUnfsYkg","RequestId":"0HNIMIB8R5G7V:00000001","RequestPath":"/hubs/orders","CorrelationId":"e0a8402c-e257-4581-9d32-b8ccb759f75e"}
{"@t":"2026-01-18T13:12:34.9610642Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5b4b19103ec8dccf55eb09a503bdbf39","@sp":"0a9f4fb3ee9ba5c1","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:12:34.9609465Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:12:35.0576986Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5b4b19103ec8dccf55eb09a503bdbf39","@sp":"0a9f4fb3ee9ba5c1","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":96.5197,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:13:05.0816273Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8aa18dee586030f0a8d0c78de3577361","@sp":"68642b4930b7546f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:13:05.0814991Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:13:05.1396981Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8aa18dee586030f0a8d0c78de3577361","@sp":"68642b4930b7546f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":58.0532,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000008","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:13:35.1614052Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6f9cc580b3f3318fbaade46244acd4b1","@sp":"6d2d3b5b7ab6b73c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:13:35.1613004Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:13:35.2125138Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6f9cc580b3f3318fbaade46244acd4b1","@sp":"6d2d3b5b7ab6b73c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":51.1369,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7P:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G7P"}
{"@t":"2026-01-18T13:14:05.2384472Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4cd4dd9ec13195bd9e64945ef5da6811","@sp":"d23d02accdbc1c0c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:14:05.2383804Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G80:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G80"}
{"@t":"2026-01-18T13:14:05.3001677Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4cd4dd9ec13195bd9e64945ef5da6811","@sp":"d23d02accdbc1c0c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":61.6858,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G80:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G80"}
{"@t":"2026-01-18T13:14:35.3300329Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"507eec7284af2e92c3b6d07831090209","@sp":"642bc3773336f6c7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:14:35.3299122Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G80:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G80"}
{"@t":"2026-01-18T13:14:35.4016503Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"507eec7284af2e92c3b6d07831090209","@sp":"642bc3773336f6c7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":71.6319,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G80:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G80"}
{"@t":"2026-01-18T13:15:05.4229189Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"df2c98419dc6cb70314f22146602e282","@sp":"20a0eac846aed116","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:15:05.4227867Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G80:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G80"}
{"@t":"2026-01-18T13:15:05.4874129Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"df2c98419dc6cb70314f22146602e282","@sp":"20a0eac846aed116","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":64.4841,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G80:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G80"}
{"@t":"2026-01-18T13:15:35.5078126Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c1225fc35e93ecc07fc2ab07745651db","@sp":"5ae92390c6dd82cb","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:15:35.5077092Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G80:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G80"}
{"@t":"2026-01-18T13:15:35.5323651Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c1225fc35e93ecc07fc2ab07745651db","@sp":"5ae92390c6dd82cb","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":24.3582,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G80:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G80"}
{"@t":"2026-01-18T13:16:05.5804062Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9010a9d6bce3ef4d420fbd2b49853fd6","@sp":"5cadc17b970c4762","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:16:05.5802552Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G81:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G81"}
{"@t":"2026-01-18T13:16:05.7034084Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9010a9d6bce3ef4d420fbd2b49853fd6","@sp":"5cadc17b970c4762","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":122.8312,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G81:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G81"}
{"@t":"2026-01-18T13:16:35.7277871Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5d2a6f612c4c26b213c8fceb9e8fd7a4","@sp":"e1aa0f561671a7c3","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:16:35.7276719Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G81:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G81"}
{"@t":"2026-01-18T13:16:35.7822919Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5d2a6f612c4c26b213c8fceb9e8fd7a4","@sp":"e1aa0f561671a7c3","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":54.5284,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G81:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G81"}
{"@t":"2026-01-18T13:17:05.8041945Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"97a79f7c1fc363d222903326dc970695","@sp":"b247e9e040703aad","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:17:05.8040010Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G81:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G81"}
{"@t":"2026-01-18T13:17:05.8906230Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"97a79f7c1fc363d222903326dc970695","@sp":"b247e9e040703aad","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":86.4891,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G81:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G81"}
{"@t":"2026-01-18T13:17:35.9268922Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fe60d182d45307b35931ee7a0c1896df","@sp":"a4b229e90041e5d2","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:17:35.9267893Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G81:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G81"}
{"@t":"2026-01-18T13:17:35.9488616Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fe60d182d45307b35931ee7a0c1896df","@sp":"a4b229e90041e5d2","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":21.96,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G81:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G81"}
{"@t":"2026-01-18T13:18:05.9774196Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5f5f91147917e0ce251fe6eff469120c","@sp":"e0666339203fa5f5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:18:05.9772543Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G82:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G82"}
{"@t":"2026-01-18T13:18:06.0450764Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5f5f91147917e0ce251fe6eff469120c","@sp":"e0666339203fa5f5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":67.7132,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G82:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G82"}
{"@t":"2026-01-18T13:18:36.0634401Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"99c197e1bdc3d6c9cb7c62a8edb083d2","@sp":"4588fce23a7bb796","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:18:36.0633253Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G82:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G82"}
{"@t":"2026-01-18T13:18:36.1126109Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"99c197e1bdc3d6c9cb7c62a8edb083d2","@sp":"4588fce23a7bb796","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":49.2204,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G82:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G82"}
{"@t":"2026-01-18T13:19:06.1419346Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"88be1831167b7362dab2f69b3f75f960","@sp":"1ad5b896423b15cc","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:19:06.1418444Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G82:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G82"}
{"@t":"2026-01-18T13:19:06.1963549Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"88be1831167b7362dab2f69b3f75f960","@sp":"1ad5b896423b15cc","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":54.391,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G82:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G82"}
{"@t":"2026-01-18T13:19:36.2244759Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"42e3482bb83cc9ad4b3cb2c7031032a3","@sp":"2129ab0d0da7f5b7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:19:36.2243703Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G82:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G82"}
{"@t":"2026-01-18T13:19:36.2719463Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"42e3482bb83cc9ad4b3cb2c7031032a3","@sp":"2129ab0d0da7f5b7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":47.5117,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G82:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G82"}
{"@t":"2026-01-18T13:20:06.3522070Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8490ae54ba4f1b42d7beb7e5f41547e5","@sp":"5fd57deacd51b7ae","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:20:06.3520884Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G83:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G83"}
{"@t":"2026-01-18T13:20:06.4356136Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8490ae54ba4f1b42d7beb7e5f41547e5","@sp":"5fd57deacd51b7ae","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":83.3157,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G83:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G83"}
{"@t":"2026-01-18T13:20:36.4551806Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ecc41eb0182cc1c64e2b6f09095164d4","@sp":"d87f54b2f1263e9d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:20:36.4550855Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G83:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G83"}
{"@t":"2026-01-18T13:20:36.5091314Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ecc41eb0182cc1c64e2b6f09095164d4","@sp":"d87f54b2f1263e9d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":53.9143,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G83:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIB8R5G83"}
{"@t":"2026-01-18T13:20:54.9940430Z","@mt":"Client disconnected: {ConnectionId}","@tr":"40b7faf8aa6364cd25a00db6504caa14","@sp":"d97478fc97a00899","ConnectionId":"PSv-8KwErncoxeQUnfsYkg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"PSv-8KwErncoxeQUnfsYkg","RequestId":"0HNIMIB8R5G7V:00000001","RequestPath":"/hubs/orders","CorrelationId":"e0a8402c-e257-4581-9d32-b8ccb759f75e"}
{"@t":"2026-01-18T13:20:55.0011847Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"40b7faf8aa6364cd25a00db6504caa14","@sp":"d97478fc97a00899","Method":"GET","Path":"/hubs/orders","Query":"?id=RGpQrYZ5hLvibSptmavC2w","StatusCode":101,"Duration":522118.5671,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIB8R5G7V:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIB8R5G7V"}
{"@t":"2026-01-18T13:21:36.0816945Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:21:36.2501956Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:21:36.2560162Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:21:36.8801470Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T13:21:40.0392794Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:21:40.0526866Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:21:40.0622731Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:21:41.8985720Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:21:41.9102885Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:21:41.9215929Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:21:42.3512453Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T13:21:42.6337500Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T13:22:35.0171913Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:22:35.1749362Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:22:35.1805499Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:22:35.9910468Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T13:22:39.2968675Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:22:39.3069680Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:22:39.3158497Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:22:41.1221327Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:22:41.1305923Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:22:41.1391836Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:22:41.4012412Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T13:22:41.5695774Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T13:33:07.9034423Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:33:08.0445230Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:33:08.0481457Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:33:08.6381598Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T13:33:11.4115642Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:33:11.4178512Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:33:11.4224302Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:33:12.8651680Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:33:12.8693580Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:33:12.8746400Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:33:13.2088609Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.API\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.API\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T13:33:13.4594113Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.API\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T13:34:33.7805745Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0736ba3b517d40c0b5c309a7243ee0e2","@sp":"178b93febcb4a555","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:34:33.7734715Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:33.8420610Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"0736ba3b517d40c0b5c309a7243ee0e2","@sp":"178b93febcb4a555","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMIP8CPRO8:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPRO8","CorrelationId":"c9e0f2c9-1861-41cf-8101-2b6aee3703b2"}
{"@t":"2026-01-18T13:34:42.7394913Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0736ba3b517d40c0b5c309a7243ee0e2","@sp":"178b93febcb4a555","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":8965.4303,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:43.2532159Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0736ba3b517d40c0b5c309a7243ee0e2","@sp":"64205298977688af","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:34:43.2529891Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO9:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIP8CPRO9"}
{"@t":"2026-01-18T13:34:43.2820694Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0736ba3b517d40c0b5c309a7243ee0e2","@sp":"64205298977688af","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":28.8702,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO9:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIP8CPRO9"}
{"@t":"2026-01-18T13:34:43.3428198Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0736ba3b517d40c0b5c309a7243ee0e2","@sp":"b65a43a9e1e39a83","Method":"GET","Path":"/hubs/orders","Query":"?id=Hf6daEXHGfj2oOPzTOGk0A","Time":"2026-01-18T13:34:43.3427131Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROA:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIP8CPROA"}
{"@t":"2026-01-18T13:34:43.3711599Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ed38f30312c94dbe2508f1f16be2f513","@sp":"429f90bb97e83313","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:34:43.3710701Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:43.4835357Z","@mt":"Client connected: {ConnectionId}","@tr":"0736ba3b517d40c0b5c309a7243ee0e2","@sp":"b65a43a9e1e39a83","ConnectionId":"yWJXSSD2yosy-hSFw9pdCw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"yWJXSSD2yosy-hSFw9pdCw","RequestId":"0HNIMIP8CPROA:00000001","RequestPath":"/hubs/orders","CorrelationId":"980f28b9-b36d-4485-bd5c-8ee4700b2b02"}
{"@t":"2026-01-18T13:34:43.5611199Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"yWJXSSD2yosy-hSFw9pdCw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"yWJXSSD2yosy-hSFw9pdCw","RequestId":"0HNIMIP8CPROA:00000001","RequestPath":"/hubs/orders","CorrelationId":"980f28b9-b36d-4485-bd5c-8ee4700b2b02"}
{"@t":"2026-01-18T13:34:43.6242949Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ed38f30312c94dbe2508f1f16be2f513","@sp":"429f90bb97e83313","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":253.1146,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:43.6471170Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ed38f30312c94dbe2508f1f16be2f513","@sp":"34e4098bd75b5ee2","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:34:43.6470480Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROB:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIP8CPROB"}
{"@t":"2026-01-18T13:34:43.6560008Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ed38f30312c94dbe2508f1f16be2f513","@sp":"34e4098bd75b5ee2","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":8.8886,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROB:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIP8CPROB"}
{"@t":"2026-01-18T13:34:43.6609363Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ed38f30312c94dbe2508f1f16be2f513","@sp":"6b406819cf93a180","Method":"GET","Path":"/hubs/orders","Query":"?id=vu6rk0qLyzUlB9ZPOLbT6w","Time":"2026-01-18T13:34:43.6608462Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROC:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIP8CPROC"}
{"@t":"2026-01-18T13:34:43.6773412Z","@mt":"Client connected: {ConnectionId}","@tr":"ed38f30312c94dbe2508f1f16be2f513","@sp":"6b406819cf93a180","ConnectionId":"ItA8gTboJylPTw2Lcvx8bA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ItA8gTboJylPTw2Lcvx8bA","RequestId":"0HNIMIP8CPROC:00000001","RequestPath":"/hubs/orders","CorrelationId":"0dbd6bf7-3e0c-4539-9eae-fb1940896152"}
{"@t":"2026-01-18T13:34:43.6818930Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"ItA8gTboJylPTw2Lcvx8bA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ItA8gTboJylPTw2Lcvx8bA","RequestId":"0HNIMIP8CPROC:00000001","RequestPath":"/hubs/orders","CorrelationId":"0dbd6bf7-3e0c-4539-9eae-fb1940896152"}
{"@t":"2026-01-18T13:34:43.7689037Z","@mt":"Client disconnected: {ConnectionId}","@tr":"ed38f30312c94dbe2508f1f16be2f513","@sp":"6b406819cf93a180","ConnectionId":"ItA8gTboJylPTw2Lcvx8bA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ItA8gTboJylPTw2Lcvx8bA","RequestId":"0HNIMIP8CPROC:00000001","RequestPath":"/hubs/orders","CorrelationId":"0dbd6bf7-3e0c-4539-9eae-fb1940896152"}
{"@t":"2026-01-18T13:34:43.7688962Z","@mt":"Client disconnected: {ConnectionId}","@tr":"0736ba3b517d40c0b5c309a7243ee0e2","@sp":"b65a43a9e1e39a83","ConnectionId":"yWJXSSD2yosy-hSFw9pdCw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"yWJXSSD2yosy-hSFw9pdCw","RequestId":"0HNIMIP8CPROA:00000001","RequestPath":"/hubs/orders","CorrelationId":"980f28b9-b36d-4485-bd5c-8ee4700b2b02"}
{"@t":"2026-01-18T13:34:43.8688280Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0736ba3b517d40c0b5c309a7243ee0e2","@sp":"b65a43a9e1e39a83","Method":"GET","Path":"/hubs/orders","Query":"?id=Hf6daEXHGfj2oOPzTOGk0A","StatusCode":101,"Duration":525.9956,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROA:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIP8CPROA"}
{"@t":"2026-01-18T13:34:43.8688846Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ed38f30312c94dbe2508f1f16be2f513","@sp":"6b406819cf93a180","Method":"GET","Path":"/hubs/orders","Query":"?id=vu6rk0qLyzUlB9ZPOLbT6w","StatusCode":101,"Duration":207.8625,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROC:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIP8CPROC"}
{"@t":"2026-01-18T13:34:44.6627827Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1d361e7c0f06b69d016bb06308edcd48","@sp":"dd2d182158bbfae7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:34:44.6627032Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:44.7533821Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1d361e7c0f06b69d016bb06308edcd48","@sp":"dd2d182158bbfae7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":90.2162,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:44.7903182Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9a86a9cc3089194ab49ed22f399c600d","@sp":"cec4a68e1926598e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:34:44.7902340Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROD:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIP8CPROD"}
{"@t":"2026-01-18T13:34:44.8062917Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9a86a9cc3089194ab49ed22f399c600d","@sp":"cec4a68e1926598e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":15.9663,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROD:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIP8CPROD"}
{"@t":"2026-01-18T13:34:44.8169106Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e44038a700757267101dd8b8ed65e5a3","@sp":"fe93907bbdc53fa4","Method":"GET","Path":"/hubs/orders","Query":"?id=CXTPYUHo925XTJeZ0C5dMw","Time":"2026-01-18T13:34:44.8167846Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROE:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIP8CPROE"}
{"@t":"2026-01-18T13:34:44.8308613Z","@mt":"Client connected: {ConnectionId}","@tr":"e44038a700757267101dd8b8ed65e5a3","@sp":"fe93907bbdc53fa4","ConnectionId":"Sn5hF6VVa1xkihQ_YIyLYA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Sn5hF6VVa1xkihQ_YIyLYA","RequestId":"0HNIMIP8CPROE:00000001","RequestPath":"/hubs/orders","CorrelationId":"f0b69406-8800-4a0a-bd64-ef7d9400bd75"}
{"@t":"2026-01-18T13:34:44.8353217Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"Sn5hF6VVa1xkihQ_YIyLYA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Sn5hF6VVa1xkihQ_YIyLYA","RequestId":"0HNIMIP8CPROE:00000001","RequestPath":"/hubs/orders","CorrelationId":"f0b69406-8800-4a0a-bd64-ef7d9400bd75"}
{"@t":"2026-01-18T13:34:47.9239193Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3d0dd1e6c98713b08d29c149e9c3e7c2","@sp":"ab8a4e32b41d0957","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-18T13:34:47.9238238Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000004","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:48.0109613Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"3d0dd1e6c98713b08d29c149e9c3e7c2","@sp":"ab8a4e32b41d0957","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"2ffadf9c-66db-4238-91cb-7753c694a809","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.API)","RequestId":"0HNIMIP8CPRO8:00000004","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMIP8CPRO8","CorrelationId":"412bc4bc-45d0-47c5-ba97-32dba9ecff7a"}
{"@t":"2026-01-18T13:34:48.1891267Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3d0dd1e6c98713b08d29c149e9c3e7c2","@sp":"ab8a4e32b41d0957","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":265.2188,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000004","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:50.6935854Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"15239f79dcec1a97c5d8c996c9100afa","@sp":"63b4883afff85e40","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:34:50.6933943Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:51.0481452Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"15239f79dcec1a97c5d8c996c9100afa","@sp":"63b4883afff85e40","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":354.4669,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000005","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:54.1039525Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9770d8b272faca21f3cd09b3f953eac5","@sp":"cf8ad3a287573e34","Method":"GET","Path":"/api/admin/orders/6","Query":"","Time":"2026-01-18T13:34:54.1038574Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000006","RequestPath":"/api/admin/orders/6","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:54.1174523Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4e49c749c4b7ecf5fa584aa2c8d272d9","@sp":"bd0c2f811e6ed421","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:34:54.1172764Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROF:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPROF"}
{"@t":"2026-01-18T13:34:54.1514693Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9770d8b272faca21f3cd09b3f953eac5","@sp":"cf8ad3a287573e34","Method":"GET","Path":"/api/admin/orders/6","Query":"","StatusCode":200,"Duration":47.4834,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000006","RequestPath":"/api/admin/orders/6","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:54.1667404Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4e49c749c4b7ecf5fa584aa2c8d272d9","@sp":"bd0c2f811e6ed421","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":49.3657,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROF:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPROF"}
{"@t":"2026-01-18T13:34:56.6309589Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"061ea004b988b665ea57aff8fbe52030","@sp":"8e195d8c07bd224f","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","Time":"2026-01-18T13:34:56.6308314Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROF:00000002","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMIP8CPROF"}
{"@t":"2026-01-18T13:34:57.9799234Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:fc8177d5-305d-45f0-9d59-b4f1fd21c13b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"061ea004b988b665ea57aff8fbe52030","@sp":"8e195d8c07bd224f","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:fc8177d5-305d-45f0-9d59-b4f1fd21c13b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"df39d6be-f08f-4251-8896-3de5f8bceed6","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIP8CPROF:00000002","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMIP8CPROF","CorrelationId":"8d38315c-168e-4372-a52e-dc99f9b873d4"}
{"@t":"2026-01-18T13:34:58.0688432Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:fc8177d5-305d-45f0-9d59-b4f1fd21c13b\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 516","@tr":"061ea004b988b665ea57aff8fbe52030","@sp":"8e195d8c07bd224f","OrderId":6,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"df39d6be-f08f-4251-8896-3de5f8bceed6","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIP8CPROF:00000002","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMIP8CPROF","CorrelationId":"8d38315c-168e-4372-a52e-dc99f9b873d4"}
{"@t":"2026-01-18T13:34:58.2195013Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"061ea004b988b665ea57aff8fbe52030","@sp":"8e195d8c07bd224f","OrderId":6,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"df39d6be-f08f-4251-8896-3de5f8bceed6","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIP8CPROF:00000002","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMIP8CPROF","CorrelationId":"8d38315c-168e-4372-a52e-dc99f9b873d4"}
{"@t":"2026-01-18T13:34:58.2563573Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c313ce923d858a998112dbe0775c3b44","@sp":"335b2c78511f7b3c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:34:58.2562523Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:58.2803275Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"061ea004b988b665ea57aff8fbe52030","@sp":"8e195d8c07bd224f","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-D3FA62","Status":"Delivered","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"df39d6be-f08f-4251-8896-3de5f8bceed6","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIP8CPROF:00000002","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMIP8CPROF","CorrelationId":"8d38315c-168e-4372-a52e-dc99f9b873d4"}
{"@t":"2026-01-18T13:34:58.3069167Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c313ce923d858a998112dbe0775c3b44","@sp":"335b2c78511f7b3c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":50.5345,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPRO8:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPRO8"}
{"@t":"2026-01-18T13:34:58.3976781Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"061ea004b988b665ea57aff8fbe52030","@sp":"8e195d8c07bd224f","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","StatusCode":200,"Duration":1766.7604,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROF:00000002","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMIP8CPROF"}
{"@t":"2026-01-18T13:35:01.4229429Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fc30b961801debafec0b6bbf6c5adee5","@sp":"57fb529880b8f184","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:35:01.4228343Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROF:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPROF"}
{"@t":"2026-01-18T13:35:01.4709551Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fc30b961801debafec0b6bbf6c5adee5","@sp":"57fb529880b8f184","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":48.0351,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROF:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPROF"}
{"@t":"2026-01-18T13:39:14.2241700Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0ad4b851f0afc4741817cfcb5a8b5b52","@sp":"10937987cb8dfccb","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T13:39:14.2240042Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROG:00000001","RequestPath":"/api/deliveries","ConnectionId":"0HNIMIP8CPROG"}
{"@t":"2026-01-18T13:39:14.2898889Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"0ad4b851f0afc4741817cfcb5a8b5b52","@sp":"10937987cb8dfccb","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":401,"Duration":65.2082,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROG:00000001","RequestPath":"/api/deliveries","ConnectionId":"0HNIMIP8CPROG"}
{"@t":"2026-01-18T13:39:14.4387655Z","@mt":"Client disconnected: {ConnectionId}","@tr":"e44038a700757267101dd8b8ed65e5a3","@sp":"fe93907bbdc53fa4","ConnectionId":"Sn5hF6VVa1xkihQ_YIyLYA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Sn5hF6VVa1xkihQ_YIyLYA","RequestId":"0HNIMIP8CPROE:00000001","RequestPath":"/hubs/orders","CorrelationId":"f0b69406-8800-4a0a-bd64-ef7d9400bd75"}
{"@t":"2026-01-18T13:39:14.4739055Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e44038a700757267101dd8b8ed65e5a3","@sp":"fe93907bbdc53fa4","Method":"GET","Path":"/hubs/orders","Query":"?id=CXTPYUHo925XTJeZ0C5dMw","StatusCode":101,"Duration":269656.9525,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROE:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIP8CPROE"}
{"@t":"2026-01-18T13:39:14.5081957Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2c2616066d79929e6d97db3e40a4a002","@sp":"0bfbb02c1250db8e","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T13:39:14.5078287Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROH:00000001","RequestPath":"/api/deliveries","ConnectionId":"0HNIMIP8CPROH"}
{"@t":"2026-01-18T13:39:14.8298008Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2c2616066d79929e6d97db3e40a4a002","@sp":"0bfbb02c1250db8e","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":200,"Duration":321.7759,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROH:00000001","RequestPath":"/api/deliveries","ConnectionId":"0HNIMIP8CPROH"}
{"@t":"2026-01-18T13:39:19.4235048Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f5e636e9ccb51a8f8cc6f25f12eeebd9","@sp":"e33fec95ff087342","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:39:19.4233114Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROG:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPROG"}
{"@t":"2026-01-18T13:39:19.5040200Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f5e636e9ccb51a8f8cc6f25f12eeebd9","@sp":"e33fec95ff087342","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":80.4198,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROG:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPROG"}
{"@t":"2026-01-18T13:39:19.5327964Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f5e636e9ccb51a8f8cc6f25f12eeebd9","@sp":"658775df4bd8aaf0","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:39:19.5326356Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROI:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIP8CPROI"}
{"@t":"2026-01-18T13:39:19.5457588Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f5e636e9ccb51a8f8cc6f25f12eeebd9","@sp":"658775df4bd8aaf0","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":12.9714,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROI:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIP8CPROI"}
{"@t":"2026-01-18T13:39:19.5582235Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f5e636e9ccb51a8f8cc6f25f12eeebd9","@sp":"b219c503a2ffe2c9","Method":"GET","Path":"/hubs/orders","Query":"?id=SA3O6YDjA1l19rod2sGr1A","Time":"2026-01-18T13:39:19.5580139Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROJ:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIP8CPROJ"}
{"@t":"2026-01-18T13:39:19.5747950Z","@mt":"Client connected: {ConnectionId}","@tr":"f5e636e9ccb51a8f8cc6f25f12eeebd9","@sp":"b219c503a2ffe2c9","ConnectionId":"CAK59cDNR1TS1KDVngj4Mw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"CAK59cDNR1TS1KDVngj4Mw","RequestId":"0HNIMIP8CPROJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"9a98d09c-7a4c-42f3-a48b-2954411bdb8c"}
{"@t":"2026-01-18T13:39:19.5821434Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"CAK59cDNR1TS1KDVngj4Mw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"CAK59cDNR1TS1KDVngj4Mw","RequestId":"0HNIMIP8CPROJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"9a98d09c-7a4c-42f3-a48b-2954411bdb8c"}
{"@t":"2026-01-18T13:39:19.6222128Z","@mt":"Client disconnected: {ConnectionId}","@tr":"f5e636e9ccb51a8f8cc6f25f12eeebd9","@sp":"b219c503a2ffe2c9","ConnectionId":"CAK59cDNR1TS1KDVngj4Mw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"CAK59cDNR1TS1KDVngj4Mw","RequestId":"0HNIMIP8CPROJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"9a98d09c-7a4c-42f3-a48b-2954411bdb8c"}
{"@t":"2026-01-18T13:39:19.6327038Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f5e636e9ccb51a8f8cc6f25f12eeebd9","@sp":"b219c503a2ffe2c9","Method":"GET","Path":"/hubs/orders","Query":"?id=SA3O6YDjA1l19rod2sGr1A","StatusCode":101,"Duration":74.3391,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROJ:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIP8CPROJ"}
{"@t":"2026-01-18T13:39:19.6717053Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"66adb346896271f1bde6038041e29a8e","@sp":"3c7d4f60ed605c45","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:39:19.6715920Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROH:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPROH"}
{"@t":"2026-01-18T13:39:19.6971256Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"66adb346896271f1bde6038041e29a8e","@sp":"3c7d4f60ed605c45","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":25.3891,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROH:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIP8CPROH"}
{"@t":"2026-01-18T13:39:19.7272643Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"382310e57ba67d2763344a25cf36e73e","@sp":"dcd1e0015b43d9eb","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:39:19.7271340Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROK:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIP8CPROK"}
{"@t":"2026-01-18T13:39:19.7402603Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"382310e57ba67d2763344a25cf36e73e","@sp":"dcd1e0015b43d9eb","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":12.889,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROK:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIP8CPROK"}
{"@t":"2026-01-18T13:39:19.8049254Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"631badb5675585c511ab48afd6dbeb5e","@sp":"26645bb2eb0225b1","Method":"GET","Path":"/hubs/orders","Query":"?id=xaoJv_XeYp-qeOz1Zxr_jw","Time":"2026-01-18T13:39:19.8046572Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIP8CPROL:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIP8CPROL"}
{"@t":"2026-01-18T13:39:19.8386870Z","@mt":"Client connected: {ConnectionId}","@tr":"631badb5675585c511ab48afd6dbeb5e","@sp":"26645bb2eb0225b1","ConnectionId":"x3WLWzUUDnVR353hM6DLNQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"x3WLWzUUDnVR353hM6DLNQ","RequestId":"0HNIMIP8CPROL:00000001","RequestPath":"/hubs/orders","CorrelationId":"9a097852-35d3-4965-996e-955a2a239c97"}
{"@t":"2026-01-18T13:39:19.9205105Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"x3WLWzUUDnVR353hM6DLNQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"x3WLWzUUDnVR353hM6DLNQ","RequestId":"0HNIMIP8CPROL:00000001","RequestPath":"/hubs/orders","CorrelationId":"9a097852-35d3-4965-996e-955a2a239c97"}
{"@t":"2026-01-18T13:42:57.9482268Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:42:58.0194417Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:42:58.0250555Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T13:42:58.4465882Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T13:43:00.1774437Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:43:00.1816514Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:43:00.1847147Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:43:01.2618687Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:43:01.2661353Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:43:01.2911368Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T13:43:01.6670157Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T13:43:01.8244895Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T13:43:26.0007857Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4fcf3fa8692456b9e8c1b8b9dec60148","@sp":"9d43ebc4e5c9f48a","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:43:25.9973247Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRK:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRK"}
{"@t":"2026-01-18T13:43:26.0662555Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"4fcf3fa8692456b9e8c1b8b9dec60148","@sp":"9d43ebc4e5c9f48a","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMIU728TRK:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRK","CorrelationId":"7dafface-8efb-42a1-a059-c5f35f1b1774"}
{"@t":"2026-01-18T13:43:31.0749829Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4fcf3fa8692456b9e8c1b8b9dec60148","@sp":"9d43ebc4e5c9f48a","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":5077.063,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRK:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRK"}
{"@t":"2026-01-18T13:43:31.1248139Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ba5bcc747e886730e06c57bd2ba6a204","@sp":"83fe8ff1d4341ce8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:43:31.1246873Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:31.4339064Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ba5bcc747e886730e06c57bd2ba6a204","@sp":"83fe8ff1d4341ce8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":309.0333,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:31.4648335Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4fcf3fa8692456b9e8c1b8b9dec60148","@sp":"0e31258039fdf28a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:43:31.4647111Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRM:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIU728TRM"}
{"@t":"2026-01-18T13:43:31.4648432Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ba5bcc747e886730e06c57bd2ba6a204","@sp":"3d200577f867b56b","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:43:31.4647178Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRN:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIU728TRN"}
{"@t":"2026-01-18T13:43:31.4884579Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4fcf3fa8692456b9e8c1b8b9dec60148","@sp":"0e31258039fdf28a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":23.6301,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRM:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIU728TRM"}
{"@t":"2026-01-18T13:43:31.4884581Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ba5bcc747e886730e06c57bd2ba6a204","@sp":"3d200577f867b56b","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":23.6234,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRN:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIU728TRN"}
{"@t":"2026-01-18T13:43:31.5219882Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4fcf3fa8692456b9e8c1b8b9dec60148","@sp":"321cc84db94824c6","Method":"GET","Path":"/hubs/orders","Query":"?id=D8LFzsLDXwxd9P_PXgsjGg","Time":"2026-01-18T13:43:31.5217624Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRP:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIU728TRP"}
{"@t":"2026-01-18T13:43:31.5233098Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ba5bcc747e886730e06c57bd2ba6a204","@sp":"21af6462261ce7c8","Method":"GET","Path":"/hubs/orders","Query":"?id=2LyNVXsj0cJ2egJXodhMrA","Time":"2026-01-18T13:43:31.5231827Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRO:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIU728TRO"}
{"@t":"2026-01-18T13:43:31.6013885Z","@mt":"Client connected: {ConnectionId}","@tr":"4fcf3fa8692456b9e8c1b8b9dec60148","@sp":"321cc84db94824c6","ConnectionId":"a_6oIZTD_wJCA1EkRdGuVA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"a_6oIZTD_wJCA1EkRdGuVA","RequestId":"0HNIMIU728TRP:00000001","RequestPath":"/hubs/orders","CorrelationId":"96e83cba-a590-4f9b-81f6-532c22f881ba"}
{"@t":"2026-01-18T13:43:31.6013853Z","@mt":"Client connected: {ConnectionId}","@tr":"ba5bcc747e886730e06c57bd2ba6a204","@sp":"21af6462261ce7c8","ConnectionId":"juQ1GQ3cmX2RSByZ7Sa4sw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"juQ1GQ3cmX2RSByZ7Sa4sw","RequestId":"0HNIMIU728TRO:00000001","RequestPath":"/hubs/orders","CorrelationId":"1aab33e3-8441-409c-b421-c4e01ebd0fe0"}
{"@t":"2026-01-18T13:43:31.6422867Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"a_6oIZTD_wJCA1EkRdGuVA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"a_6oIZTD_wJCA1EkRdGuVA","RequestId":"0HNIMIU728TRP:00000001","RequestPath":"/hubs/orders","CorrelationId":"96e83cba-a590-4f9b-81f6-532c22f881ba"}
{"@t":"2026-01-18T13:43:31.6423884Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"juQ1GQ3cmX2RSByZ7Sa4sw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"juQ1GQ3cmX2RSByZ7Sa4sw","RequestId":"0HNIMIU728TRO:00000001","RequestPath":"/hubs/orders","CorrelationId":"1aab33e3-8441-409c-b421-c4e01ebd0fe0"}
{"@t":"2026-01-18T13:43:31.7731576Z","@mt":"Client disconnected: {ConnectionId}","@tr":"4fcf3fa8692456b9e8c1b8b9dec60148","@sp":"321cc84db94824c6","ConnectionId":"a_6oIZTD_wJCA1EkRdGuVA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"a_6oIZTD_wJCA1EkRdGuVA","RequestId":"0HNIMIU728TRP:00000001","RequestPath":"/hubs/orders","CorrelationId":"96e83cba-a590-4f9b-81f6-532c22f881ba"}
{"@t":"2026-01-18T13:43:31.7735588Z","@mt":"Client disconnected: {ConnectionId}","@tr":"ba5bcc747e886730e06c57bd2ba6a204","@sp":"21af6462261ce7c8","ConnectionId":"juQ1GQ3cmX2RSByZ7Sa4sw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"juQ1GQ3cmX2RSByZ7Sa4sw","RequestId":"0HNIMIU728TRO:00000001","RequestPath":"/hubs/orders","CorrelationId":"1aab33e3-8441-409c-b421-c4e01ebd0fe0"}
{"@t":"2026-01-18T13:43:31.7894165Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4fcf3fa8692456b9e8c1b8b9dec60148","@sp":"321cc84db94824c6","Method":"GET","Path":"/hubs/orders","Query":"?id=D8LFzsLDXwxd9P_PXgsjGg","StatusCode":101,"Duration":267.5532,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRP:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIU728TRP"}
{"@t":"2026-01-18T13:43:31.7894207Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ba5bcc747e886730e06c57bd2ba6a204","@sp":"21af6462261ce7c8","Method":"GET","Path":"/hubs/orders","Query":"?id=2LyNVXsj0cJ2egJXodhMrA","StatusCode":101,"Duration":266.1354,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRO:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIU728TRO"}
{"@t":"2026-01-18T13:43:32.4021363Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c47324ec51630f561098cf65719e916b","@sp":"7cdf882d65b5584b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:43:32.4020710Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:32.4541381Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c47324ec51630f561098cf65719e916b","@sp":"7cdf882d65b5584b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":51.9055,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:32.5211210Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"71d1f00faac1f03fa91d153132606cb0","@sp":"1d2b194b09c84ec5","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T13:43:32.5209989Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRQ:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIU728TRQ"}
{"@t":"2026-01-18T13:43:32.5250153Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"71d1f00faac1f03fa91d153132606cb0","@sp":"1d2b194b09c84ec5","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":3.9073,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRQ:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMIU728TRQ"}
{"@t":"2026-01-18T13:43:32.5396061Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e70e152a566dda716ac79a190e3f12db","@sp":"0a9947895250ad5e","Method":"GET","Path":"/hubs/orders","Query":"?id=XD8Cqn81d9x8KdyDuhP_gQ","Time":"2026-01-18T13:43:32.5395515Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRR:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMIU728TRR"}
{"@t":"2026-01-18T13:43:32.5585573Z","@mt":"Client connected: {ConnectionId}","@tr":"e70e152a566dda716ac79a190e3f12db","@sp":"0a9947895250ad5e","ConnectionId":"ykvqzKEHDF_3SW-A9jFd1Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ykvqzKEHDF_3SW-A9jFd1Q","RequestId":"0HNIMIU728TRR:00000001","RequestPath":"/hubs/orders","CorrelationId":"d018d9f4-6829-40cc-b824-142b885a02db"}
{"@t":"2026-01-18T13:43:32.5617029Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"ykvqzKEHDF_3SW-A9jFd1Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ykvqzKEHDF_3SW-A9jFd1Q","RequestId":"0HNIMIU728TRR:00000001","RequestPath":"/hubs/orders","CorrelationId":"d018d9f4-6829-40cc-b824-142b885a02db"}
{"@t":"2026-01-18T13:43:38.5876012Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c36b34746b5242b87ae18c32e97b0996","@sp":"48e5b19cf0947b88","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-18T13:43:38.5874529Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:38.7052583Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"c36b34746b5242b87ae18c32e97b0996","@sp":"48e5b19cf0947b88","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"e27780b1-d5b3-4a91-bc9b-224b5309fddd","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.API)","RequestId":"0HNIMIU728TRL:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMIU728TRL","CorrelationId":"76b33dd4-6c88-4aa4-ae15-37b773532d97"}
{"@t":"2026-01-18T13:43:39.0100789Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c36b34746b5242b87ae18c32e97b0996","@sp":"48e5b19cf0947b88","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":422.4462,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:42.7921919Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"79bbd333e0ad8d00781270ffc8ef88cb","@sp":"f0d0f93ad52d523c","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T13:43:42.7919886Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000004","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:42.9450690Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"79bbd333e0ad8d00781270ffc8ef88cb","@sp":"f0d0f93ad52d523c","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":152.896,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000004","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:47.2499838Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8fec9dbe0fb216e664913b58a47a826b","@sp":"d4833827c6df67b2","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T13:43:47.2498342Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000005","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:47.3510890Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8fec9dbe0fb216e664913b58a47a826b","@sp":"d4833827c6df67b2","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":101.1178,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000005","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:50.5316501Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"195ea45db9ae53adb517a0ffee0d2141","@sp":"0aecef3da7669d95","Method":"POST","Path":"/api/admin/orders/8/assign-delivery","Query":"","Time":"2026-01-18T13:43:50.5315391Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000006","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:50.6485527Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"195ea45db9ae53adb517a0ffee0d2141","@sp":"0aecef3da7669d95","DeliveryId":2,"OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"ff4dfee8-6d2c-4748-98c3-42ea1fa85e4e","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMIU728TRL:00000006","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMIU728TRL","CorrelationId":"1078bb8b-c0c0-4feb-9c24-86060f9e7232"}
{"@t":"2026-01-18T13:43:51.3324233Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"195ea45db9ae53adb517a0ffee0d2141","@sp":"0aecef3da7669d95","Method":"POST","Path":"/api/admin/orders/8/assign-delivery","Query":"","StatusCode":200,"Duration":800.7912,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000006","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:52.4841142Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5041939608d98c09da8e871526324475","@sp":"e91b91d21d312f50","Method":"POST","Path":"/api/admin/orders/8/assign-delivery","Query":"","Time":"2026-01-18T13:43:52.4839682Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000007","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:52.4990859Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"5041939608d98c09da8e871526324475","@sp":"e91b91d21d312f50","DeliveryId":2,"OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"ff4dfee8-6d2c-4748-98c3-42ea1fa85e4e","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMIU728TRL:00000007","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMIU728TRL","CorrelationId":"d10f401a-c7bb-4f53-9a56-304543f8f006"}
{"@t":"2026-01-18T13:43:52.5255847Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"5041939608d98c09da8e871526324475","@sp":"e91b91d21d312f50","Method":"POST","Path":"/api/admin/orders/8/assign-delivery","Query":"","StatusCode":400,"Duration":41.4847,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000007","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:53.4248890Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"08802b6bc8b542c4d1ae5b548e336083","@sp":"47a013dba2fbd51f","Method":"POST","Path":"/api/admin/orders/8/assign-delivery","Query":"","Time":"2026-01-18T13:43:53.4244330Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000008","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:53.4405079Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"08802b6bc8b542c4d1ae5b548e336083","@sp":"47a013dba2fbd51f","DeliveryId":2,"OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"ff4dfee8-6d2c-4748-98c3-42ea1fa85e4e","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMIU728TRL:00000008","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMIU728TRL","CorrelationId":"0809088e-e1d5-4333-8a02-bc563c05b448"}
{"@t":"2026-01-18T13:43:53.4639935Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"08802b6bc8b542c4d1ae5b548e336083","@sp":"47a013dba2fbd51f","Method":"POST","Path":"/api/admin/orders/8/assign-delivery","Query":"","StatusCode":400,"Duration":39.3914,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000008","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:54.3752170Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b624f352ad7d5ca0ecc4a0c72b268276","@sp":"e06522c318d421e5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:43:54.3750952Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:43:54.4877741Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b624f352ad7d5ca0ecc4a0c72b268276","@sp":"e06522c318d421e5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":112.5205,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:44:02.6991739Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"532202aa3ab72c6b05300764e54c6fed","@sp":"5d43e4cf3b0b489d","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T13:44:02.6990264Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:44:03.1493071Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:22bd6909-55c3-4ecc-9cf7-86e8876b636e\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"532202aa3ab72c6b05300764e54c6fed","@sp":"5d43e4cf3b0b489d","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:22bd6909-55c3-4ecc-9cf7-86e8876b636e\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"28cb9b2a-2699-4568-b2b0-54e06ec88dd9","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIU728TRL:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIU728TRL","CorrelationId":"ec6308ad-8158-4550-93f9-6e9be66ad1c6"}
{"@t":"2026-01-18T13:44:03.2085814Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:22bd6909-55c3-4ecc-9cf7-86e8876b636e\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 516","@tr":"532202aa3ab72c6b05300764e54c6fed","@sp":"5d43e4cf3b0b489d","OrderId":8,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"28cb9b2a-2699-4568-b2b0-54e06ec88dd9","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIU728TRL:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIU728TRL","CorrelationId":"ec6308ad-8158-4550-93f9-6e9be66ad1c6"}
{"@t":"2026-01-18T13:44:03.2689520Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"532202aa3ab72c6b05300764e54c6fed","@sp":"5d43e4cf3b0b489d","OrderId":8,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"28cb9b2a-2699-4568-b2b0-54e06ec88dd9","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIU728TRL:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIU728TRL","CorrelationId":"ec6308ad-8158-4550-93f9-6e9be66ad1c6"}
{"@t":"2026-01-18T13:44:03.3108237Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fced98575add8a6b0757ddc5270967c0","@sp":"e0e5dbc8b2bcec54","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:44:03.3106171Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRK:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRK"}
{"@t":"2026-01-18T13:44:03.3306302Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"532202aa3ab72c6b05300764e54c6fed","@sp":"5d43e4cf3b0b489d","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-9117DD","Status":"Delivered","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"28cb9b2a-2699-4568-b2b0-54e06ec88dd9","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIU728TRL:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIU728TRL","CorrelationId":"ec6308ad-8158-4550-93f9-6e9be66ad1c6"}
{"@t":"2026-01-18T13:44:03.3485074Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fced98575add8a6b0757ddc5270967c0","@sp":"e0e5dbc8b2bcec54","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":37.7326,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRK:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRK"}
{"@t":"2026-01-18T13:44:03.4500339Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"532202aa3ab72c6b05300764e54c6fed","@sp":"5d43e4cf3b0b489d","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":750.8634,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:0000000A","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:44:05.3492221Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"103ad1da888008e5fa197a39f9436316","@sp":"1a58ef10fc234490","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T13:44:05.3491169Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:0000000B","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:44:05.3670843Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"103ad1da888008e5fa197a39f9436316","@sp":"1a58ef10fc234490","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":17.882,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:0000000B","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:44:06.4748988Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"c55fe2fdd35bf10f7ae0cc9cdbe5f6e3","@sp":"d55a9fa7e95e66ce","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:44:06.4747815Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:44:06.5016080Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"c55fe2fdd35bf10f7ae0cc9cdbe5f6e3","@sp":"d55a9fa7e95e66ce","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":26.6563,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:44:18.0614683Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0e7f93e6b3e553fe4f2c210407e6c052","@sp":"84a53fc2d83abc2d","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T13:44:18.0613360Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:0000000D","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:44:18.0786970Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0e7f93e6b3e553fe4f2c210407e6c052","@sp":"84a53fc2d83abc2d","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":17.1962,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRL:0000000D","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMIU728TRL"}
{"@t":"2026-01-18T13:50:57.1916514Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8c62071e8e363932f8136f7aae847b96","@sp":"d32fbb2b4a5e4b29","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-18T13:50:57.1914507Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRS:00000001","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMIU728TRS"}
{"@t":"2026-01-18T13:50:57.4728044Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8c62071e8e363932f8136f7aae847b96","@sp":"d32fbb2b4a5e4b29","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":281.2646,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRS:00000001","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMIU728TRS"}
{"@t":"2026-01-18T13:51:01.0642764Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8291a91a5af0fb389e42da7d1bc24be8","@sp":"0a085733663ff1a9","Method":"GET","Path":"/api/admin/orders/5","Query":"","Time":"2026-01-18T13:51:01.0641702Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRS:00000002","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMIU728TRS"}
{"@t":"2026-01-18T13:51:01.0836875Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8291a91a5af0fb389e42da7d1bc24be8","@sp":"0a085733663ff1a9","Method":"GET","Path":"/api/admin/orders/5","Query":"","StatusCode":200,"Duration":19.3798,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRS:00000002","RequestPath":"/api/admin/orders/5","ConnectionId":"0HNIMIU728TRS"}
{"@t":"2026-01-18T13:51:03.2578605Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"45d7531dc93641bf34e304b2816d699b","@sp":"b98d8bc092a9f170","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","Time":"2026-01-18T13:51:03.2577614Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRS:00000003","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMIU728TRS"}
{"@t":"2026-01-18T13:51:03.3384676Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:52320417-2213-4b8a-b25d-29620df5ef72\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"45d7531dc93641bf34e304b2816d699b","@sp":"b98d8bc092a9f170","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:52320417-2213-4b8a-b25d-29620df5ef72\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"28cb9b2a-2699-4568-b2b0-54e06ec88dd9","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIU728TRS:00000003","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMIU728TRS","CorrelationId":"15d35832-7940-48e8-b36b-05e84da6e4a8"}
{"@t":"2026-01-18T13:51:03.4055739Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:52320417-2213-4b8a-b25d-29620df5ef72\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 516","@tr":"45d7531dc93641bf34e304b2816d699b","@sp":"b98d8bc092a9f170","OrderId":5,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"28cb9b2a-2699-4568-b2b0-54e06ec88dd9","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIU728TRS:00000003","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMIU728TRS","CorrelationId":"15d35832-7940-48e8-b36b-05e84da6e4a8"}
{"@t":"2026-01-18T13:51:03.4640797Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"45d7531dc93641bf34e304b2816d699b","@sp":"b98d8bc092a9f170","OrderId":5,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"28cb9b2a-2699-4568-b2b0-54e06ec88dd9","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIU728TRS:00000003","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMIU728TRS","CorrelationId":"15d35832-7940-48e8-b36b-05e84da6e4a8"}
{"@t":"2026-01-18T13:51:03.4805614Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"159cf9e3f504682276e5dd8ba10be8ad","@sp":"ac9c7574f27e6b02","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:51:03.4804638Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRT:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRT"}
{"@t":"2026-01-18T13:51:03.4823185Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"45d7531dc93641bf34e304b2816d699b","@sp":"b98d8bc092a9f170","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-6AF3CB","Status":"Delivered","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"28cb9b2a-2699-4568-b2b0-54e06ec88dd9","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMIU728TRS:00000003","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMIU728TRS","CorrelationId":"15d35832-7940-48e8-b36b-05e84da6e4a8"}
{"@t":"2026-01-18T13:51:03.5468539Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"159cf9e3f504682276e5dd8ba10be8ad","@sp":"ac9c7574f27e6b02","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":66.3107,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRT:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRT"}
{"@t":"2026-01-18T13:51:03.6392273Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"45d7531dc93641bf34e304b2816d699b","@sp":"b98d8bc092a9f170","Method":"PUT","Path":"/api/admin/orders/5/status","Query":"","StatusCode":200,"Duration":381.3228,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRS:00000003","RequestPath":"/api/admin/orders/5/status","ConnectionId":"0HNIMIU728TRS"}
{"@t":"2026-01-18T13:51:06.7168811Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"17c2afba1536c022fff1021f4d31f9a3","@sp":"ff201692abe63fc5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:51:06.7167807Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRS:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRS"}
{"@t":"2026-01-18T13:51:06.7386633Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"17c2afba1536c022fff1021f4d31f9a3","@sp":"ff201692abe63fc5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":21.7919,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRS:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRS"}
{"@t":"2026-01-18T13:51:53.5066403Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"00f4db75c5a872c7b2c97b71ad21050d","@sp":"a6149da4a25600f4","Method":"POST","Path":"/api/Orders","Query":"","Time":"2026-01-18T13:51:53.5065633Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRU:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNIMIU728TRU"}
{"@t":"2026-01-18T13:51:55.1235327Z","@mt":"Sending order confirmation to {Email} for order {OrderNumber}, total: {Total}","@tr":"00f4db75c5a872c7b2c97b71ad21050d","@sp":"a6149da4a25600f4","Email":"admin@restaurant.com","OrderNumber":"ORD-20260118-096B27","Total":105.00,"SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"7b9c4753-e59f-4501-a3f6-bbd1332f31de","ActionName":"RestaurantApp.API.Controllers.OrdersController.CreateOrder (RestaurantApp.API)","RequestId":"0HNIMIU728TRU:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNIMIU728TRU","CorrelationId":"c17983a9-d3d1-4290-8cf0-83d7ae1292e0"}
{"@t":"2026-01-18T13:51:55.3354766Z","@mt":"Sending NewOrder notification for {OrderNumber}","@tr":"00f4db75c5a872c7b2c97b71ad21050d","@sp":"a6149da4a25600f4","OrderNumber":"ORD-20260118-096B27","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"7b9c4753-e59f-4501-a3f6-bbd1332f31de","ActionName":"RestaurantApp.API.Controllers.OrdersController.CreateOrder (RestaurantApp.API)","RequestId":"0HNIMIU728TRU:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNIMIU728TRU","CorrelationId":"c17983a9-d3d1-4290-8cf0-83d7ae1292e0"}
{"@t":"2026-01-18T13:51:55.5997105Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"00f4db75c5a872c7b2c97b71ad21050d","@sp":"a6149da4a25600f4","Method":"POST","Path":"/api/Orders","Query":"","StatusCode":201,"Duration":2093.0355,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRU:00000001","RequestPath":"/api/Orders","ConnectionId":"0HNIMIU728TRU"}
{"@t":"2026-01-18T13:51:58.4496153Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2a3d3c6109c515a402e0a5a92c7ca1f5","@sp":"8f4f4e6998858b9e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T13:51:58.4495226Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRS:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRS"}
{"@t":"2026-01-18T13:51:58.5682697Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2a3d3c6109c515a402e0a5a92c7ca1f5","@sp":"8f4f4e6998858b9e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":118.6236,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMIU728TRS:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMIU728TRS"}
{"@t":"2026-01-18T14:04:54.8192964Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T14:04:54.9474321Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T14:04:54.9527394Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T14:04:55.4134693Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T14:04:57.1753618Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:04:57.1818703Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:04:57.1859223Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:04:58.2394078Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:04:58.2460170Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:04:58.2526496Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:04:58.5339121Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T14:04:58.6901348Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T14:05:51.3341468Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3fee186812ec2e7bbc1c37da34753897","@sp":"83d6c18aa7860a54","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:05:51.3264072Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:05:51.3341470Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0424d2bda525d895f6bf6a331bebed5a","@sp":"7caf302ae35e3a09","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:05:51.3263487Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJD:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJD"}
{"@t":"2026-01-18T14:05:51.3897884Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"3fee186812ec2e7bbc1c37da34753897","@sp":"83d6c18aa7860a54","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMJANUIMJE:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE","CorrelationId":"13db12cf-04e2-4532-81f8-292acf5fa7eb"}
{"@t":"2026-01-18T14:05:58.2408922Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0424d2bda525d895f6bf6a331bebed5a","@sp":"7caf302ae35e3a09","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":6913.7734,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJD:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJD"}
{"@t":"2026-01-18T14:05:58.2408827Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3fee186812ec2e7bbc1c37da34753897","@sp":"83d6c18aa7860a54","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":6913.7294,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:05:58.3513187Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"24232942bb3b835aa9ce31ea17f5542c","@sp":"a77950477d9f691a","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:05:58.3512021Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:05:58.6785532Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0424d2bda525d895f6bf6a331bebed5a","@sp":"688c3a8d12890228","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:05:58.6783814Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJG:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJG"}
{"@t":"2026-01-18T14:05:58.6785428Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3fee186812ec2e7bbc1c37da34753897","@sp":"64ba746a44df62c7","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:05:58.6784099Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJF:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJF"}
{"@t":"2026-01-18T14:05:58.7038358Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3fee186812ec2e7bbc1c37da34753897","@sp":"64ba746a44df62c7","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":25.2404,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJF:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJF"}
{"@t":"2026-01-18T14:05:58.7038359Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0424d2bda525d895f6bf6a331bebed5a","@sp":"688c3a8d12890228","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":25.2689,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJG:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJG"}
{"@t":"2026-01-18T14:05:58.7096544Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"24232942bb3b835aa9ce31ea17f5542c","@sp":"a77950477d9f691a","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":358.2924,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:05:58.7446902Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"24232942bb3b835aa9ce31ea17f5542c","@sp":"4ed51f4d75680f0d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:05:58.7445707Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJH:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJH"}
{"@t":"2026-01-18T14:05:58.7463070Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0424d2bda525d895f6bf6a331bebed5a","@sp":"10d86653e8074149","Method":"GET","Path":"/hubs/orders","Query":"?id=ig8dsN3wvD5ghpAxyTw_ew","Time":"2026-01-18T14:05:58.7462153Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJJ:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJANUIMJJ"}
{"@t":"2026-01-18T14:05:58.7463412Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3fee186812ec2e7bbc1c37da34753897","@sp":"2fac6a2a9bc67a15","Method":"GET","Path":"/hubs/orders","Query":"?id=2MZtOmCHO_p-4hFRlBB8Cg","Time":"2026-01-18T14:05:58.7461976Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJI:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJANUIMJI"}
{"@t":"2026-01-18T14:05:58.7527808Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"24232942bb3b835aa9ce31ea17f5542c","@sp":"4ed51f4d75680f0d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":8.1057,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJH:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJH"}
{"@t":"2026-01-18T14:05:58.7577137Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"24232942bb3b835aa9ce31ea17f5542c","@sp":"c7a9e0b4434a0470","Method":"GET","Path":"/hubs/orders","Query":"?id=5tyrWqfxf28naNts0lKqQg","Time":"2026-01-18T14:05:58.7576167Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJK:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJANUIMJK"}
{"@t":"2026-01-18T14:05:58.8561162Z","@mt":"Client connected: {ConnectionId}","@tr":"0424d2bda525d895f6bf6a331bebed5a","@sp":"10d86653e8074149","ConnectionId":"9uz3Y9vMCGgCZHGXVa4VCA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"9uz3Y9vMCGgCZHGXVa4VCA","RequestId":"0HNIMJANUIMJJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"de36a427-f2d6-423e-b94e-3ac4b504814c"}
{"@t":"2026-01-18T14:05:58.8562326Z","@mt":"Client connected: {ConnectionId}","@tr":"3fee186812ec2e7bbc1c37da34753897","@sp":"2fac6a2a9bc67a15","ConnectionId":"KBQOwKrUgnDyX6fT45VMBw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KBQOwKrUgnDyX6fT45VMBw","RequestId":"0HNIMJANUIMJI:00000001","RequestPath":"/hubs/orders","CorrelationId":"da5980ab-ef2d-45fb-a517-e18e78a356b6"}
{"@t":"2026-01-18T14:05:58.8561682Z","@mt":"Client connected: {ConnectionId}","@tr":"24232942bb3b835aa9ce31ea17f5542c","@sp":"c7a9e0b4434a0470","ConnectionId":"8Dd9TB1JYVxoZPBXHnQ6XQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"8Dd9TB1JYVxoZPBXHnQ6XQ","RequestId":"0HNIMJANUIMJK:00000001","RequestPath":"/hubs/orders","CorrelationId":"559df640-29b3-49a5-8a18-a3dd4cc7f6df"}
{"@t":"2026-01-18T14:05:58.9213785Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"KBQOwKrUgnDyX6fT45VMBw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KBQOwKrUgnDyX6fT45VMBw","RequestId":"0HNIMJANUIMJI:00000001","RequestPath":"/hubs/orders","CorrelationId":"da5980ab-ef2d-45fb-a517-e18e78a356b6"}
{"@t":"2026-01-18T14:05:58.9217061Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"9uz3Y9vMCGgCZHGXVa4VCA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"9uz3Y9vMCGgCZHGXVa4VCA","RequestId":"0HNIMJANUIMJJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"de36a427-f2d6-423e-b94e-3ac4b504814c"}
{"@t":"2026-01-18T14:05:58.9217217Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"8Dd9TB1JYVxoZPBXHnQ6XQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"8Dd9TB1JYVxoZPBXHnQ6XQ","RequestId":"0HNIMJANUIMJK:00000001","RequestPath":"/hubs/orders","CorrelationId":"559df640-29b3-49a5-8a18-a3dd4cc7f6df"}
{"@t":"2026-01-18T14:05:59.1169180Z","@mt":"Client disconnected: {ConnectionId}","@tr":"24232942bb3b835aa9ce31ea17f5542c","@sp":"c7a9e0b4434a0470","ConnectionId":"8Dd9TB1JYVxoZPBXHnQ6XQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"8Dd9TB1JYVxoZPBXHnQ6XQ","RequestId":"0HNIMJANUIMJK:00000001","RequestPath":"/hubs/orders","CorrelationId":"559df640-29b3-49a5-8a18-a3dd4cc7f6df"}
{"@t":"2026-01-18T14:05:59.1169216Z","@mt":"Client disconnected: {ConnectionId}","@tr":"0424d2bda525d895f6bf6a331bebed5a","@sp":"10d86653e8074149","ConnectionId":"9uz3Y9vMCGgCZHGXVa4VCA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"9uz3Y9vMCGgCZHGXVa4VCA","RequestId":"0HNIMJANUIMJJ:00000001","RequestPath":"/hubs/orders","CorrelationId":"de36a427-f2d6-423e-b94e-3ac4b504814c"}
{"@t":"2026-01-18T14:05:59.1170196Z","@mt":"Client disconnected: {ConnectionId}","@tr":"3fee186812ec2e7bbc1c37da34753897","@sp":"2fac6a2a9bc67a15","ConnectionId":"KBQOwKrUgnDyX6fT45VMBw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KBQOwKrUgnDyX6fT45VMBw","RequestId":"0HNIMJANUIMJI:00000001","RequestPath":"/hubs/orders","CorrelationId":"da5980ab-ef2d-45fb-a517-e18e78a356b6"}
{"@t":"2026-01-18T14:05:59.1599513Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3fee186812ec2e7bbc1c37da34753897","@sp":"2fac6a2a9bc67a15","Method":"GET","Path":"/hubs/orders","Query":"?id=2MZtOmCHO_p-4hFRlBB8Cg","StatusCode":101,"Duration":413.5902,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJI:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJANUIMJI"}
{"@t":"2026-01-18T14:05:59.1559234Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0424d2bda525d895f6bf6a331bebed5a","@sp":"10d86653e8074149","Method":"GET","Path":"/hubs/orders","Query":"?id=ig8dsN3wvD5ghpAxyTw_ew","StatusCode":101,"Duration":409.5556,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJJ:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJANUIMJJ"}
{"@t":"2026-01-18T14:05:59.1488001Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"24232942bb3b835aa9ce31ea17f5542c","@sp":"c7a9e0b4434a0470","Method":"GET","Path":"/hubs/orders","Query":"?id=5tyrWqfxf28naNts0lKqQg","StatusCode":101,"Duration":391.0261,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJK:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJANUIMJK"}
{"@t":"2026-01-18T14:06:06.9949942Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"512f34a4d71ac8f8b437a092ec0e5b90","@sp":"b221c2bfabdf3570","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:06:06.9947131Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:07.0614044Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"512f34a4d71ac8f8b437a092ec0e5b90","@sp":"b221c2bfabdf3570","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":66.4823,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:07.1571195Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"99a3e0885489f669536d91025c614b80","@sp":"d55bbdc4c4aa90ad","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:06:07.1568592Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJL:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJL"}
{"@t":"2026-01-18T14:06:07.1757687Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"99a3e0885489f669536d91025c614b80","@sp":"d55bbdc4c4aa90ad","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":18.5842,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJL:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJL"}
{"@t":"2026-01-18T14:06:07.1971056Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0f45a0a9f17eb09b094d05dd7bcc5268","@sp":"b6af2b9c41fe68b9","Method":"GET","Path":"/hubs/orders","Query":"?id=NFHpphTIRcQ1IXSmpRWa5g","Time":"2026-01-18T14:06:07.1966611Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJM:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJANUIMJM"}
{"@t":"2026-01-18T14:06:07.2257880Z","@mt":"Client connected: {ConnectionId}","@tr":"0f45a0a9f17eb09b094d05dd7bcc5268","@sp":"b6af2b9c41fe68b9","ConnectionId":"ujVDcZrr1ne88Ct0K_Advw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ujVDcZrr1ne88Ct0K_Advw","RequestId":"0HNIMJANUIMJM:00000001","RequestPath":"/hubs/orders","CorrelationId":"84ef28ca-c851-4ce7-ac68-64e10f56d0d4"}
{"@t":"2026-01-18T14:06:07.2403975Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"ujVDcZrr1ne88Ct0K_Advw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ujVDcZrr1ne88Ct0K_Advw","RequestId":"0HNIMJANUIMJM:00000001","RequestPath":"/hubs/orders","CorrelationId":"84ef28ca-c851-4ce7-ac68-64e10f56d0d4"}
{"@t":"2026-01-18T14:06:17.6378938Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1917458cd04c7a9bd2cb0ffea1c2db9e","@sp":"7d70bb6d37ab782c","Method":"GET","Path":"/api/admin/orders/6","Query":"","Time":"2026-01-18T14:06:17.6377790Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000004","RequestPath":"/api/admin/orders/6","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:17.7739044Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"1917458cd04c7a9bd2cb0ffea1c2db9e","@sp":"7d70bb6d37ab782c","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"40a4006f-542c-4af1-8c4d-7920673fdc90","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.Api)","RequestId":"0HNIMJANUIMJE:00000004","RequestPath":"/api/admin/orders/6","ConnectionId":"0HNIMJANUIMJE","CorrelationId":"7cd623c7-2268-4fa9-ba92-f24fdf250fa7"}
{"@t":"2026-01-18T14:06:18.0026161Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1917458cd04c7a9bd2cb0ffea1c2db9e","@sp":"7d70bb6d37ab782c","Method":"GET","Path":"/api/admin/orders/6","Query":"","StatusCode":200,"Duration":364.718,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000004","RequestPath":"/api/admin/orders/6","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:20.0936249Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"819f1fb52fb7d7ae368b9bc0ddae057c","@sp":"dd0e00b0fb1a8119","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","Time":"2026-01-18T14:06:20.0935065Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000005","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:20.2667672Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"819f1fb52fb7d7ae368b9bc0ddae057c","@sp":"dd0e00b0fb1a8119","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","StatusCode":200,"Duration":173.1854,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000005","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:21.3233331Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7790144d3a1d5348c3e9d449089c9595","@sp":"4427e3431e34816b","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T14:06:21.3232229Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000006","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:21.4289474Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7790144d3a1d5348c3e9d449089c9595","@sp":"4427e3431e34816b","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":105.6376,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000006","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:23.3038900Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2677cfd09d153243f96e12765efe22fc","@sp":"a7d94fb16e6ed457","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:06:23.3037689Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:23.3324889Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2677cfd09d153243f96e12765efe22fc","@sp":"a7d94fb16e6ed457","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":28.5998,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:24.8152851Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1c63e061ec08c0cb9cf365219536f6a0","@sp":"67ae219994af20aa","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","Time":"2026-01-18T14:06:24.8151815Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000008","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:24.8404642Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1c63e061ec08c0cb9cf365219536f6a0","@sp":"67ae219994af20aa","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","StatusCode":200,"Duration":24.9833,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000008","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:25.4968179Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"24ec70ee4e82c3926fb995f49772af29","@sp":"677500be11955746","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","Time":"2026-01-18T14:06:25.4966448Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000009","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:25.5150680Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"24ec70ee4e82c3926fb995f49772af29","@sp":"677500be11955746","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","StatusCode":200,"Duration":18.3107,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000009","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:25.6896910Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e65955053470a0db6180543946d399fe","@sp":"b937aead272c0d06","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","Time":"2026-01-18T14:06:25.6895906Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000A","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:25.7166770Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e65955053470a0db6180543946d399fe","@sp":"b937aead272c0d06","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","StatusCode":200,"Duration":26.9091,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000A","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:25.9097846Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f775dff8a7e39b42fa9130e75eb4bf87","@sp":"a5c3e06d44454c78","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","Time":"2026-01-18T14:06:25.9096739Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000B","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:25.9309386Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f775dff8a7e39b42fa9130e75eb4bf87","@sp":"a5c3e06d44454c78","Method":"PUT","Path":"/api/admin/orders/6/status","Query":"","StatusCode":200,"Duration":21.1557,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000B","RequestPath":"/api/admin/orders/6/status","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:27.8760696Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0dedaf737e58f49c46841291c470af8a","@sp":"ece26dde51f357ab","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:06:27.8759800Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:27.9067389Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0dedaf737e58f49c46841291c470af8a","@sp":"ece26dde51f357ab","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":30.6653,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:28.5441248Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"232f5a99951af53cf53980d69237007c","@sp":"8745553a4ab1ed9d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:06:28.5440033Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:28.5819380Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"232f5a99951af53cf53980d69237007c","@sp":"8745553a4ab1ed9d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":37.7972,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:28.7604294Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6efbb3641d2ff17e60a6d8c309a9dde4","@sp":"7ce9f80ec829f276","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:06:28.7603393Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:28.7778339Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6efbb3641d2ff17e60a6d8c309a9dde4","@sp":"7ce9f80ec829f276","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":17.404,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:28.9907617Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"52058b66240d72632d459c10d1c7415c","@sp":"f0fde9bcb25c1753","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:06:28.9906565Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000F","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:29.0123731Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"52058b66240d72632d459c10d1c7415c","@sp":"f0fde9bcb25c1753","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":21.6229,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:0000000F","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:42.7497113Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9a90f1d723085a2758e32aac25b24f27","@sp":"d59ba6908f54fd74","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T14:06:42.7495968Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000010","RequestPath":"/api/deliveries","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:42.9214766Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"9a90f1d723085a2758e32aac25b24f27","@sp":"d59ba6908f54fd74","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":401,"Duration":171.6618,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000010","RequestPath":"/api/deliveries","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:43.0193833Z","@mt":"Client disconnected: {ConnectionId}","@tr":"0f45a0a9f17eb09b094d05dd7bcc5268","@sp":"b6af2b9c41fe68b9","ConnectionId":"ujVDcZrr1ne88Ct0K_Advw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ujVDcZrr1ne88Ct0K_Advw","RequestId":"0HNIMJANUIMJM:00000001","RequestPath":"/hubs/orders","CorrelationId":"84ef28ca-c851-4ce7-ac68-64e10f56d0d4"}
{"@t":"2026-01-18T14:06:43.0258689Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0f45a0a9f17eb09b094d05dd7bcc5268","@sp":"b6af2b9c41fe68b9","Method":"GET","Path":"/hubs/orders","Query":"?id=NFHpphTIRcQ1IXSmpRWa5g","StatusCode":101,"Duration":35829.0334,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJM:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJANUIMJM"}
{"@t":"2026-01-18T14:06:43.0295223Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e54550259063771a7bbc5f5d5f480fb2","@sp":"a8c25f810230707e","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T14:06:43.0292049Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000011","RequestPath":"/api/deliveries","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:06:43.1442784Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e54550259063771a7bbc5f5d5f480fb2","@sp":"a8c25f810230707e","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":200,"Duration":114.931,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJE:00000011","RequestPath":"/api/deliveries","ConnectionId":"0HNIMJANUIMJE"}
{"@t":"2026-01-18T14:08:01.1220041Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b0599fa1d22306f59180f8139fbf68e6","@sp":"7e9cf142d00dde39","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:08:01.1218628Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJN:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJN"}
{"@t":"2026-01-18T14:08:01.1501052Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b0599fa1d22306f59180f8139fbf68e6","@sp":"7e9cf142d00dde39","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":28.1322,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJN:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJN"}
{"@t":"2026-01-18T14:08:01.1859239Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b0599fa1d22306f59180f8139fbf68e6","@sp":"5f09dd72862c56e1","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:08:01.1856798Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJO:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJO"}
{"@t":"2026-01-18T14:08:01.2011607Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b0599fa1d22306f59180f8139fbf68e6","@sp":"5f09dd72862c56e1","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":15.2736,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJO:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJO"}
{"@t":"2026-01-18T14:08:01.2187160Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b0599fa1d22306f59180f8139fbf68e6","@sp":"6c1eabb1c94bece8","Method":"GET","Path":"/hubs/orders","Query":"?id=40BeTTGmos5eR73KjH-AnQ","Time":"2026-01-18T14:08:01.2185772Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJP:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJANUIMJP"}
{"@t":"2026-01-18T14:08:01.2399359Z","@mt":"Client connected: {ConnectionId}","@tr":"b0599fa1d22306f59180f8139fbf68e6","@sp":"6c1eabb1c94bece8","ConnectionId":"KMzooqdjTIvu_28zgbVyKQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KMzooqdjTIvu_28zgbVyKQ","RequestId":"0HNIMJANUIMJP:00000001","RequestPath":"/hubs/orders","CorrelationId":"d133233c-6cd5-4598-ba7c-af0a95a61b90"}
{"@t":"2026-01-18T14:08:01.2532820Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"KMzooqdjTIvu_28zgbVyKQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KMzooqdjTIvu_28zgbVyKQ","RequestId":"0HNIMJANUIMJP:00000001","RequestPath":"/hubs/orders","CorrelationId":"d133233c-6cd5-4598-ba7c-af0a95a61b90"}
{"@t":"2026-01-18T14:08:01.2793849Z","@mt":"Client disconnected: {ConnectionId}","@tr":"b0599fa1d22306f59180f8139fbf68e6","@sp":"6c1eabb1c94bece8","ConnectionId":"KMzooqdjTIvu_28zgbVyKQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KMzooqdjTIvu_28zgbVyKQ","RequestId":"0HNIMJANUIMJP:00000001","RequestPath":"/hubs/orders","CorrelationId":"d133233c-6cd5-4598-ba7c-af0a95a61b90"}
{"@t":"2026-01-18T14:08:01.2896601Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b0599fa1d22306f59180f8139fbf68e6","@sp":"6c1eabb1c94bece8","Method":"GET","Path":"/hubs/orders","Query":"?id=40BeTTGmos5eR73KjH-AnQ","StatusCode":101,"Duration":70.9112,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJP:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJANUIMJP"}
{"@t":"2026-01-18T14:08:01.3610344Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d69ffc16b2486f2ba567540a1d2d7519","@sp":"bb69d3af03b7e226","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:08:01.3609361Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJQ:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJQ"}
{"@t":"2026-01-18T14:08:01.3885243Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d69ffc16b2486f2ba567540a1d2d7519","@sp":"bb69d3af03b7e226","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":27.4791,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJQ:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJANUIMJQ"}
{"@t":"2026-01-18T14:08:01.4279160Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8117410757db1d1e46b79e64f510e602","@sp":"c22f467ed54679ad","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:08:01.4278005Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJR:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJR"}
{"@t":"2026-01-18T14:08:01.4446616Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8117410757db1d1e46b79e64f510e602","@sp":"c22f467ed54679ad","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":16.615,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJR:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJANUIMJR"}
{"@t":"2026-01-18T14:08:01.4594879Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4499079aaf25f2a5b63c0b31bf9a3f64","@sp":"5281307bc1f0cc57","Method":"GET","Path":"/hubs/orders","Query":"?id=KR5Pljj2c0QeQcH6LSO2Cw","Time":"2026-01-18T14:08:01.4592668Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJANUIMJS:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJANUIMJS"}
{"@t":"2026-01-18T14:08:01.4868954Z","@mt":"Client connected: {ConnectionId}","@tr":"4499079aaf25f2a5b63c0b31bf9a3f64","@sp":"5281307bc1f0cc57","ConnectionId":"kjkv5PihkfBvk1imRLSrkw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"kjkv5PihkfBvk1imRLSrkw","RequestId":"0HNIMJANUIMJS:00000001","RequestPath":"/hubs/orders","CorrelationId":"1e1b8e34-7047-451e-9fd1-ad031d3f85f7"}
{"@t":"2026-01-18T14:08:01.5031614Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"kjkv5PihkfBvk1imRLSrkw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"kjkv5PihkfBvk1imRLSrkw","RequestId":"0HNIMJANUIMJS:00000001","RequestPath":"/hubs/orders","CorrelationId":"1e1b8e34-7047-451e-9fd1-ad031d3f85f7"}
{"@t":"2026-01-18T14:14:36.9667020Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T14:14:37.0542759Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T14:14:37.0564813Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T14:14:37.4192110Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T14:14:39.9676343Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:14:39.9723704Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:14:39.9759153Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:14:41.0154159Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:14:41.0189855Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:14:41.0223976Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:14:41.2354050Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T14:14:41.4252015Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T14:15:23.1416039Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8422d1d40916fdef8c2ca7a158449924","@sp":"d3c8b44229b9adb8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:15:23.1349176Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:15:23.1762679Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"8422d1d40916fdef8c2ca7a158449924","@sp":"d3c8b44229b9adb8","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMJG2APS8I:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"f3a77e89-5adf-4153-bdd7-6e4daf96b719"}
{"@t":"2026-01-18T14:15:28.4893886Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8422d1d40916fdef8c2ca7a158449924","@sp":"d3c8b44229b9adb8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":5353.8972,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:15:28.8047654Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8422d1d40916fdef8c2ca7a158449924","@sp":"5c8ea4342522b9f1","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:15:28.8046107Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8J:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJG2APS8J"}
{"@t":"2026-01-18T14:15:28.8294297Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8422d1d40916fdef8c2ca7a158449924","@sp":"5c8ea4342522b9f1","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":24.5858,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8J:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJG2APS8J"}
{"@t":"2026-01-18T14:15:28.8509350Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8422d1d40916fdef8c2ca7a158449924","@sp":"6ac2b6b1134d516f","Method":"GET","Path":"/hubs/orders","Query":"?id=V8h3AcUpo03L3SBwPF7img","Time":"2026-01-18T14:15:28.8508767Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8K:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJG2APS8K"}
{"@t":"2026-01-18T14:15:28.9877776Z","@mt":"Client connected: {ConnectionId}","@tr":"8422d1d40916fdef8c2ca7a158449924","@sp":"6ac2b6b1134d516f","ConnectionId":"SGIYLBoC9n8uNtXINQSjJA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"SGIYLBoC9n8uNtXINQSjJA","RequestId":"0HNIMJG2APS8K:00000001","RequestPath":"/hubs/orders","CorrelationId":"cb2d73ca-06b1-43d1-aa64-5d13d4bb676f"}
{"@t":"2026-01-18T14:15:29.0561004Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"SGIYLBoC9n8uNtXINQSjJA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"SGIYLBoC9n8uNtXINQSjJA","RequestId":"0HNIMJG2APS8K:00000001","RequestPath":"/hubs/orders","CorrelationId":"cb2d73ca-06b1-43d1-aa64-5d13d4bb676f"}
{"@t":"2026-01-18T14:15:29.1670459Z","@mt":"Client disconnected: {ConnectionId}","@tr":"8422d1d40916fdef8c2ca7a158449924","@sp":"6ac2b6b1134d516f","ConnectionId":"SGIYLBoC9n8uNtXINQSjJA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"SGIYLBoC9n8uNtXINQSjJA","RequestId":"0HNIMJG2APS8K:00000001","RequestPath":"/hubs/orders","CorrelationId":"cb2d73ca-06b1-43d1-aa64-5d13d4bb676f"}
{"@t":"2026-01-18T14:15:29.1824617Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8422d1d40916fdef8c2ca7a158449924","@sp":"6ac2b6b1134d516f","Method":"GET","Path":"/hubs/orders","Query":"?id=V8h3AcUpo03L3SBwPF7img","StatusCode":101,"Duration":331.4851,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8K:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJG2APS8K"}
{"@t":"2026-01-18T14:15:29.6640170Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d0f5980ae881282048b5bea15a1d5953","@sp":"835b2caebfd2fa36","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:15:29.6639473Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:15:30.0709464Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d0f5980ae881282048b5bea15a1d5953","@sp":"835b2caebfd2fa36","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":406.9239,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:15:30.2313054Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"52b5c8b130a4bc513540a529c21fdb40","@sp":"897e825c8e276b07","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:15:30.2311971Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8L:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJG2APS8L"}
{"@t":"2026-01-18T14:15:30.2415815Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"52b5c8b130a4bc513540a529c21fdb40","@sp":"897e825c8e276b07","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":10.2631,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8L:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJG2APS8L"}
{"@t":"2026-01-18T14:15:30.2623544Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"08b9b95b0641ec904f165a64df614ef2","@sp":"3b96f8f688540102","Method":"GET","Path":"/hubs/orders","Query":"?id=3Wl5O-AuwbMgvoc7NJmWmg","Time":"2026-01-18T14:15:30.2621965Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8M:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJG2APS8M"}
{"@t":"2026-01-18T14:15:30.2735099Z","@mt":"Client connected: {ConnectionId}","@tr":"08b9b95b0641ec904f165a64df614ef2","@sp":"3b96f8f688540102","ConnectionId":"Xl7EH0L6r8AdKpU5F6wyLQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Xl7EH0L6r8AdKpU5F6wyLQ","RequestId":"0HNIMJG2APS8M:00000001","RequestPath":"/hubs/orders","CorrelationId":"d305c5c2-c362-490f-8859-aa17d27ded06"}
{"@t":"2026-01-18T14:15:30.2754371Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"Xl7EH0L6r8AdKpU5F6wyLQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Xl7EH0L6r8AdKpU5F6wyLQ","RequestId":"0HNIMJG2APS8M:00000001","RequestPath":"/hubs/orders","CorrelationId":"d305c5c2-c362-490f-8859-aa17d27ded06"}
{"@t":"2026-01-18T14:16:14.6499581Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"495357aa71382cf7a0a5871d676ed375","@sp":"40d3abf494dcc2a8","Method":"GET","Path":"/api/admin/orders/3","Query":"","Time":"2026-01-18T14:16:14.6498258Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000003","RequestPath":"/api/admin/orders/3","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:14.8426565Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"495357aa71382cf7a0a5871d676ed375","@sp":"40d3abf494dcc2a8","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"cc754bac-3e89-4678-8657-ee058e638b90","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.API)","RequestId":"0HNIMJG2APS8I:00000003","RequestPath":"/api/admin/orders/3","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"6d726289-1e75-4b7b-9bff-c94cd32d47f1"}
{"@t":"2026-01-18T14:16:15.3056461Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"495357aa71382cf7a0a5871d676ed375","@sp":"40d3abf494dcc2a8","Method":"GET","Path":"/api/admin/orders/3","Query":"","StatusCode":200,"Duration":655.6746,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000003","RequestPath":"/api/admin/orders/3","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:19.4042839Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f491d9f00d9b83c767e3b2b1207fea4a","@sp":"d1c4172d74cc65c9","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","Time":"2026-01-18T14:16:19.4042066Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000004","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:20.2711511Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:f004fdc9-9ea7-43f5-855c-615ad8ca0d6f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"f491d9f00d9b83c767e3b2b1207fea4a","@sp":"d1c4172d74cc65c9","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:f004fdc9-9ea7-43f5-855c-615ad8ca0d6f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"9c425fb6-9ac1-4a26-aa18-85a52eefb9d3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMJG2APS8I:00000004","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"a932d41f-4cc2-48f5-a7d6-242e31b60240"}
{"@t":"2026-01-18T14:16:20.3790126Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:f004fdc9-9ea7-43f5-855c-615ad8ca0d6f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 520","@tr":"f491d9f00d9b83c767e3b2b1207fea4a","@sp":"d1c4172d74cc65c9","OrderId":3,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"9c425fb6-9ac1-4a26-aa18-85a52eefb9d3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMJG2APS8I:00000004","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"a932d41f-4cc2-48f5-a7d6-242e31b60240"}
{"@t":"2026-01-18T14:16:20.5089062Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"f491d9f00d9b83c767e3b2b1207fea4a","@sp":"d1c4172d74cc65c9","OrderId":3,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"9c425fb6-9ac1-4a26-aa18-85a52eefb9d3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMJG2APS8I:00000004","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"a932d41f-4cc2-48f5-a7d6-242e31b60240"}
{"@t":"2026-01-18T14:16:20.5347451Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7a17cb7b4d5b5d6ddd42653a1c539d1e","@sp":"306a8798ef9656d5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:16:20.5346607Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8N:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8N"}
{"@t":"2026-01-18T14:16:20.5467461Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"f491d9f00d9b83c767e3b2b1207fea4a","@sp":"d1c4172d74cc65c9","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-786901","Status":"Delivered","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"9c425fb6-9ac1-4a26-aa18-85a52eefb9d3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMJG2APS8I:00000004","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"a932d41f-4cc2-48f5-a7d6-242e31b60240"}
{"@t":"2026-01-18T14:16:20.5819709Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7a17cb7b4d5b5d6ddd42653a1c539d1e","@sp":"306a8798ef9656d5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":47.2136,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8N:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8N"}
{"@t":"2026-01-18T14:16:20.6715468Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f491d9f00d9b83c767e3b2b1207fea4a","@sp":"d1c4172d74cc65c9","Method":"PUT","Path":"/api/admin/orders/3/status","Query":"","StatusCode":200,"Duration":1267.2162,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000004","RequestPath":"/api/admin/orders/3/status","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:23.7111679Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"35c5268231b5bba38604712af3a0df6e","@sp":"605d344eff2d076d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:16:23.7109928Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:23.7768537Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"35c5268231b5bba38604712af3a0df6e","@sp":"605d344eff2d076d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":65.783,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:27.6304646Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"564915505b49a8707cf6419b766d4739","@sp":"2d5e852fc80f7fdb","Method":"GET","Path":"/api/admin/orders/9","Query":"","Time":"2026-01-18T14:16:27.6303228Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000006","RequestPath":"/api/admin/orders/9","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:27.7544019Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"564915505b49a8707cf6419b766d4739","@sp":"2d5e852fc80f7fdb","Method":"GET","Path":"/api/admin/orders/9","Query":"","StatusCode":200,"Duration":123.8805,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000006","RequestPath":"/api/admin/orders/9","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:30.2461038Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"85814c84fc71523764b86d274fc55835","@sp":"7aa492f38d890911","Method":"PUT","Path":"/api/admin/orders/9/status","Query":"","Time":"2026-01-18T14:16:30.2459879Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000007","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:30.3154129Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:f004fdc9-9ea7-43f5-855c-615ad8ca0d6f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"85814c84fc71523764b86d274fc55835","@sp":"7aa492f38d890911","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:f004fdc9-9ea7-43f5-855c-615ad8ca0d6f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"9c425fb6-9ac1-4a26-aa18-85a52eefb9d3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMJG2APS8I:00000007","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"443f3dfa-512d-4e31-b800-805a3a321b27"}
{"@t":"2026-01-18T14:16:30.3739033Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:f004fdc9-9ea7-43f5-855c-615ad8ca0d6f\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 520","@tr":"85814c84fc71523764b86d274fc55835","@sp":"7aa492f38d890911","OrderId":9,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"9c425fb6-9ac1-4a26-aa18-85a52eefb9d3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMJG2APS8I:00000007","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"443f3dfa-512d-4e31-b800-805a3a321b27"}
{"@t":"2026-01-18T14:16:30.4242063Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"85814c84fc71523764b86d274fc55835","@sp":"7aa492f38d890911","OrderId":9,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"9c425fb6-9ac1-4a26-aa18-85a52eefb9d3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMJG2APS8I:00000007","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"443f3dfa-512d-4e31-b800-805a3a321b27"}
{"@t":"2026-01-18T14:16:30.4336969Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"74b1ef5177070aff7984ecd388c16d4a","@sp":"441cd347460ecce9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:16:30.4336167Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8N:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8N"}
{"@t":"2026-01-18T14:16:30.4375185Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"85814c84fc71523764b86d274fc55835","@sp":"7aa492f38d890911","Email":"admin@restaurant.com","OrderNumber":"ORD-20260118-096B27","Status":"Delivered","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"9c425fb6-9ac1-4a26-aa18-85a52eefb9d3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMJG2APS8I:00000007","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"443f3dfa-512d-4e31-b800-805a3a321b27"}
{"@t":"2026-01-18T14:16:30.4803431Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"74b1ef5177070aff7984ecd388c16d4a","@sp":"441cd347460ecce9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":46.6341,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8N:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8N"}
{"@t":"2026-01-18T14:16:30.5466216Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"85814c84fc71523764b86d274fc55835","@sp":"7aa492f38d890911","Method":"PUT","Path":"/api/admin/orders/9/status","Query":"","StatusCode":200,"Duration":300.5156,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000007","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:31.9739062Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d91f52756899b64df12af6f5eb0756f6","@sp":"7ff064a76623f44d","Method":"PUT","Path":"/api/admin/orders/9/status","Query":"","Time":"2026-01-18T14:16:31.9738404Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000008","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:31.9952895Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"d91f52756899b64df12af6f5eb0756f6","@sp":"7ff064a76623f44d","OrderId":9,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"9c425fb6-9ac1-4a26-aa18-85a52eefb9d3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMJG2APS8I:00000008","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"6f905828-72d0-4b69-9fea-91003777793d"}
{"@t":"2026-01-18T14:16:32.0028717Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"d91f52756899b64df12af6f5eb0756f6","@sp":"7ff064a76623f44d","Email":"admin@restaurant.com","OrderNumber":"ORD-20260118-096B27","Status":"Confirmed","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"9c425fb6-9ac1-4a26-aa18-85a52eefb9d3","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.API)","RequestId":"0HNIMJG2APS8I:00000008","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMJG2APS8I","CorrelationId":"6f905828-72d0-4b69-9fea-91003777793d"}
{"@t":"2026-01-18T14:16:32.1225668Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d91f52756899b64df12af6f5eb0756f6","@sp":"7ff064a76623f44d","Method":"PUT","Path":"/api/admin/orders/9/status","Query":"","StatusCode":200,"Duration":148.6336,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000008","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:33.5213015Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"353208ff49eeb3c5c67656d77334c76a","@sp":"f599ad05e676ac6e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:16:33.5212041Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:33.5603609Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"353208ff49eeb3c5c67656d77334c76a","@sp":"f599ad05e676ac6e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":39.0833,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:00000009","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:33.5702052Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a8ec2b625594a2cfd481f43c8607a6b8","@sp":"f0f1897823b42acc","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:16:33.5701393Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:33.5842310Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a8ec2b625594a2cfd481f43c8607a6b8","@sp":"f0f1897823b42acc","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":13.9104,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:35.1713259Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"11fe0a7569663a7d6e85db6749a55f93","@sp":"de68f051c8cf3541","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:16:35.1712600Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:35.1904217Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"11fe0a7569663a7d6e85db6749a55f93","@sp":"de68f051c8cf3541","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":19.0335,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:36.4843395Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ac1d73a588a0e54d4a64326253f2d9ef","@sp":"15f7f6eae8f5b044","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:16:36.4842605Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:36.5161831Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ac1d73a588a0e54d4a64326253f2d9ef","@sp":"15f7f6eae8f5b044","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":31.5755,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:36.5395305Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ac1d73a588a0e54d4a64326253f2d9ef","@sp":"2fe8f732774dfffa","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:16:36.5394814Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8O:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJG2APS8O"}
{"@t":"2026-01-18T14:16:36.5439701Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ac1d73a588a0e54d4a64326253f2d9ef","@sp":"2fe8f732774dfffa","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":4.432,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8O:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJG2APS8O"}
{"@t":"2026-01-18T14:16:36.5471654Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ac1d73a588a0e54d4a64326253f2d9ef","@sp":"9287da6a057a33e5","Method":"GET","Path":"/hubs/orders","Query":"?id=bjURvPTsiX5eZBGDOWFaTg","Time":"2026-01-18T14:16:36.5471054Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8P:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJG2APS8P"}
{"@t":"2026-01-18T14:16:36.5655888Z","@mt":"Client connected: {ConnectionId}","@tr":"ac1d73a588a0e54d4a64326253f2d9ef","@sp":"9287da6a057a33e5","ConnectionId":"KQkPznFFyFseXmtd08eefw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KQkPznFFyFseXmtd08eefw","RequestId":"0HNIMJG2APS8P:00000001","RequestPath":"/hubs/orders","CorrelationId":"2e9c9026-7a51-4b60-b28e-8ac4d04c2438"}
{"@t":"2026-01-18T14:16:36.5936793Z","@mt":"Client disconnected: {ConnectionId}","@tr":"ac1d73a588a0e54d4a64326253f2d9ef","@sp":"9287da6a057a33e5","ConnectionId":"KQkPznFFyFseXmtd08eefw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"KQkPznFFyFseXmtd08eefw","RequestId":"0HNIMJG2APS8P:00000001","RequestPath":"/hubs/orders","CorrelationId":"2e9c9026-7a51-4b60-b28e-8ac4d04c2438"}
{"@t":"2026-01-18T14:16:36.6069004Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ac1d73a588a0e54d4a64326253f2d9ef","@sp":"9287da6a057a33e5","Method":"GET","Path":"/hubs/orders","Query":"?id=bjURvPTsiX5eZBGDOWFaTg","StatusCode":101,"Duration":59.7423,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8P:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJG2APS8P"}
{"@t":"2026-01-18T14:16:36.6298792Z","@mt":"Client disconnected: {ConnectionId}","@tr":"08b9b95b0641ec904f165a64df614ef2","@sp":"3b96f8f688540102","ConnectionId":"Xl7EH0L6r8AdKpU5F6wyLQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Xl7EH0L6r8AdKpU5F6wyLQ","RequestId":"0HNIMJG2APS8M:00000001","RequestPath":"/hubs/orders","CorrelationId":"d305c5c2-c362-490f-8859-aa17d27ded06"}
{"@t":"2026-01-18T14:16:36.6416832Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"08b9b95b0641ec904f165a64df614ef2","@sp":"3b96f8f688540102","Method":"GET","Path":"/hubs/orders","Query":"?id=3Wl5O-AuwbMgvoc7NJmWmg","StatusCode":101,"Duration":66379.0193,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8M:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJG2APS8M"}
{"@t":"2026-01-18T14:16:36.6429486Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a87c6a2ca93747ab634a57d48fcfe98f","@sp":"909e40b049327be2","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:16:36.6428838Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:36.7391442Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a87c6a2ca93747ab634a57d48fcfe98f","@sp":"909e40b049327be2","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":95.8948,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:0000000D","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:16:36.7504411Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"df93b5fcd374c1b2a4638fba181eeba4","@sp":"2b68726229b335a2","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:16:36.7503740Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8Q:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJG2APS8Q"}
{"@t":"2026-01-18T14:16:36.7548256Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"df93b5fcd374c1b2a4638fba181eeba4","@sp":"2b68726229b335a2","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":4.3778,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8Q:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJG2APS8Q"}
{"@t":"2026-01-18T14:16:36.8032767Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5a573c705c8e1163df0fbb322296e81a","@sp":"4d5dd1f84369b535","Method":"GET","Path":"/hubs/orders","Query":"?id=ZEIx7krJ_EnrNij3_x6rug","Time":"2026-01-18T14:16:36.8030923Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8R:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJG2APS8R"}
{"@t":"2026-01-18T14:16:36.8608215Z","@mt":"Client connected: {ConnectionId}","@tr":"5a573c705c8e1163df0fbb322296e81a","@sp":"4d5dd1f84369b535","ConnectionId":"l32ALMzIyFilOu8A0MaxuA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"l32ALMzIyFilOu8A0MaxuA","RequestId":"0HNIMJG2APS8R:00000001","RequestPath":"/hubs/orders","CorrelationId":"fd772dae-d1b9-4644-b0f0-b061be30f291"}
{"@t":"2026-01-18T14:17:06.8873539Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"abd79ea7abd38632083574d6a0c90118","@sp":"670742accdbcd477","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:17:06.8872395Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:17:06.9167106Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"abd79ea7abd38632083574d6a0c90118","@sp":"670742accdbcd477","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":29.4155,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8I:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8I"}
{"@t":"2026-01-18T14:17:36.9409545Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"06e92bea776277025e0db4339ef5ca5f","@sp":"062a7d77723e4c5b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:17:36.9408516Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8N:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8N"}
{"@t":"2026-01-18T14:17:37.0166412Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"06e92bea776277025e0db4339ef5ca5f","@sp":"062a7d77723e4c5b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":75.6221,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8N:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8N"}
{"@t":"2026-01-18T14:18:07.0446176Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e88cb9f6e156ea6e5af4f455399bbc26","@sp":"42f06e5bb6807208","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:18:07.0445407Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8N:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8N"}
{"@t":"2026-01-18T14:18:07.1029917Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e88cb9f6e156ea6e5af4f455399bbc26","@sp":"42f06e5bb6807208","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":58.3352,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8N:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8N"}
{"@t":"2026-01-18T14:18:37.1200413Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0b94f84e211be138f8316aa135d699ca","@sp":"3d03356eacd88f10","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:18:37.1199967Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8S:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8S"}
{"@t":"2026-01-18T14:18:37.1616988Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0b94f84e211be138f8316aa135d699ca","@sp":"3d03356eacd88f10","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":41.6339,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8S:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8S"}
{"@t":"2026-01-18T14:19:07.1741889Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9c7768274276cb611b3a10661a7a77bd","@sp":"42ce9bcbcadafb30","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:19:07.1741077Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8S:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8S"}
{"@t":"2026-01-18T14:19:07.2145543Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9c7768274276cb611b3a10661a7a77bd","@sp":"42ce9bcbcadafb30","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":40.403,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJG2APS8S:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJG2APS8S"}
{"@t":"2026-01-18T14:24:11.4866091Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T14:24:11.5588315Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T14:24:11.5612199Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T14:24:12.1386761Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T14:24:14.5877187Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:24:14.5929729Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:24:14.5969330Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:24:15.8452381Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:24:15.8486450Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:24:15.8523830Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:24:16.1579583Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T14:24:16.3632411Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T14:24:47.8204979Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0bfea1517b1f7d2a9d4e39a2d82a5abc","@sp":"a8310b0f99ee0b35","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:24:47.8141535Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHT:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHT"}
{"@t":"2026-01-18T14:24:48.1181683Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"0bfea1517b1f7d2a9d4e39a2d82a5abc","@sp":"a8310b0f99ee0b35","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMJLAE1NHT:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHT","CorrelationId":"e7c7028f-1d9c-4389-9b13-0c5335f4b91b"}
{"@t":"2026-01-18T14:24:59.7313051Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0bfea1517b1f7d2a9d4e39a2d82a5abc","@sp":"a8310b0f99ee0b35","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":11916.7625,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHT:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHT"}
{"@t":"2026-01-18T14:25:29.8692853Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5932450498727b1a9014cd66d000755b","@sp":"fd7e76449c35b834","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:25:29.8691300Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHT:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHT"}
{"@t":"2026-01-18T14:25:30.1185112Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5932450498727b1a9014cd66d000755b","@sp":"fd7e76449c35b834","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":249.1815,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHT:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHT"}
{"@t":"2026-01-18T14:26:00.1491579Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"45eab835116a6640ff94ac59fb9d6e24","@sp":"7dfdd49a76b066b5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:26:00.1490137Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHT:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHT"}
{"@t":"2026-01-18T14:26:00.3895630Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"45eab835116a6640ff94ac59fb9d6e24","@sp":"7dfdd49a76b066b5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":240.4272,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHT:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHT"}
{"@t":"2026-01-18T14:26:30.4255633Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dc9cca7a0bc239f8d82cbb908ae6c9f1","@sp":"f11ba58e310cfcc6","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:26:30.4253973Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHT:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHT"}
{"@t":"2026-01-18T14:26:30.5128776Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dc9cca7a0bc239f8d82cbb908ae6c9f1","@sp":"f11ba58e310cfcc6","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":87.2945,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHT:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHT"}
{"@t":"2026-01-18T14:27:00.5606194Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0a80e35730d266aaab3cf134a779fd12","@sp":"4cce1d89814323a8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:27:00.5605030Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHU:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHU"}
{"@t":"2026-01-18T14:27:00.6850427Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0a80e35730d266aaab3cf134a779fd12","@sp":"4cce1d89814323a8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":124.4132,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHU:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHU"}
{"@t":"2026-01-18T14:27:30.7339813Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2c699d99693d84ef56c1f8f928f605fe","@sp":"5d1ad88b3640a872","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:27:30.7338691Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHU:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHU"}
{"@t":"2026-01-18T14:27:30.8836326Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2c699d99693d84ef56c1f8f928f605fe","@sp":"5d1ad88b3640a872","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":149.5689,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHU:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHU"}
{"@t":"2026-01-18T14:28:00.9220345Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"278626cb764346385b949c1edab06d43","@sp":"3126afd8c9d8fd38","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:28:00.9218429Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHU:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHU"}
{"@t":"2026-01-18T14:28:00.9897287Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"278626cb764346385b949c1edab06d43","@sp":"3126afd8c9d8fd38","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":67.7861,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHU:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHU"}
{"@t":"2026-01-18T14:28:31.0151885Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cbd4e803af1fee658716efbf7ce080f7","@sp":"e0b715242afa159e","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:28:31.0151188Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHU:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHU"}
{"@t":"2026-01-18T14:28:31.0249846Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cbd4e803af1fee658716efbf7ce080f7","@sp":"e0b715242afa159e","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":9.8035,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHU:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHU"}
{"@t":"2026-01-18T14:29:01.0533000Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"848384e7aa3ad163ce5580b2928b569c","@sp":"b2bcb1b38b816d53","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:29:01.0531600Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHV:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHV"}
{"@t":"2026-01-18T14:29:01.1116203Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"848384e7aa3ad163ce5580b2928b569c","@sp":"b2bcb1b38b816d53","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":58.333,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHV:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHV"}
{"@t":"2026-01-18T14:29:31.1260688Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d3fcbc16a4887242c44dae0073441db7","@sp":"43d8fb770d36652b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:29:31.1259574Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHV:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHV"}
{"@t":"2026-01-18T14:29:31.1500606Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d3fcbc16a4887242c44dae0073441db7","@sp":"43d8fb770d36652b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":23.9265,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHV:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHV"}
{"@t":"2026-01-18T14:30:01.1864036Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cb5f30f2fc9c2fe2c95622a59b6e58a3","@sp":"4734e54afd58ad36","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:30:01.1862947Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHV:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHV"}
{"@t":"2026-01-18T14:30:01.2289881Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cb5f30f2fc9c2fe2c95622a59b6e58a3","@sp":"4734e54afd58ad36","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":42.5794,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHV:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHV"}
{"@t":"2026-01-18T14:30:31.2474368Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fb18e753bb378bf38dbbf11b9378fdf1","@sp":"4bd9ccc8033b4fea","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:30:31.2473423Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHV:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHV"}
{"@t":"2026-01-18T14:30:31.2654435Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fb18e753bb378bf38dbbf11b9378fdf1","@sp":"4bd9ccc8033b4fea","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":17.9976,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NHV:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NHV"}
{"@t":"2026-01-18T14:31:01.2865052Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"835bc7614cf5b906f06a1af44b037e98","@sp":"501841bb85ac81cf","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:31:01.2863332Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI0:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI0"}
{"@t":"2026-01-18T14:31:01.3561125Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"835bc7614cf5b906f06a1af44b037e98","@sp":"501841bb85ac81cf","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":69.6652,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI0:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI0"}
{"@t":"2026-01-18T14:31:31.3737004Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5ee76a7114dc487cc87784d05b34c371","@sp":"70d303a3fb0b5650","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:31:31.3735329Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI0:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI0"}
{"@t":"2026-01-18T14:31:31.3966428Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5ee76a7114dc487cc87784d05b34c371","@sp":"70d303a3fb0b5650","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":22.9913,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI0:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI0"}
{"@t":"2026-01-18T14:32:01.4226553Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ce9c1e4e25becdafec5e06e5b811f58f","@sp":"30c957e3c5f2a33a","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:32:01.4225618Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI0:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI0"}
{"@t":"2026-01-18T14:32:01.5218820Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ce9c1e4e25becdafec5e06e5b811f58f","@sp":"30c957e3c5f2a33a","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":99.1604,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI0:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI0"}
{"@t":"2026-01-18T14:32:31.6412576Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8d2cb0f72f0dfa94e233f555ef42a962","@sp":"5941a4468f0bab88","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:32:31.6411078Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI0:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI0"}
{"@t":"2026-01-18T14:32:31.6661073Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8d2cb0f72f0dfa94e233f555ef42a962","@sp":"5941a4468f0bab88","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":24.851,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI0:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI0"}
{"@t":"2026-01-18T14:33:01.7849913Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"12bd4d735af51240f1f9074c945a22ba","@sp":"385e4ddfdfae049b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:33:01.7830744Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI1:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI1"}
{"@t":"2026-01-18T14:33:01.9579461Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"12bd4d735af51240f1f9074c945a22ba","@sp":"385e4ddfdfae049b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":174.7988,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI1:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI1"}
{"@t":"2026-01-18T14:33:32.0406884Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4dfaddd980cc9736994e14e8e24557ce","@sp":"48a4b4d17ef56672","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:33:32.0404923Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI1:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI1"}
{"@t":"2026-01-18T14:33:32.1097713Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4dfaddd980cc9736994e14e8e24557ce","@sp":"48a4b4d17ef56672","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":69.1409,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI1:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI1"}
{"@t":"2026-01-18T14:34:02.1385052Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3adf4a26ffe0ed7344d53295ab6dd622","@sp":"6af8ba3c6d75aabb","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:34:02.1383614Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI1:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI1"}
{"@t":"2026-01-18T14:34:02.1605196Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3adf4a26ffe0ed7344d53295ab6dd622","@sp":"6af8ba3c6d75aabb","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":22.0476,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI1:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI1"}
{"@t":"2026-01-18T14:51:25.2744366Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a00082c2b946ffcf5907f19bf0b1281e","@sp":"26aab700b6e83b88","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:51:25.2743407Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:51:25.3229731Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a00082c2b946ffcf5907f19bf0b1281e","@sp":"26aab700b6e83b88","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":48.5407,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:51:25.3411564Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a00082c2b946ffcf5907f19bf0b1281e","@sp":"dbff2d770f5a3960","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:51:25.3410105Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI3:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJLAE1NI3"}
{"@t":"2026-01-18T14:51:25.3561907Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a00082c2b946ffcf5907f19bf0b1281e","@sp":"dbff2d770f5a3960","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":15.1129,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI3:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJLAE1NI3"}
{"@t":"2026-01-18T14:51:25.3666343Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a00082c2b946ffcf5907f19bf0b1281e","@sp":"13e95326c2574cc0","Method":"GET","Path":"/hubs/orders","Query":"?id=sMmtMTP52d-sPA3dEbA92w","Time":"2026-01-18T14:51:25.3665835Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI4:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJLAE1NI4"}
{"@t":"2026-01-18T14:51:25.4080623Z","@mt":"Client connected: {ConnectionId}","@tr":"a00082c2b946ffcf5907f19bf0b1281e","@sp":"13e95326c2574cc0","ConnectionId":"ta4vIE-SH1nAAD00e6Moxw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ta4vIE-SH1nAAD00e6Moxw","RequestId":"0HNIMJLAE1NI4:00000001","RequestPath":"/hubs/orders","CorrelationId":"71f921b9-b291-4d7a-91be-74035d1c92d5"}
{"@t":"2026-01-18T14:51:25.4374104Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"ta4vIE-SH1nAAD00e6Moxw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ta4vIE-SH1nAAD00e6Moxw","RequestId":"0HNIMJLAE1NI4:00000001","RequestPath":"/hubs/orders","CorrelationId":"71f921b9-b291-4d7a-91be-74035d1c92d5"}
{"@t":"2026-01-18T14:51:25.4817348Z","@mt":"Client disconnected: {ConnectionId}","@tr":"a00082c2b946ffcf5907f19bf0b1281e","@sp":"13e95326c2574cc0","ConnectionId":"ta4vIE-SH1nAAD00e6Moxw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ta4vIE-SH1nAAD00e6Moxw","RequestId":"0HNIMJLAE1NI4:00000001","RequestPath":"/hubs/orders","CorrelationId":"71f921b9-b291-4d7a-91be-74035d1c92d5"}
{"@t":"2026-01-18T14:51:25.5008955Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a00082c2b946ffcf5907f19bf0b1281e","@sp":"13e95326c2574cc0","Method":"GET","Path":"/hubs/orders","Query":"?id=sMmtMTP52d-sPA3dEbA92w","StatusCode":101,"Duration":134.2498,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI4:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJLAE1NI4"}
{"@t":"2026-01-18T14:51:25.5618787Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7038567891c952bb18763296b44ea262","@sp":"7a5f2f026b6e5bf9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:51:25.5618311Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI5:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI5"}
{"@t":"2026-01-18T14:51:25.5726342Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7038567891c952bb18763296b44ea262","@sp":"7a5f2f026b6e5bf9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":10.7411,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI5:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI5"}
{"@t":"2026-01-18T14:51:25.5865794Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6753fd36eed29d797ab2976438f8012e","@sp":"f524ea5345a81cdd","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:51:25.5865178Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI6:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJLAE1NI6"}
{"@t":"2026-01-18T14:51:25.5933169Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6753fd36eed29d797ab2976438f8012e","@sp":"f524ea5345a81cdd","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":6.7408,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI6:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJLAE1NI6"}
{"@t":"2026-01-18T14:51:25.6612582Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fd8ededf0d27dd679f10ddd84846ad4d","@sp":"69ba30cb5b7b18f6","Method":"GET","Path":"/hubs/orders","Query":"?id=KnmctRZvP6vfm35vxsTkaQ","Time":"2026-01-18T14:51:25.6611720Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI7:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJLAE1NI7"}
{"@t":"2026-01-18T14:51:25.6745568Z","@mt":"Client connected: {ConnectionId}","@tr":"fd8ededf0d27dd679f10ddd84846ad4d","@sp":"69ba30cb5b7b18f6","ConnectionId":"rWZ6O9ivdAu1iySqwbfRlw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"rWZ6O9ivdAu1iySqwbfRlw","RequestId":"0HNIMJLAE1NI7:00000001","RequestPath":"/hubs/orders","CorrelationId":"3c8c8ca3-fa81-4c88-a4d3-42e1847c90ba"}
{"@t":"2026-01-18T14:51:25.7715433Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"rWZ6O9ivdAu1iySqwbfRlw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"rWZ6O9ivdAu1iySqwbfRlw","RequestId":"0HNIMJLAE1NI7:00000001","RequestPath":"/hubs/orders","CorrelationId":"3c8c8ca3-fa81-4c88-a4d3-42e1847c90ba"}
{"@t":"2026-01-18T14:51:26.6253563Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ee4b2096cfde0feae1f64bd9ecf3f525","@sp":"71ece2c329014a59","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:51:26.6253029Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI5:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI5"}
{"@t":"2026-01-18T14:51:26.6414203Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ee4b2096cfde0feae1f64bd9ecf3f525","@sp":"71ece2c329014a59","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":16.068,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI5:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI5"}
{"@t":"2026-01-18T14:51:27.7908527Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1d06d25ff25585659cd2bab22d3bffba","@sp":"5bac492e137cc901","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:51:27.7908025Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:51:27.8400035Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1d06d25ff25585659cd2bab22d3bffba","@sp":"5bac492e137cc901","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":49.1357,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:51:27.8763274Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1d06d25ff25585659cd2bab22d3bffba","@sp":"fda0d8ba34acbb52","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:51:27.8762411Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJLAE1NI8"}
{"@t":"2026-01-18T14:51:28.1012087Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1d06d25ff25585659cd2bab22d3bffba","@sp":"fda0d8ba34acbb52","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":224.9052,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJLAE1NI8"}
{"@t":"2026-01-18T14:51:28.1180656Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1d06d25ff25585659cd2bab22d3bffba","@sp":"e5b6f5cdffdd48bf","Method":"GET","Path":"/hubs/orders","Query":"?id=R_UAej3TzvD6kTbcRxtzYQ","Time":"2026-01-18T14:51:28.1180186Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJLAE1NI9"}
{"@t":"2026-01-18T14:51:28.1461459Z","@mt":"Client connected: {ConnectionId}","@tr":"1d06d25ff25585659cd2bab22d3bffba","@sp":"e5b6f5cdffdd48bf","ConnectionId":"vtG51VWp-jc79_0aW86jag","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"vtG51VWp-jc79_0aW86jag","RequestId":"0HNIMJLAE1NI9:00000001","RequestPath":"/hubs/orders","CorrelationId":"54561642-0e04-4ce6-aec9-aebbbbea6f44"}
{"@t":"2026-01-18T14:51:28.1594250Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"vtG51VWp-jc79_0aW86jag","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"vtG51VWp-jc79_0aW86jag","RequestId":"0HNIMJLAE1NI9:00000001","RequestPath":"/hubs/orders","CorrelationId":"54561642-0e04-4ce6-aec9-aebbbbea6f44"}
{"@t":"2026-01-18T14:51:28.1760750Z","@mt":"Client disconnected: {ConnectionId}","@tr":"1d06d25ff25585659cd2bab22d3bffba","@sp":"e5b6f5cdffdd48bf","ConnectionId":"vtG51VWp-jc79_0aW86jag","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"vtG51VWp-jc79_0aW86jag","RequestId":"0HNIMJLAE1NI9:00000001","RequestPath":"/hubs/orders","CorrelationId":"54561642-0e04-4ce6-aec9-aebbbbea6f44"}
{"@t":"2026-01-18T14:51:28.1985260Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1d06d25ff25585659cd2bab22d3bffba","@sp":"e5b6f5cdffdd48bf","Method":"GET","Path":"/hubs/orders","Query":"?id=R_UAej3TzvD6kTbcRxtzYQ","StatusCode":101,"Duration":80.4371,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJLAE1NI9"}
{"@t":"2026-01-18T14:51:28.2225467Z","@mt":"Client disconnected: {ConnectionId}","@tr":"fd8ededf0d27dd679f10ddd84846ad4d","@sp":"69ba30cb5b7b18f6","ConnectionId":"rWZ6O9ivdAu1iySqwbfRlw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"rWZ6O9ivdAu1iySqwbfRlw","RequestId":"0HNIMJLAE1NI7:00000001","RequestPath":"/hubs/orders","CorrelationId":"3c8c8ca3-fa81-4c88-a4d3-42e1847c90ba"}
{"@t":"2026-01-18T14:51:28.2566788Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fd8ededf0d27dd679f10ddd84846ad4d","@sp":"69ba30cb5b7b18f6","Method":"GET","Path":"/hubs/orders","Query":"?id=KnmctRZvP6vfm35vxsTkaQ","StatusCode":101,"Duration":2595.4558,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI7:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJLAE1NI7"}
{"@t":"2026-01-18T14:51:28.7017714Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"66d6618f1a6b5554b42d006312613759","@sp":"5f939706896e35ca","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:51:28.7017318Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:51:28.8651519Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"66d6618f1a6b5554b42d006312613759","@sp":"5f939706896e35ca","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":163.2898,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:51:28.9991822Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"92fee0fc817161ad5496c0b1bc9d1263","@sp":"3944c187a01149af","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:51:28.9990938Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NIA:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJLAE1NIA"}
{"@t":"2026-01-18T14:51:29.0214971Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"92fee0fc817161ad5496c0b1bc9d1263","@sp":"3944c187a01149af","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":22.334,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NIA:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMJLAE1NIA"}
{"@t":"2026-01-18T14:51:29.0475868Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dc624979b6101be96d9799ca9e607d46","@sp":"2dfd2de8afaeab0b","Method":"GET","Path":"/hubs/orders","Query":"?id=MI1Y9e9BIEr4NhZwyDuFQA","Time":"2026-01-18T14:51:29.0475360Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NIB:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMJLAE1NIB"}
{"@t":"2026-01-18T14:51:29.1548007Z","@mt":"Client connected: {ConnectionId}","@tr":"dc624979b6101be96d9799ca9e607d46","@sp":"2dfd2de8afaeab0b","ConnectionId":"aPN_kEsm9qB0V4Y0tFXlwg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"aPN_kEsm9qB0V4Y0tFXlwg","RequestId":"0HNIMJLAE1NIB:00000001","RequestPath":"/hubs/orders","CorrelationId":"5381d8e2-33f4-4f22-8b57-e15733e26f36"}
{"@t":"2026-01-18T14:51:29.1790010Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"aPN_kEsm9qB0V4Y0tFXlwg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"aPN_kEsm9qB0V4Y0tFXlwg","RequestId":"0HNIMJLAE1NIB:00000001","RequestPath":"/hubs/orders","CorrelationId":"5381d8e2-33f4-4f22-8b57-e15733e26f36"}
{"@t":"2026-01-18T14:51:36.3828509Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"14fa0cb56d9a52dac6ee1c30da2f849d","@sp":"b4ee602ca19e4e47","Method":"GET","Path":"/api/admin/orders/4","Query":"","Time":"2026-01-18T14:51:36.3828062Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000004","RequestPath":"/api/admin/orders/4","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:51:36.4341325Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"14fa0cb56d9a52dac6ee1c30da2f849d","@sp":"b4ee602ca19e4e47","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"0cd8db6e-dbeb-488e-a910-d35fb1198b07","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.Api)","RequestId":"0HNIMJLAE1NI2:00000004","RequestPath":"/api/admin/orders/4","ConnectionId":"0HNIMJLAE1NI2","CorrelationId":"232641c6-eb1b-4e78-8f64-b3f9d8468b1f"}
{"@t":"2026-01-18T14:51:36.5495756Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"14fa0cb56d9a52dac6ee1c30da2f849d","@sp":"b4ee602ca19e4e47","Method":"GET","Path":"/api/admin/orders/4","Query":"","StatusCode":200,"Duration":166.7115,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000004","RequestPath":"/api/admin/orders/4","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:51:38.6153692Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"66a92fd8dc27b7fbd77644473e8df781","@sp":"1499e2dcf7e1a04b","Method":"PUT","Path":"/api/admin/orders/4/status","Query":"","Time":"2026-01-18T14:51:38.6153292Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000005","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:51:39.1324825Z","@mt":"An exception occurred in the database while saving changes for context type '{contextType}'.{newline}{error}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:60f8ee81-9db1-4107-b0b1-a00ee6fdb4e1\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","@tr":"66a92fd8dc27b7fbd77644473e8df781","@sp":"1499e2dcf7e1a04b","contextType":"RestaurantApp.Infrastructure.Data.ApplicationDbContext","newline":"\r\n","error":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:60f8ee81-9db1-4107-b0b1-a00ee6fdb4e1\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)","EventId":{"Id":10000,"Name":"Microsoft.EntityFrameworkCore.Update.SaveChangesFailed"},"SourceContext":"Microsoft.EntityFrameworkCore.Update","ActionId":"83540f81-077d-49aa-a096-46e91f31efcc","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.Api)","RequestId":"0HNIMJLAE1NI2:00000005","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMJLAE1NI2","CorrelationId":"e7646b07-4daa-4e2c-bd08-b2d703876da4"}
{"@t":"2026-01-18T14:51:39.1529347Z","@mt":"Failed to award loyalty points for order {OrderId}","@l":"Error","@x":"Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.\r\n ---> Microsoft.Data.SqlClient.SqlException (0x80131904): The INSERT statement conflicted with the FOREIGN KEY constraint \"FK_LoyaltyPoints_AspNetUsers_CustomerId1\". The conflict occurred in database \"RestaurantAppDb\", table \"dbo.AspNetUsers\", column 'Id'.\r\n   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)\r\n   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, SqlCommand command, Boolean callerHasConnectionLock, Boolean asyncClose)\r\n   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)\r\n   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)\r\n--- End of stack trace from previous location ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\nClientConnectionId:60f8ee81-9db1-4107-b0b1-a00ee6fdb4e1\r\nError Number:547,State:0,Class:16\r\n   --- End of inner exception stack trace ---\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.GetOrCreateLoyaltyPointsAsync(String customerId) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 267\r\n   at RestaurantApp.Infrastructure.Services.LoyaltyService.AwardPointsAsync(String customerId, Int32 orderId, Decimal orderTotal) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\LoyaltyService.cs:line 72\r\n   at RestaurantApp.Infrastructure.Services.OrderService.UpdateOrderStatusAsync(Int32 orderId, OrderStatus newStatus) in H:\\Restaurant APP\\src\\RestaurantApp.Infrastructure\\Services\\OrderService.cs:line 512","@tr":"66a92fd8dc27b7fbd77644473e8df781","@sp":"1499e2dcf7e1a04b","OrderId":4,"SourceContext":"RestaurantApp.Infrastructure.Services.OrderService","ActionId":"83540f81-077d-49aa-a096-46e91f31efcc","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.Api)","RequestId":"0HNIMJLAE1NI2:00000005","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMJLAE1NI2","CorrelationId":"e7646b07-4daa-4e2c-bd08-b2d703876da4"}
{"@t":"2026-01-18T14:51:39.1914543Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"66a92fd8dc27b7fbd77644473e8df781","@sp":"1499e2dcf7e1a04b","OrderId":4,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"83540f81-077d-49aa-a096-46e91f31efcc","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.Api)","RequestId":"0HNIMJLAE1NI2:00000005","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMJLAE1NI2","CorrelationId":"e7646b07-4daa-4e2c-bd08-b2d703876da4"}
{"@t":"2026-01-18T14:51:39.2022341Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2e4243deae55d0cc99b18535c6aab7bb","@sp":"08c32515f5eeafa8","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:51:39.2021875Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NIC:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NIC"}
{"@t":"2026-01-18T14:51:39.2116682Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2e4243deae55d0cc99b18535c6aab7bb","@sp":"08c32515f5eeafa8","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":9.4194,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NIC:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NIC"}
{"@t":"2026-01-18T14:51:39.2251170Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"66a92fd8dc27b7fbd77644473e8df781","@sp":"1499e2dcf7e1a04b","Email":"admin@restaurant.com","OrderNumber":"ORD-20260117-1AB48F","Status":"Delivered","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"83540f81-077d-49aa-a096-46e91f31efcc","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.Api)","RequestId":"0HNIMJLAE1NI2:00000005","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMJLAE1NI2","CorrelationId":"e7646b07-4daa-4e2c-bd08-b2d703876da4"}
{"@t":"2026-01-18T14:51:39.3413428Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"66a92fd8dc27b7fbd77644473e8df781","@sp":"1499e2dcf7e1a04b","Method":"PUT","Path":"/api/admin/orders/4/status","Query":"","StatusCode":200,"Duration":725.9282,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000005","RequestPath":"/api/admin/orders/4/status","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:51:42.3542196Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"70c4024bb95abc38202a505b1c2c5e6f","@sp":"1acdca7cbed0bb1d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:51:42.3541660Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:51:42.3627582Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"70c4024bb95abc38202a505b1c2c5e6f","@sp":"1acdca7cbed0bb1d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":8.5018,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMJLAE1NI2:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMJLAE1NI2"}
{"@t":"2026-01-18T14:52:50.0871578Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T14:52:50.2469389Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T14:52:50.2553280Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T14:52:50.9958730Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T14:52:56.7711168Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:52:56.7872022Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:52:56.7980207Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:52:58.7368259Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:52:58.7485742Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:52:58.7609226Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:52:59.3875519Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T14:52:59.7825002Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T14:55:15.7457785Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T14:55:16.2542784Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T14:55:16.3381621Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T14:55:17.0250230Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T14:55:20.1021589Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:55:20.1219240Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:55:20.1333582Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:55:21.5018771Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:55:21.5050987Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:55:21.5089400Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T14:55:21.8059514Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T14:55:22.2189020Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T14:56:28.6085073Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7111df37f371303e7183e701e33b6361","@sp":"bcc9ea577985e5db","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:56:28.5993727Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2U:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMK712PT2U"}
{"@t":"2026-01-18T14:56:28.6622141Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"7111df37f371303e7183e701e33b6361","@sp":"bcc9ea577985e5db","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMK712PT2U:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMK712PT2U","CorrelationId":"bf2fd1ef-1acb-4602-a2ec-4994e6449f4f"}
{"@t":"2026-01-18T14:56:40.6192766Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7111df37f371303e7183e701e33b6361","@sp":"bcc9ea577985e5db","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":12019.5221,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2U:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMK712PT2U"}
{"@t":"2026-01-18T14:56:42.6040745Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7111df37f371303e7183e701e33b6361","@sp":"e695ef3c53c2658e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:56:42.6039022Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2V:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMK712PT2V"}
{"@t":"2026-01-18T14:56:42.6213375Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7111df37f371303e7183e701e33b6361","@sp":"e695ef3c53c2658e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":17.2718,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2V:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMK712PT2V"}
{"@t":"2026-01-18T14:56:42.6443885Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7111df37f371303e7183e701e33b6361","@sp":"21b30f9002b2a908","Method":"GET","Path":"/hubs/orders","Query":"?id=cT6oUOzrNmLUThvVk8KcnQ","Time":"2026-01-18T14:56:42.6443175Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT30:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMK712PT30"}
{"@t":"2026-01-18T14:56:42.7209233Z","@mt":"Client connected: {ConnectionId}","@tr":"7111df37f371303e7183e701e33b6361","@sp":"21b30f9002b2a908","ConnectionId":"RyFYhhSVf6tvYzN2mfhAFQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"RyFYhhSVf6tvYzN2mfhAFQ","RequestId":"0HNIMK712PT30:00000001","RequestPath":"/hubs/orders","CorrelationId":"6ab4b4d6-32ec-43e1-9f3d-488d814d8b1d"}
{"@t":"2026-01-18T14:56:42.7868342Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"RyFYhhSVf6tvYzN2mfhAFQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"RyFYhhSVf6tvYzN2mfhAFQ","RequestId":"0HNIMK712PT30:00000001","RequestPath":"/hubs/orders","CorrelationId":"6ab4b4d6-32ec-43e1-9f3d-488d814d8b1d"}
{"@t":"2026-01-18T14:56:43.0326515Z","@mt":"Client disconnected: {ConnectionId}","@tr":"7111df37f371303e7183e701e33b6361","@sp":"21b30f9002b2a908","ConnectionId":"RyFYhhSVf6tvYzN2mfhAFQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"RyFYhhSVf6tvYzN2mfhAFQ","RequestId":"0HNIMK712PT30:00000001","RequestPath":"/hubs/orders","CorrelationId":"6ab4b4d6-32ec-43e1-9f3d-488d814d8b1d"}
{"@t":"2026-01-18T14:56:43.1447262Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7111df37f371303e7183e701e33b6361","@sp":"21b30f9002b2a908","Method":"GET","Path":"/hubs/orders","Query":"?id=cT6oUOzrNmLUThvVk8KcnQ","StatusCode":101,"Duration":500.3374,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT30:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMK712PT30"}
{"@t":"2026-01-18T14:56:43.9148858Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"720653954ea94b40def2d7485c1d588a","@sp":"f8e85b00190c2ad0","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:56:43.9148285Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2U:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMK712PT2U"}
{"@t":"2026-01-18T14:56:46.1808664Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"720653954ea94b40def2d7485c1d588a","@sp":"f8e85b00190c2ad0","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":2265.8842,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2U:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMK712PT2U"}
{"@t":"2026-01-18T14:56:46.2687549Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"111f4829796ce568f21724d21c3724dc","@sp":"fce6e432cd0e08bd","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T14:56:46.2686864Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT31:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMK712PT31"}
{"@t":"2026-01-18T14:56:47.3232236Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"111f4829796ce568f21724d21c3724dc","@sp":"fce6e432cd0e08bd","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":1054.4218,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT31:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMK712PT31"}
{"@t":"2026-01-18T14:56:47.3400649Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ad9d7eb709c06a8b3fd1c984db86d373","@sp":"1ecb8d922bf13620","Method":"GET","Path":"/hubs/orders","Query":"?id=Ui63oyGtrWK1rqXUMtNddg","Time":"2026-01-18T14:56:47.3399837Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT32:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMK712PT32"}
{"@t":"2026-01-18T14:56:47.3572812Z","@mt":"Client connected: {ConnectionId}","@tr":"ad9d7eb709c06a8b3fd1c984db86d373","@sp":"1ecb8d922bf13620","ConnectionId":"ahRs4f8fBDBI7zd3Y3Cedw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ahRs4f8fBDBI7zd3Y3Cedw","RequestId":"0HNIMK712PT32:00000001","RequestPath":"/hubs/orders","CorrelationId":"18f847d0-1fd3-496d-9ecb-70007d17d50c"}
{"@t":"2026-01-18T14:56:47.3640988Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"ahRs4f8fBDBI7zd3Y3Cedw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"ahRs4f8fBDBI7zd3Y3Cedw","RequestId":"0HNIMK712PT32:00000001","RequestPath":"/hubs/orders","CorrelationId":"18f847d0-1fd3-496d-9ecb-70007d17d50c"}
{"@t":"2026-01-18T14:56:49.0697655Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"63a609f63c1b5e6dd74bc892c9095fad","@sp":"8ef90099254b38db","Method":"GET","Path":"/api/admin/orders/8","Query":"","Time":"2026-01-18T14:56:49.0696857Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2U:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMK712PT2U"}
{"@t":"2026-01-18T14:56:49.2067015Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"63a609f63c1b5e6dd74bc892c9095fad","@sp":"8ef90099254b38db","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"7a3bcc81-4abd-4b5c-a512-47a83aa16aad","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetOrderDetails (RestaurantApp.Api)","RequestId":"0HNIMK712PT2U:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMK712PT2U","CorrelationId":"daa2b6da-71a2-4b59-8b9f-87e931455fba"}
{"@t":"2026-01-18T14:56:49.6430682Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"63a609f63c1b5e6dd74bc892c9095fad","@sp":"8ef90099254b38db","Method":"GET","Path":"/api/admin/orders/8","Query":"","StatusCode":200,"Duration":573.2946,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2U:00000003","RequestPath":"/api/admin/orders/8","ConnectionId":"0HNIMK712PT2U"}
{"@t":"2026-01-18T14:56:52.1723784Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"56de08d4cce66d4a550d9f0c1560b482","@sp":"b9d9eaba952d5c17","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","Time":"2026-01-18T14:56:52.1723211Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2U:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMK712PT2U"}
{"@t":"2026-01-18T14:56:52.2918046Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"56de08d4cce66d4a550d9f0c1560b482","@sp":"b9d9eaba952d5c17","Method":"PUT","Path":"/api/admin/orders/8/status","Query":"","StatusCode":200,"Duration":119.4161,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2U:00000004","RequestPath":"/api/admin/orders/8/status","ConnectionId":"0HNIMK712PT2U"}
{"@t":"2026-01-18T14:56:55.3536228Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d5199e8da2ea99ffba792e6fe4eb7dab","@sp":"5b341c79e958c219","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T14:56:55.3534973Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2U:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMK712PT2U"}
{"@t":"2026-01-18T14:56:55.9595099Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d5199e8da2ea99ffba792e6fe4eb7dab","@sp":"5b341c79e958c219","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":605.8337,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMK712PT2U:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMK712PT2U"}
{"@t":"2026-01-18T15:02:41.7862948Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T15:02:41.8462863Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T15:02:41.8490669Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T15:02:42.1804754Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T15:02:43.5894755Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:02:43.5942296Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:02:43.5977243Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:02:44.6591963Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:02:44.6631152Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:02:44.6662379Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:02:44.8365914Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T15:02:44.9666287Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T15:03:58.8112167Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T15:03:59.4133665Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T15:03:59.8269624Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T15:04:00.8089052Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T15:04:02.6323879Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:04:02.6366594Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:04:02.6401211Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:04:05.0949608Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:04:05.7077977Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:04:07.6795787Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:04:09.0254694Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T15:04:10.6332491Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T15:04:11.6200343Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a7d0111095f45ef2ce212812fd6524ed","@sp":"3b1faed2ad6ef011","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:04:11.6091180Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:11.6617085Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"a7d0111095f45ef2ce212812fd6524ed","@sp":"3b1faed2ad6ef011","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMKBB49P3Q:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q","CorrelationId":"3b76d15e-e752-426f-b171-a63fabdeadd4"}
{"@t":"2026-01-18T15:04:17.0405551Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a7d0111095f45ef2ce212812fd6524ed","@sp":"3b1faed2ad6ef011","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":5431.0389,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:17.1691546Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0ff5265c2bf628193cea126f00dd231e","@sp":"72113ba5e880c4af","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:04:17.1689423Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3R:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKBB49P3R"}
{"@t":"2026-01-18T15:04:17.1958877Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0ff5265c2bf628193cea126f00dd231e","@sp":"72113ba5e880c4af","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":26.6963,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3R:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKBB49P3R"}
{"@t":"2026-01-18T15:04:17.2302848Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a40d38cad857f786d10151457ea3f328","@sp":"ddf3b54f9319e54f","Method":"GET","Path":"/hubs/orders","Query":"?id=JJFbdjeXEan5NoqVGgtLaA","Time":"2026-01-18T15:04:17.2301098Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3S:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKBB49P3S"}
{"@t":"2026-01-18T15:04:17.3730353Z","@mt":"Client connected: {ConnectionId}","@tr":"a40d38cad857f786d10151457ea3f328","@sp":"ddf3b54f9319e54f","ConnectionId":"dqHEQllV2vEZrHwTBiPQ_A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"dqHEQllV2vEZrHwTBiPQ_A","RequestId":"0HNIMKBB49P3S:00000001","RequestPath":"/hubs/orders","CorrelationId":"8887b269-bca4-48c4-8220-c817935254c6"}
{"@t":"2026-01-18T15:04:17.4480545Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"dqHEQllV2vEZrHwTBiPQ_A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"dqHEQllV2vEZrHwTBiPQ_A","RequestId":"0HNIMKBB49P3S:00000001","RequestPath":"/hubs/orders","CorrelationId":"8887b269-bca4-48c4-8220-c817935254c6"}
{"@t":"2026-01-18T15:04:21.4081210Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e62cd1410520114f011a86c5c3b696cc","@sp":"a4189c788b68f5a2","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T15:04:21.4080095Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000002","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:21.7479375Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e62cd1410520114f011a86c5c3b696cc","@sp":"a4189c788b68f5a2","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":339.7973,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000002","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:25.4902640Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"635175695360d885561f9711b90927ab","@sp":"7050cd7885610ed0","Method":"POST","Path":"/api/admin/orders/8/assign-delivery","Query":"","Time":"2026-01-18T15:04:25.4902019Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000003","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:25.5549194Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"635175695360d885561f9711b90927ab","@sp":"7050cd7885610ed0","DeliveryId":2,"OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"5f2373c1-883a-4125-8f69-d079b6db9577","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMKBB49P3Q:00000003","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMKBB49P3Q","CorrelationId":"a77a80cd-9ec0-4495-aeca-974677996c8f"}
{"@t":"2026-01-18T15:04:25.9522933Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"635175695360d885561f9711b90927ab","@sp":"7050cd7885610ed0","Method":"POST","Path":"/api/admin/orders/8/assign-delivery","Query":"","StatusCode":200,"Duration":462.0027,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000003","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:29.4947615Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6f3f08f39adacd09df42a4f282f62500","@sp":"c61c253ed8402a85","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T15:04:29.4946569Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000004","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:29.5269247Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6f3f08f39adacd09df42a4f282f62500","@sp":"c61c253ed8402a85","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":32.0804,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000004","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:36.4515238Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8f9a7ed9d38ca02f6d345bf5b0cd28c8","@sp":"2282cf83bddbfda4","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T15:04:36.4513036Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000005","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:36.4730001Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8f9a7ed9d38ca02f6d345bf5b0cd28c8","@sp":"2282cf83bddbfda4","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":21.4339,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000005","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:40.6087582Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"87a49b1a8851cc7bae75cf93e478fcbb","@sp":"5c9153cfacaa48b8","Method":"POST","Path":"/api/admin/orders/6/assign-delivery","Query":"","Time":"2026-01-18T15:04:40.6086050Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000006","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:40.6502179Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"87a49b1a8851cc7bae75cf93e478fcbb","@sp":"5c9153cfacaa48b8","DeliveryId":3,"OrderId":6,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"5f2373c1-883a-4125-8f69-d079b6db9577","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMKBB49P3Q:00000006","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q","CorrelationId":"e0c7e73f-f663-45c6-856b-41124bbb7c09"}
{"@t":"2026-01-18T15:04:40.7743784Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"87a49b1a8851cc7bae75cf93e478fcbb","@sp":"5c9153cfacaa48b8","Method":"POST","Path":"/api/admin/orders/6/assign-delivery","Query":"","StatusCode":200,"Duration":165.6134,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000006","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:42.2239041Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5f50fea4a391db6846cad05760045c06","@sp":"f2f2e8aad676e6d2","Method":"POST","Path":"/api/admin/orders/6/assign-delivery","Query":"","Time":"2026-01-18T15:04:42.2237696Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000007","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:42.2480846Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"5f50fea4a391db6846cad05760045c06","@sp":"f2f2e8aad676e6d2","DeliveryId":3,"OrderId":6,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"5f2373c1-883a-4125-8f69-d079b6db9577","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMKBB49P3Q:00000007","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q","CorrelationId":"e993a546-c380-42d6-985e-785860ae9f9b"}
{"@t":"2026-01-18T15:04:42.2942274Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5f50fea4a391db6846cad05760045c06","@sp":"f2f2e8aad676e6d2","Method":"POST","Path":"/api/admin/orders/6/assign-delivery","Query":"","StatusCode":200,"Duration":70.2503,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000007","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:42.4951060Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"556dd38a2e4e6fb91abfcf8d8a81a611","@sp":"e70dbfdcc7fb588a","Method":"POST","Path":"/api/admin/orders/6/assign-delivery","Query":"","Time":"2026-01-18T15:04:42.4944904Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000008","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:42.5119170Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"556dd38a2e4e6fb91abfcf8d8a81a611","@sp":"e70dbfdcc7fb588a","DeliveryId":3,"OrderId":6,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"5f2373c1-883a-4125-8f69-d079b6db9577","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMKBB49P3Q:00000008","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q","CorrelationId":"e2cd182a-71c4-4223-bfd8-1e8e1febe353"}
{"@t":"2026-01-18T15:04:42.5404979Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"556dd38a2e4e6fb91abfcf8d8a81a611","@sp":"e70dbfdcc7fb588a","Method":"POST","Path":"/api/admin/orders/6/assign-delivery","Query":"","StatusCode":200,"Duration":45.8645,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000008","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:42.7781228Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"cbdd10ee2a51b5c987a27ef15438242b","@sp":"990d1f30788085cc","Method":"POST","Path":"/api/admin/orders/6/assign-delivery","Query":"","Time":"2026-01-18T15:04:42.7779819Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000009","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:42.7875531Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"cbdd10ee2a51b5c987a27ef15438242b","@sp":"990d1f30788085cc","DeliveryId":3,"OrderId":6,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"5f2373c1-883a-4125-8f69-d079b6db9577","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMKBB49P3Q:00000009","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q","CorrelationId":"e6427819-27e2-4be4-8357-37d5f8ee42f7"}
{"@t":"2026-01-18T15:04:42.8080163Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"cbdd10ee2a51b5c987a27ef15438242b","@sp":"990d1f30788085cc","Method":"POST","Path":"/api/admin/orders/6/assign-delivery","Query":"","StatusCode":200,"Duration":29.942,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000009","RequestPath":"/api/admin/orders/6/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:43.8023093Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e89a9fe48ea25b39217e2d143bcb97f4","@sp":"c282c432bcbc4ac5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:04:43.8021539Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:43.8257151Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e89a9fe48ea25b39217e2d143bcb97f4","@sp":"c282c432bcbc4ac5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":23.4616,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:46.2784322Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8a0b99e7d73d62b181c9e7b6017b1574","@sp":"894e1d59d9ea8a51","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T15:04:46.2781376Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000B","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:46.2989873Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8a0b99e7d73d62b181c9e7b6017b1574","@sp":"894e1d59d9ea8a51","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":20.7645,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000B","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:52.3417428Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4bd7c8caac38ae9853b67dad2600e037","@sp":"ab366a5a614278dd","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T15:04:52.3416454Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000C","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:52.3570326Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4bd7c8caac38ae9853b67dad2600e037","@sp":"ab366a5a614278dd","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":15.2699,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000C","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:56.8793405Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"459093b6b11c32c08fdf8ea8165f8c28","@sp":"323555d4c39a5b1c","Method":"POST","Path":"/api/admin/orders/5/assign-delivery","Query":"","Time":"2026-01-18T15:04:56.8792394Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000D","RequestPath":"/api/admin/orders/5/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:56.8921690Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"459093b6b11c32c08fdf8ea8165f8c28","@sp":"323555d4c39a5b1c","DeliveryId":3,"OrderId":5,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"5f2373c1-883a-4125-8f69-d079b6db9577","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMKBB49P3Q:0000000D","RequestPath":"/api/admin/orders/5/assign-delivery","ConnectionId":"0HNIMKBB49P3Q","CorrelationId":"6dfd6644-567b-4b68-89f6-1c8325438c48"}
{"@t":"2026-01-18T15:04:56.9200214Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"459093b6b11c32c08fdf8ea8165f8c28","@sp":"323555d4c39a5b1c","Method":"POST","Path":"/api/admin/orders/5/assign-delivery","Query":"","StatusCode":200,"Duration":40.2725,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000D","RequestPath":"/api/admin/orders/5/assign-delivery","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:04:59.9475035Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2f4f647585900a332c625e70d4ee15f6","@sp":"f6f5ccc24c7b3d79","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:04:59.9462993Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:00.2672278Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2f4f647585900a332c625e70d4ee15f6","@sp":"f6f5ccc24c7b3d79","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":320.8078,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000E","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:04.7606455Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"89dc32e49c4119bb7b507106a8a5ac74","@sp":"7a8a877f92129bbd","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T15:05:04.7603724Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000F","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:05.5524677Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"89dc32e49c4119bb7b507106a8a5ac74","@sp":"7a8a877f92129bbd","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":401,"Duration":792.0023,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:0000000F","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:05.7691984Z","@mt":"Client disconnected: {ConnectionId}","@tr":"a40d38cad857f786d10151457ea3f328","@sp":"ddf3b54f9319e54f","ConnectionId":"dqHEQllV2vEZrHwTBiPQ_A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"dqHEQllV2vEZrHwTBiPQ_A","RequestId":"0HNIMKBB49P3S:00000001","RequestPath":"/hubs/orders","CorrelationId":"8887b269-bca4-48c4-8220-c817935254c6"}
{"@t":"2026-01-18T15:05:05.7889634Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e8af2061979b33e94acfd89d27ef69d5","@sp":"da46c85053f348ae","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T15:05:05.7888745Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000010","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:05.8456493Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a40d38cad857f786d10151457ea3f328","@sp":"ddf3b54f9319e54f","Method":"GET","Path":"/hubs/orders","Query":"?id=JJFbdjeXEan5NoqVGgtLaA","StatusCode":101,"Duration":48615.4565,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3S:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKBB49P3S"}
{"@t":"2026-01-18T15:05:05.9222474Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e8af2061979b33e94acfd89d27ef69d5","@sp":"da46c85053f348ae","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":200,"Duration":133.2914,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000010","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:12.8428844Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f98c6856405e2fea6bc0ea7b391c9009","@sp":"102aacbd4d28d21f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:05:12.8425599Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000011","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:12.9794279Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f98c6856405e2fea6bc0ea7b391c9009","@sp":"102aacbd4d28d21f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":136.6996,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000011","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:13.0087371Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f98c6856405e2fea6bc0ea7b391c9009","@sp":"88db032337641f24","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:05:13.0086473Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3T:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKBB49P3T"}
{"@t":"2026-01-18T15:05:13.0213245Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f98c6856405e2fea6bc0ea7b391c9009","@sp":"88db032337641f24","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":12.5497,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3T:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKBB49P3T"}
{"@t":"2026-01-18T15:05:13.0285400Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f98c6856405e2fea6bc0ea7b391c9009","@sp":"da8b482188347623","Method":"GET","Path":"/hubs/orders","Query":"?id=Xk0FuFFYb6MC4MxEmg36Tw","Time":"2026-01-18T15:05:13.0284228Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3U:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKBB49P3U"}
{"@t":"2026-01-18T15:05:13.0473641Z","@mt":"Client connected: {ConnectionId}","@tr":"f98c6856405e2fea6bc0ea7b391c9009","@sp":"da8b482188347623","ConnectionId":"DB0z9OXLN-bMoHNFpWm0BA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"DB0z9OXLN-bMoHNFpWm0BA","RequestId":"0HNIMKBB49P3U:00000001","RequestPath":"/hubs/orders","CorrelationId":"4e26cf25-f9ed-4b91-b710-58887e20940f"}
{"@t":"2026-01-18T15:05:13.0536212Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"DB0z9OXLN-bMoHNFpWm0BA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"DB0z9OXLN-bMoHNFpWm0BA","RequestId":"0HNIMKBB49P3U:00000001","RequestPath":"/hubs/orders","CorrelationId":"4e26cf25-f9ed-4b91-b710-58887e20940f"}
{"@t":"2026-01-18T15:05:13.0729945Z","@mt":"Client disconnected: {ConnectionId}","@tr":"f98c6856405e2fea6bc0ea7b391c9009","@sp":"da8b482188347623","ConnectionId":"DB0z9OXLN-bMoHNFpWm0BA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"DB0z9OXLN-bMoHNFpWm0BA","RequestId":"0HNIMKBB49P3U:00000001","RequestPath":"/hubs/orders","CorrelationId":"4e26cf25-f9ed-4b91-b710-58887e20940f"}
{"@t":"2026-01-18T15:05:13.0813538Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f98c6856405e2fea6bc0ea7b391c9009","@sp":"da8b482188347623","Method":"GET","Path":"/hubs/orders","Query":"?id=Xk0FuFFYb6MC4MxEmg36Tw","StatusCode":101,"Duration":52.7832,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3U:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKBB49P3U"}
{"@t":"2026-01-18T15:05:13.1292762Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"12b9a666895f58e169ba741046c7bc6d","@sp":"982d3e6dc3036171","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:05:13.1291608Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000012","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:13.1540564Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"12b9a666895f58e169ba741046c7bc6d","@sp":"982d3e6dc3036171","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":24.7812,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000012","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:13.1873489Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ed6996139020d74d78431d352290895b","@sp":"e0f8a8cad1018dc0","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:05:13.1872273Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3V:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKBB49P3V"}
{"@t":"2026-01-18T15:05:13.2038342Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ed6996139020d74d78431d352290895b","@sp":"e0f8a8cad1018dc0","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":16.1727,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3V:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKBB49P3V"}
{"@t":"2026-01-18T15:05:13.2207324Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1d6afae844e5cf71896708d78f84e5ac","@sp":"2bef6d355d1297ab","Method":"GET","Path":"/hubs/orders","Query":"?id=cd63nImQPmS9xXT0eskwZA","Time":"2026-01-18T15:05:13.2204525Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P40:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKBB49P40"}
{"@t":"2026-01-18T15:05:13.2592477Z","@mt":"Client connected: {ConnectionId}","@tr":"1d6afae844e5cf71896708d78f84e5ac","@sp":"2bef6d355d1297ab","ConnectionId":"U9HxWSbx37oTyVsG-KRkwg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"U9HxWSbx37oTyVsG-KRkwg","RequestId":"0HNIMKBB49P40:00000001","RequestPath":"/hubs/orders","CorrelationId":"54f673e5-d172-4f41-94f7-e706cb18685a"}
{"@t":"2026-01-18T15:05:13.2706042Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"U9HxWSbx37oTyVsG-KRkwg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"U9HxWSbx37oTyVsG-KRkwg","RequestId":"0HNIMKBB49P40:00000001","RequestPath":"/hubs/orders","CorrelationId":"54f673e5-d172-4f41-94f7-e706cb18685a"}
{"@t":"2026-01-18T15:05:18.4331965Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"35fba840cf0107236e99f25ef907eedd","@sp":"b761269bf97b5f7f","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:05:18.4330224Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000013","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:18.5728682Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"35fba840cf0107236e99f25ef907eedd","@sp":"b761269bf97b5f7f","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":139.7121,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000013","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:18.6319594Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"35fba840cf0107236e99f25ef907eedd","@sp":"94f5916ba58a3f4f","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:05:18.6318517Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P41:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKBB49P41"}
{"@t":"2026-01-18T15:05:18.6456529Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"35fba840cf0107236e99f25ef907eedd","@sp":"94f5916ba58a3f4f","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":13.6848,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P41:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKBB49P41"}
{"@t":"2026-01-18T15:05:18.6630811Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"35fba840cf0107236e99f25ef907eedd","@sp":"606cb3ec88434d26","Method":"GET","Path":"/hubs/orders","Query":"?id=ea4RstRGRCPP80mrMfE3iw","Time":"2026-01-18T15:05:18.6629789Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P42:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKBB49P42"}
{"@t":"2026-01-18T15:05:18.6772626Z","@mt":"Client connected: {ConnectionId}","@tr":"35fba840cf0107236e99f25ef907eedd","@sp":"606cb3ec88434d26","ConnectionId":"t-uY7TutJYRYY6iz8Qe1yQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"t-uY7TutJYRYY6iz8Qe1yQ","RequestId":"0HNIMKBB49P42:00000001","RequestPath":"/hubs/orders","CorrelationId":"d7df7380-e793-4674-ac11-58f73434f7b7"}
{"@t":"2026-01-18T15:05:18.6955975Z","@mt":"Client disconnected: {ConnectionId}","@tr":"35fba840cf0107236e99f25ef907eedd","@sp":"606cb3ec88434d26","ConnectionId":"t-uY7TutJYRYY6iz8Qe1yQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"t-uY7TutJYRYY6iz8Qe1yQ","RequestId":"0HNIMKBB49P42:00000001","RequestPath":"/hubs/orders","CorrelationId":"d7df7380-e793-4674-ac11-58f73434f7b7"}
{"@t":"2026-01-18T15:05:18.7037637Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"35fba840cf0107236e99f25ef907eedd","@sp":"606cb3ec88434d26","Method":"GET","Path":"/hubs/orders","Query":"?id=ea4RstRGRCPP80mrMfE3iw","StatusCode":101,"Duration":40.6255,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P42:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKBB49P42"}
{"@t":"2026-01-18T15:05:18.8188838Z","@mt":"Client disconnected: {ConnectionId}","@tr":"1d6afae844e5cf71896708d78f84e5ac","@sp":"2bef6d355d1297ab","ConnectionId":"U9HxWSbx37oTyVsG-KRkwg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"U9HxWSbx37oTyVsG-KRkwg","RequestId":"0HNIMKBB49P40:00000001","RequestPath":"/hubs/orders","CorrelationId":"54f673e5-d172-4f41-94f7-e706cb18685a"}
{"@t":"2026-01-18T15:05:18.8214828Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ec8104e126df768e7fa011c0ef9f0e07","@sp":"a57cdc08afafc8f5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:05:18.8213879Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000014","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:19.0578483Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1d6afae844e5cf71896708d78f84e5ac","@sp":"2bef6d355d1297ab","Method":"GET","Path":"/hubs/orders","Query":"?id=cd63nImQPmS9xXT0eskwZA","StatusCode":101,"Duration":5837.0502,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P40:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKBB49P40"}
{"@t":"2026-01-18T15:05:19.1423977Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ec8104e126df768e7fa011c0ef9f0e07","@sp":"a57cdc08afafc8f5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":320.8812,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000014","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:19.1658232Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"2eff42c4bc76f9484e4b5b6b1c1b4829","@sp":"ad88e9c9759f4e68","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:05:19.1653766Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P43:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKBB49P43"}
{"@t":"2026-01-18T15:05:19.1761155Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"2eff42c4bc76f9484e4b5b6b1c1b4829","@sp":"ad88e9c9759f4e68","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":10.6001,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P43:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKBB49P43"}
{"@t":"2026-01-18T15:05:19.1875818Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8246fabb58c566cfd6310e69f1eb3890","@sp":"7cd04932080903da","Method":"GET","Path":"/hubs/orders","Query":"?id=BksjMz1iLOSEwQk68eOv-g","Time":"2026-01-18T15:05:19.1874682Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P44:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKBB49P44"}
{"@t":"2026-01-18T15:05:19.2156812Z","@mt":"Client connected: {ConnectionId}","@tr":"8246fabb58c566cfd6310e69f1eb3890","@sp":"7cd04932080903da","ConnectionId":"NWremzITf_ydgucgaycPXA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"NWremzITf_ydgucgaycPXA","RequestId":"0HNIMKBB49P44:00000001","RequestPath":"/hubs/orders","CorrelationId":"63750d9c-7a05-4068-8bf0-8f289f4b76bf"}
{"@t":"2026-01-18T15:05:49.2449528Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ac101b77168a37a766cc63c24e92c60d","@sp":"aa568a7031f93295","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:05:49.2448351Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000015","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:05:49.3740661Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ac101b77168a37a766cc63c24e92c60d","@sp":"aa568a7031f93295","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":129.1231,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P3Q:00000015","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P3Q"}
{"@t":"2026-01-18T15:06:19.3969134Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a3a5d38cba7ab85715aac608c6816d77","@sp":"21a5c7a9fc93445d","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:06:19.3968311Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P45:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P45"}
{"@t":"2026-01-18T15:06:19.4238372Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a3a5d38cba7ab85715aac608c6816d77","@sp":"21a5c7a9fc93445d","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":26.9075,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P45:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P45"}
{"@t":"2026-01-18T15:06:49.4427374Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"268f42d6eee93a0c4eead7cecbb0a631","@sp":"fd34da4400df5ce7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:06:49.4425773Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P45:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P45"}
{"@t":"2026-01-18T15:06:49.5492975Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"268f42d6eee93a0c4eead7cecbb0a631","@sp":"fd34da4400df5ce7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":104.5936,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P45:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P45"}
{"@t":"2026-01-18T15:07:19.7103958Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5410b88e26cc323dea053ad3c18b513d","@sp":"9763520ff5d9dc07","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:07:19.7102981Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P45:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P45"}
{"@t":"2026-01-18T15:07:19.7348100Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5410b88e26cc323dea053ad3c18b513d","@sp":"9763520ff5d9dc07","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":24.4232,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P45:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P45"}
{"@t":"2026-01-18T15:07:49.7619390Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b385bf79631c97242365577281834182","@sp":"efef8aab5cdc4a9b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:07:49.7618531Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P45:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P45"}
{"@t":"2026-01-18T15:07:49.7819637Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b385bf79631c97242365577281834182","@sp":"efef8aab5cdc4a9b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":19.9789,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P45:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P45"}
{"@t":"2026-01-18T15:08:19.8427076Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a9d427488fecfa25721ae6e1bc325884","@sp":"5c7055fec52808e1","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:08:19.8425984Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P46:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P46"}
{"@t":"2026-01-18T15:08:20.0687830Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a9d427488fecfa25721ae6e1bc325884","@sp":"5c7055fec52808e1","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":226.0856,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P46:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P46"}
{"@t":"2026-01-18T15:08:50.0900473Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"dc1ae168146ad6d833e42df5701b0ede","@sp":"237eb9dec83e7cd2","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:08:50.0899076Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P46:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P46"}
{"@t":"2026-01-18T15:08:50.1587533Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"dc1ae168146ad6d833e42df5701b0ede","@sp":"237eb9dec83e7cd2","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":68.6426,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P46:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P46"}
{"@t":"2026-01-18T15:09:20.1805843Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"332df860ec643290ebcee04238ee25cc","@sp":"67581bf2bf651159","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:09:20.1804757Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P46:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P46"}
{"@t":"2026-01-18T15:09:20.2432862Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"332df860ec643290ebcee04238ee25cc","@sp":"67581bf2bf651159","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":62.6635,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P46:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P46"}
{"@t":"2026-01-18T15:09:50.3130408Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3f32002f6857960055c4bc13130a05ea","@sp":"9944d836dd2df343","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:09:50.3129412Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P46:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P46"}
{"@t":"2026-01-18T15:09:50.3977218Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3f32002f6857960055c4bc13130a05ea","@sp":"9944d836dd2df343","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":84.6479,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P46:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P46"}
{"@t":"2026-01-18T15:10:20.4452606Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f0efd3ac084b4d2e602e44e7d8d7e2db","@sp":"570b05e37d29134a","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:10:20.4451931Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P47:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P47"}
{"@t":"2026-01-18T15:10:20.4911801Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f0efd3ac084b4d2e602e44e7d8d7e2db","@sp":"570b05e37d29134a","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":45.9318,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P47:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P47"}
{"@t":"2026-01-18T15:10:50.5029659Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"57a1415995324f0912388597a128ea85","@sp":"5ac049a6bb5f4f37","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:10:50.5028971Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P47:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P47"}
{"@t":"2026-01-18T15:10:50.5493277Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"57a1415995324f0912388597a128ea85","@sp":"5ac049a6bb5f4f37","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":46.3277,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P47:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P47"}
{"@t":"2026-01-18T15:11:20.5748811Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7b7aa0287d7ea25f1e34f81c9dc94196","@sp":"16f99339ede0b3a4","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:11:20.5746734Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P47:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P47"}
{"@t":"2026-01-18T15:11:20.6366858Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7b7aa0287d7ea25f1e34f81c9dc94196","@sp":"16f99339ede0b3a4","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":61.9505,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P47:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P47"}
{"@t":"2026-01-18T15:11:50.6617862Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e352d40477789a97901ba886fc4003aa","@sp":"ca15399b5ac68bce","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:11:50.6616668Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P47:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P47"}
{"@t":"2026-01-18T15:11:50.7585158Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e352d40477789a97901ba886fc4003aa","@sp":"ca15399b5ac68bce","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":96.7169,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P47:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P47"}
{"@t":"2026-01-18T15:12:20.8884706Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b86ecf7f39bfd203b37d48c617fceabd","@sp":"cacbc9bce3abc3df","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:12:20.8883726Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P48:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P48"}
{"@t":"2026-01-18T15:12:21.0021599Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b86ecf7f39bfd203b37d48c617fceabd","@sp":"cacbc9bce3abc3df","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":113.6828,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P48:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P48"}
{"@t":"2026-01-18T15:12:54.4522425Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"fcf8db4228e4e1be4704688f56ca6c05","@sp":"7b3bfb981c559dcc","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:12:54.4510290Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P48:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P48"}
{"@t":"2026-01-18T15:12:54.8082887Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"fcf8db4228e4e1be4704688f56ca6c05","@sp":"7b3bfb981c559dcc","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":357.2071,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKBB49P48:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKBB49P48"}
{"@t":"2026-01-18T15:14:10.0681552Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T15:14:10.1339937Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T15:14:10.1360670Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T15:14:10.5673117Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T15:14:12.6679962Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:14:12.7409960Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:14:12.7563267Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:14:13.8886037Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:14:13.8952825Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:14:13.9091660Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:14:14.1509232Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T15:14:14.3194802Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T15:19:37.5958002Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5de09a17e42bb87cc851e65109e4a65a","@sp":"9f3daed61ab96df7","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:19:37.5869369Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4U:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U"}
{"@t":"2026-01-18T15:19:37.6653491Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"5de09a17e42bb87cc851e65109e4a65a","@sp":"9f3daed61ab96df7","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMKJV3FB4U:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U","CorrelationId":"06e4dff9-a125-474a-97e8-062f3a72d2f6"}
{"@t":"2026-01-18T15:19:42.7463239Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7a23ace8ad2a5866e4d597242a1ec355","@sp":"f47bc38c8acf2a52","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:19:42.7460133Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4V:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4V"}
{"@t":"2026-01-18T15:19:43.6902844Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"5de09a17e42bb87cc851e65109e4a65a","@sp":"9f3daed61ab96df7","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"67a66bd4-7c3a-4a35-ad7b-7b8e6764f5e7","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetAllOrders (RestaurantApp.Api)","RequestId":"0HNIMKJV3FB4U:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U","CorrelationId":"06e4dff9-a125-474a-97e8-062f3a72d2f6"}
{"@t":"2026-01-18T15:19:44.6765085Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5de09a17e42bb87cc851e65109e4a65a","@sp":"9f3daed61ab96df7","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":7089.261,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4U:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U"}
{"@t":"2026-01-18T15:19:44.6765455Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7a23ace8ad2a5866e4d597242a1ec355","@sp":"f47bc38c8acf2a52","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":1930.1823,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4V:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4V"}
{"@t":"2026-01-18T15:19:44.8524650Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7a23ace8ad2a5866e4d597242a1ec355","@sp":"4fcf5669147559cd","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:19:44.8523677Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB50:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKJV3FB50"}
{"@t":"2026-01-18T15:19:44.8524559Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5de09a17e42bb87cc851e65109e4a65a","@sp":"dd0c148b1ace4b4d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:19:44.8523679Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB51:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKJV3FB51"}
{"@t":"2026-01-18T15:19:44.8781888Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7a23ace8ad2a5866e4d597242a1ec355","@sp":"4fcf5669147559cd","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":25.6547,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB50:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKJV3FB50"}
{"@t":"2026-01-18T15:19:44.8781920Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5de09a17e42bb87cc851e65109e4a65a","@sp":"dd0c148b1ace4b4d","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":25.6545,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB51:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKJV3FB51"}
{"@t":"2026-01-18T15:19:44.9115623Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5de09a17e42bb87cc851e65109e4a65a","@sp":"9b3114860a7b454a","Method":"GET","Path":"/hubs/orders","Query":"?id=GaEOSeBFmJCz89IK9E-eFQ","Time":"2026-01-18T15:19:44.9114925Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB52:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKJV3FB52"}
{"@t":"2026-01-18T15:19:44.9115613Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7a23ace8ad2a5866e4d597242a1ec355","@sp":"c074df366ef5d3eb","Method":"GET","Path":"/hubs/orders","Query":"?id=GQrrw5OXW4uSgOqq2HM2xw","Time":"2026-01-18T15:19:44.9114737Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB53:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKJV3FB53"}
{"@t":"2026-01-18T15:19:44.9952016Z","@mt":"Client connected: {ConnectionId}","@tr":"7a23ace8ad2a5866e4d597242a1ec355","@sp":"c074df366ef5d3eb","ConnectionId":"E3ewwPuhRx5V2YXNVW0nvg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"E3ewwPuhRx5V2YXNVW0nvg","RequestId":"0HNIMKJV3FB53:00000001","RequestPath":"/hubs/orders","CorrelationId":"d3706dfe-74a1-4d2d-9006-47a9627977a9"}
{"@t":"2026-01-18T15:19:44.9951847Z","@mt":"Client connected: {ConnectionId}","@tr":"5de09a17e42bb87cc851e65109e4a65a","@sp":"9b3114860a7b454a","ConnectionId":"OcNXcy-fhD9115hDAat9fA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"OcNXcy-fhD9115hDAat9fA","RequestId":"0HNIMKJV3FB52:00000001","RequestPath":"/hubs/orders","CorrelationId":"1c72ce7f-6138-4ade-9a43-d9faebe84bf4"}
{"@t":"2026-01-18T15:19:45.1396517Z","@mt":"Client disconnected: {ConnectionId}","@tr":"5de09a17e42bb87cc851e65109e4a65a","@sp":"9b3114860a7b454a","ConnectionId":"OcNXcy-fhD9115hDAat9fA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"OcNXcy-fhD9115hDAat9fA","RequestId":"0HNIMKJV3FB52:00000001","RequestPath":"/hubs/orders","CorrelationId":"1c72ce7f-6138-4ade-9a43-d9faebe84bf4"}
{"@t":"2026-01-18T15:19:45.1396479Z","@mt":"Client disconnected: {ConnectionId}","@tr":"7a23ace8ad2a5866e4d597242a1ec355","@sp":"c074df366ef5d3eb","ConnectionId":"E3ewwPuhRx5V2YXNVW0nvg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"E3ewwPuhRx5V2YXNVW0nvg","RequestId":"0HNIMKJV3FB53:00000001","RequestPath":"/hubs/orders","CorrelationId":"d3706dfe-74a1-4d2d-9006-47a9627977a9"}
{"@t":"2026-01-18T15:19:45.1541958Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5de09a17e42bb87cc851e65109e4a65a","@sp":"9b3114860a7b454a","Method":"GET","Path":"/hubs/orders","Query":"?id=GaEOSeBFmJCz89IK9E-eFQ","StatusCode":101,"Duration":242.5895,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB52:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKJV3FB52"}
{"@t":"2026-01-18T15:19:45.1549944Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7a23ace8ad2a5866e4d597242a1ec355","@sp":"c074df366ef5d3eb","Method":"GET","Path":"/hubs/orders","Query":"?id=GQrrw5OXW4uSgOqq2HM2xw","StatusCode":101,"Duration":243.4053,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB53:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKJV3FB53"}
{"@t":"2026-01-18T15:19:46.0444420Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f0f97378a91f904dbea982d6588d176f","@sp":"2aa7648df44c4391","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:19:46.0443534Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4U:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U"}
{"@t":"2026-01-18T15:19:46.1325539Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f0f97378a91f904dbea982d6588d176f","@sp":"2aa7648df44c4391","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":88.0799,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4U:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U"}
{"@t":"2026-01-18T15:19:46.1687029Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"705e5300cf2966d1f0a9dc364c74839c","@sp":"5a8205eb982b594b","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:19:46.1685409Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB54:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKJV3FB54"}
{"@t":"2026-01-18T15:19:46.1833899Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"705e5300cf2966d1f0a9dc364c74839c","@sp":"5a8205eb982b594b","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":14.6223,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB54:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKJV3FB54"}
{"@t":"2026-01-18T15:19:46.1954740Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"19436c4be485a6890db036ed41055d60","@sp":"aa8773f9e243e0f2","Method":"GET","Path":"/hubs/orders","Query":"?id=n36iWeiGLvCtd2U6bgG5jw","Time":"2026-01-18T15:19:46.1953699Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB55:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKJV3FB55"}
{"@t":"2026-01-18T15:19:46.2159182Z","@mt":"Client connected: {ConnectionId}","@tr":"19436c4be485a6890db036ed41055d60","@sp":"aa8773f9e243e0f2","ConnectionId":"-G1gI7noBIr87brkGGKKIg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"-G1gI7noBIr87brkGGKKIg","RequestId":"0HNIMKJV3FB55:00000001","RequestPath":"/hubs/orders","CorrelationId":"472980ad-4e84-4aaf-8967-0fe3b4d5bf93"}
{"@t":"2026-01-18T15:20:16.2319224Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"089900beec3a2f5fa43559570a2e8a3d","@sp":"bc3180ebfb9b32cb","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:20:16.2318175Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4U:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U"}
{"@t":"2026-01-18T15:20:16.2653614Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"089900beec3a2f5fa43559570a2e8a3d","@sp":"bc3180ebfb9b32cb","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":33.4471,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4U:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U"}
{"@t":"2026-01-18T15:20:46.2928550Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e516298fe5540886573c9b49e39e61ab","@sp":"b61aef26067dab51","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:20:46.2927061Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4U:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U"}
{"@t":"2026-01-18T15:20:46.3241744Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e516298fe5540886573c9b49e39e61ab","@sp":"b61aef26067dab51","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":31.2631,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4U:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U"}
{"@t":"2026-01-18T15:21:16.3462138Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8ebad104a05ee6a8acea38de2d9bd68b","@sp":"6760e5188ac35455","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:21:16.3460704Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4U:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U"}
{"@t":"2026-01-18T15:21:16.3715784Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8ebad104a05ee6a8acea38de2d9bd68b","@sp":"6760e5188ac35455","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":25.3332,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB4U:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB4U"}
{"@t":"2026-01-18T15:21:46.7691953Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3e5293ab9a795f7f160a9dfc330a1f09","@sp":"4f7eb381e1998aca","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:21:46.7690800Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB56:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB56"}
{"@t":"2026-01-18T15:21:46.7977950Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3e5293ab9a795f7f160a9dfc330a1f09","@sp":"4f7eb381e1998aca","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":28.5587,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB56:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB56"}
{"@t":"2026-01-18T15:22:16.8309013Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e7be69f5c41612c3820888eb17ccf802","@sp":"33dfc833f100a2ad","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:22:16.8307251Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB56:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB56"}
{"@t":"2026-01-18T15:22:16.8595252Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e7be69f5c41612c3820888eb17ccf802","@sp":"33dfc833f100a2ad","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":27.6969,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB56:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB56"}
{"@t":"2026-01-18T15:22:46.8984819Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a9eb54239d8679b33cf60fbd773159bd","@sp":"634bd0c6b8811ceb","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:22:46.8983375Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB56:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB56"}
{"@t":"2026-01-18T15:22:46.9245946Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a9eb54239d8679b33cf60fbd773159bd","@sp":"634bd0c6b8811ceb","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":26.083,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB56:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB56"}
{"@t":"2026-01-18T15:23:16.9534625Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"23587a061e54f769965cfc78830d1e61","@sp":"4e8c1dd3573d6015","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:23:16.9530946Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB56:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB56"}
{"@t":"2026-01-18T15:23:16.9799871Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"23587a061e54f769965cfc78830d1e61","@sp":"4e8c1dd3573d6015","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":26.7903,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB56:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB56"}
{"@t":"2026-01-18T15:23:47.0018294Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9275a0f555aa7425074788ce8bc8acf1","@sp":"93a83c038efa9654","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:23:47.0017264Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:23:47.0744968Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9275a0f555aa7425074788ce8bc8acf1","@sp":"93a83c038efa9654","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":72.692,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:24:17.0937910Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"79144a642e96d01dc6ed755868b17bcd","@sp":"da72ee1307c18291","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:24:17.0936560Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:24:17.1800383Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"79144a642e96d01dc6ed755868b17bcd","@sp":"da72ee1307c18291","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":86.1913,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:24:47.2077915Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1361041d7074121c1d7d0e120953704f","@sp":"eabf1a1e81260313","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:24:47.2076983Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:24:47.5260323Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1361041d7074121c1d7d0e120953704f","@sp":"eabf1a1e81260313","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":318.2297,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:07.3911584Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"daa242ec0a1da50a15d74cba1aed421d","@sp":"1faac6689aa7fedd","Method":"PUT","Path":"/api/admin/orders/9/status","Query":"","Time":"2026-01-18T15:25:07.3907927Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000004","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:08.6744171Z","@mt":"Sending StatusUpdate notification for Order {OrderId} to User {UserId}","@tr":"daa242ec0a1da50a15d74cba1aed421d","@sp":"1faac6689aa7fedd","OrderId":9,"UserId":"1","SourceContext":"RestaurantApp.API.Services.OrderNotificationService","ActionId":"58ed0f0a-6c1e-48d3-a9b8-276bcec91dd7","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.Api)","RequestId":"0HNIMKJV3FB57:00000004","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMKJV3FB57","CorrelationId":"64d4fe72-0c7b-4316-a974-c37b964f1b6c"}
{"@t":"2026-01-18T15:25:08.7831749Z","@mt":"Sending order status update to {Email} for order {OrderNumber}, status: {Status}","@tr":"daa242ec0a1da50a15d74cba1aed421d","@sp":"1faac6689aa7fedd","Email":"admin@restaurant.com","OrderNumber":"ORD-20260118-096B27","Status":"Preparing","SourceContext":"RestaurantApp.Infrastructure.Services.EmailService","ActionId":"58ed0f0a-6c1e-48d3-a9b8-276bcec91dd7","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.UpdateOrderStatus (RestaurantApp.Api)","RequestId":"0HNIMKJV3FB57:00000004","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMKJV3FB57","CorrelationId":"64d4fe72-0c7b-4316-a974-c37b964f1b6c"}
{"@t":"2026-01-18T15:25:08.9548834Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"daa242ec0a1da50a15d74cba1aed421d","@sp":"1faac6689aa7fedd","Method":"PUT","Path":"/api/admin/orders/9/status","Query":"","StatusCode":200,"Duration":1563.9218,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000004","RequestPath":"/api/admin/orders/9/status","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:09.1206277Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0f3da0a1f27f1f71dfa0dd3a9b436cfb","@sp":"e681d2fa98b50dc1","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:25:09.1204871Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:09.2280239Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0f3da0a1f27f1f71dfa0dd3a9b436cfb","@sp":"e681d2fa98b50dc1","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":107.1908,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:17.5720588Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a8b26ae56a0870e971d7eb2f745c0182","@sp":"61963d8bad55e766","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:25:17.5718450Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB58:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB58"}
{"@t":"2026-01-18T15:25:17.6415908Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a8b26ae56a0870e971d7eb2f745c0182","@sp":"61963d8bad55e766","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":69.5798,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB58:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB58"}
{"@t":"2026-01-18T15:25:17.9535587Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a8b26ae56a0870e971d7eb2f745c0182","@sp":"d7a3a09cf3fe8942","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:25:17.9533977Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB59:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKJV3FB59"}
{"@t":"2026-01-18T15:25:17.9702186Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a8b26ae56a0870e971d7eb2f745c0182","@sp":"d7a3a09cf3fe8942","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":16.605,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB59:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKJV3FB59"}
{"@t":"2026-01-18T15:25:17.9904314Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a8b26ae56a0870e971d7eb2f745c0182","@sp":"f40f616c5d49951b","Method":"GET","Path":"/hubs/orders","Query":"?id=b8UmM1DimT8VfcCT8WyEYw","Time":"2026-01-18T15:25:17.9903275Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5A:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKJV3FB5A"}
{"@t":"2026-01-18T15:25:18.0130862Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e0f88edd6e2db03f9048ae523e232f09","@sp":"cd0a4696dda2abf0","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:25:18.0127407Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:18.0541424Z","@mt":"Client connected: {ConnectionId}","@tr":"a8b26ae56a0870e971d7eb2f745c0182","@sp":"f40f616c5d49951b","ConnectionId":"eNoYKaKy-LN4fjGW9Git0A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"eNoYKaKy-LN4fjGW9Git0A","RequestId":"0HNIMKJV3FB5A:00000001","RequestPath":"/hubs/orders","CorrelationId":"ea2342f6-c987-4d14-ac95-f1d68efe4a1f"}
{"@t":"2026-01-18T15:25:18.0903395Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e0f88edd6e2db03f9048ae523e232f09","@sp":"cd0a4696dda2abf0","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":77.4048,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:18.0952832Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"eNoYKaKy-LN4fjGW9Git0A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"eNoYKaKy-LN4fjGW9Git0A","RequestId":"0HNIMKJV3FB5A:00000001","RequestPath":"/hubs/orders","CorrelationId":"ea2342f6-c987-4d14-ac95-f1d68efe4a1f"}
{"@t":"2026-01-18T15:25:18.1327784Z","@mt":"Client disconnected: {ConnectionId}","@tr":"a8b26ae56a0870e971d7eb2f745c0182","@sp":"f40f616c5d49951b","ConnectionId":"eNoYKaKy-LN4fjGW9Git0A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"eNoYKaKy-LN4fjGW9Git0A","RequestId":"0HNIMKJV3FB5A:00000001","RequestPath":"/hubs/orders","CorrelationId":"ea2342f6-c987-4d14-ac95-f1d68efe4a1f"}
{"@t":"2026-01-18T15:25:18.1481452Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a8b26ae56a0870e971d7eb2f745c0182","@sp":"f40f616c5d49951b","Method":"GET","Path":"/hubs/orders","Query":"?id=b8UmM1DimT8VfcCT8WyEYw","StatusCode":101,"Duration":157.6869,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5A:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKJV3FB5A"}
{"@t":"2026-01-18T15:25:18.1659247Z","@mt":"Client disconnected: {ConnectionId}","@tr":"19436c4be485a6890db036ed41055d60","@sp":"aa8773f9e243e0f2","ConnectionId":"-G1gI7noBIr87brkGGKKIg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"-G1gI7noBIr87brkGGKKIg","RequestId":"0HNIMKJV3FB55:00000001","RequestPath":"/hubs/orders","CorrelationId":"472980ad-4e84-4aaf-8967-0fe3b4d5bf93"}
{"@t":"2026-01-18T15:25:18.1739737Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"19436c4be485a6890db036ed41055d60","@sp":"aa8773f9e243e0f2","Method":"GET","Path":"/hubs/orders","Query":"?id=n36iWeiGLvCtd2U6bgG5jw","StatusCode":101,"Duration":331977.5715,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB55:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKJV3FB55"}
{"@t":"2026-01-18T15:25:18.2438790Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"f4be40830ee0defafb2c9b9bb87100ae","@sp":"e161aea5e94735c6","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:25:18.2437425Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:18.2705773Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"f4be40830ee0defafb2c9b9bb87100ae","@sp":"e161aea5e94735c6","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":26.6692,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:18.3028998Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"456bdea99cac63ff55bd9c2a3be11787","@sp":"e5a6d786d2621688","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:25:18.3027660Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5B:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKJV3FB5B"}
{"@t":"2026-01-18T15:25:18.3249431Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"456bdea99cac63ff55bd9c2a3be11787","@sp":"e5a6d786d2621688","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":22.0302,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5B:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKJV3FB5B"}
{"@t":"2026-01-18T15:25:18.3368632Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6d498c868452b9315ce67473139846e5","@sp":"dc2ac694f1c3a4df","Method":"GET","Path":"/hubs/orders","Query":"?id=NWziqZduArANKP4Jsz4DrA","Time":"2026-01-18T15:25:18.3367269Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5C:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKJV3FB5C"}
{"@t":"2026-01-18T15:25:18.3597924Z","@mt":"Client connected: {ConnectionId}","@tr":"6d498c868452b9315ce67473139846e5","@sp":"dc2ac694f1c3a4df","ConnectionId":"AJa71TMi3sQ_8Cr9jttxRw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"AJa71TMi3sQ_8Cr9jttxRw","RequestId":"0HNIMKJV3FB5C:00000001","RequestPath":"/hubs/orders","CorrelationId":"e95c9a71-60a1-48cc-93f2-fdc7c290679e"}
{"@t":"2026-01-18T15:25:18.3765692Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"AJa71TMi3sQ_8Cr9jttxRw","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"AJa71TMi3sQ_8Cr9jttxRw","RequestId":"0HNIMKJV3FB5C:00000001","RequestPath":"/hubs/orders","CorrelationId":"e95c9a71-60a1-48cc-93f2-fdc7c290679e"}
{"@t":"2026-01-18T15:25:23.7363994Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d0bfccc86fe71e63a5f122c9f3d5a86d","@sp":"4f40520fb9c5a36b","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T15:25:23.7360985Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000008","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:23.8204186Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d0bfccc86fe71e63a5f122c9f3d5a86d","@sp":"4f40520fb9c5a36b","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":84.2374,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000008","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:27.7993121Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3f5c85171b1ea5fc6cb7d5d878516c6c","@sp":"a096afe7cfa56bf6","Method":"POST","Path":"/api/admin/orders/4/assign-delivery","Query":"","Time":"2026-01-18T15:25:27.7992069Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000009","RequestPath":"/api/admin/orders/4/assign-delivery","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:27.8734450Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"3f5c85171b1ea5fc6cb7d5d878516c6c","@sp":"a096afe7cfa56bf6","DeliveryId":3,"OrderId":4,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"e8bc4647-3fde-474b-9b35-af4343cb6f3d","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.Api)","RequestId":"0HNIMKJV3FB57:00000009","RequestPath":"/api/admin/orders/4/assign-delivery","ConnectionId":"0HNIMKJV3FB57","CorrelationId":"cdea64fe-461c-455a-b6fa-7021bddfd679"}
{"@t":"2026-01-18T15:25:28.0155171Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3f5c85171b1ea5fc6cb7d5d878516c6c","@sp":"a096afe7cfa56bf6","Method":"POST","Path":"/api/admin/orders/4/assign-delivery","Query":"","StatusCode":200,"Duration":216.1996,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:00000009","RequestPath":"/api/admin/orders/4/assign-delivery","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:31.0598077Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ec5ecf306dc6730c7e7311ad4613b1ee","@sp":"47cdd169514d32b3","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:25:31.0597004Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:31.1830073Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ec5ecf306dc6730c7e7311ad4613b1ee","@sp":"47cdd169514d32b3","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":123.2143,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB57:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB57"}
{"@t":"2026-01-18T15:25:48.1252100Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"ac255e16e9c5dc8533d62acaf3e04dc0","@sp":"2eb3c5764bd91567","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:25:48.1251084Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:25:48.1504673Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"ac255e16e9c5dc8533d62acaf3e04dc0","@sp":"2eb3c5764bd91567","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":25.2706,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:26:18.1681144Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b1d4eacc9f6018f556ae26af3b15e3d2","@sp":"5c9c59352e84b048","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:26:18.1680147Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:26:18.2414190Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b1d4eacc9f6018f556ae26af3b15e3d2","@sp":"5c9c59352e84b048","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":73.3368,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:26:25.0161193Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"54dc0bbd43b4954de1806fd1f8e603ca","@sp":"9f233652a8fc156a","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T15:26:25.0160286Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000003","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:26:25.0410158Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"54dc0bbd43b4954de1806fd1f8e603ca","@sp":"9f233652a8fc156a","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":24.8499,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000003","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:26:29.1353124Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3c27faef68bc2eb4534383e76bfcb3a7","@sp":"ad9f47d8788bd19f","Method":"POST","Path":"/api/admin/orders/3/assign-delivery","Query":"","Time":"2026-01-18T15:26:29.1352147Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000004","RequestPath":"/api/admin/orders/3/assign-delivery","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:26:29.1491971Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"3c27faef68bc2eb4534383e76bfcb3a7","@sp":"ad9f47d8788bd19f","DeliveryId":3,"OrderId":3,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"e8bc4647-3fde-474b-9b35-af4343cb6f3d","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.Api)","RequestId":"0HNIMKJV3FB5D:00000004","RequestPath":"/api/admin/orders/3/assign-delivery","ConnectionId":"0HNIMKJV3FB5D","CorrelationId":"500a6112-c4fe-475a-ae12-cd0ede5e3c59"}
{"@t":"2026-01-18T15:26:29.2166867Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"3c27faef68bc2eb4534383e76bfcb3a7","@sp":"ad9f47d8788bd19f","Method":"POST","Path":"/api/admin/orders/3/assign-delivery","Query":"","StatusCode":200,"Duration":81.3297,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000004","RequestPath":"/api/admin/orders/3/assign-delivery","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:26:32.3329956Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a0f97a6d9823759d97a7ed3a6ed46c00","@sp":"190ad471461e0d87","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:26:32.3328322Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:26:32.4389936Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a0f97a6d9823759d97a7ed3a6ed46c00","@sp":"190ad471461e0d87","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":106.0696,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:26:48.2594847Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"92f5b862bd34266c4df8efb5370b83f9","@sp":"a325d87c9de77dd5","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:26:48.2593210Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:26:48.2835888Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"92f5b862bd34266c4df8efb5370b83f9","@sp":"a325d87c9de77dd5","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":24.1598,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000006","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:27:18.3058104Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"51e63b70f161ca8b639b197348ad2d88","@sp":"882d9087be8ef132","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:27:18.3057075Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:27:18.3696680Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"51e63b70f161ca8b639b197348ad2d88","@sp":"882d9087be8ef132","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":63.8731,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5D:00000007","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5D"}
{"@t":"2026-01-18T15:27:48.4049055Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"57f687d9c9107665e6b2f4698f77e43a","@sp":"c09c196115de587c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:27:48.4047996Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5E:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5E"}
{"@t":"2026-01-18T15:27:48.4545531Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"57f687d9c9107665e6b2f4698f77e43a","@sp":"c09c196115de587c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":49.61,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5E:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5E"}
{"@t":"2026-01-18T15:28:18.4791300Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"95bbaecde2b0eb774c5a6ef53b74dd8c","@sp":"6d91df266a81b84b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:28:18.4789803Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5E:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5E"}
{"@t":"2026-01-18T15:28:18.5530264Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"95bbaecde2b0eb774c5a6ef53b74dd8c","@sp":"6d91df266a81b84b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":73.9695,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5E:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5E"}
{"@t":"2026-01-18T15:28:48.5753439Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bf79e4dce562fbc4e91036f6902e3461","@sp":"df7eddd59cf861b2","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:28:48.5752475Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5E:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5E"}
{"@t":"2026-01-18T15:28:48.6021500Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bf79e4dce562fbc4e91036f6902e3461","@sp":"df7eddd59cf861b2","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":26.7696,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5E:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5E"}
{"@t":"2026-01-18T15:29:18.6285859Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8801464b0ba7eb8b0b42b87c64305f00","@sp":"7933f1baddd8bc68","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:29:18.6284904Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5E:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5E"}
{"@t":"2026-01-18T15:29:18.6991557Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8801464b0ba7eb8b0b42b87c64305f00","@sp":"7933f1baddd8bc68","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":70.5447,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5E:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5E"}
{"@t":"2026-01-18T15:29:48.7304869Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5cd6865449ba07b4fbbb5a7eae007d14","@sp":"b95bb67f6b65b2cc","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:29:48.7303996Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5F:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5F"}
{"@t":"2026-01-18T15:29:48.7544982Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5cd6865449ba07b4fbbb5a7eae007d14","@sp":"b95bb67f6b65b2cc","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":23.9971,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5F:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5F"}
{"@t":"2026-01-18T15:30:18.7722291Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"e20c637f425b374ea25e372b7add22b6","@sp":"b655712b1b78ded9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:30:18.7720744Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5F:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5F"}
{"@t":"2026-01-18T15:30:18.7988323Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"e20c637f425b374ea25e372b7add22b6","@sp":"b655712b1b78ded9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":26.6888,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5F:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5F"}
{"@t":"2026-01-18T15:30:48.8247089Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"33a870c554f211efe0d7cd88aff0ced4","@sp":"4d366d20ec77b40a","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:30:48.8245890Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5F:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5F"}
{"@t":"2026-01-18T15:30:48.9232562Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"33a870c554f211efe0d7cd88aff0ced4","@sp":"4d366d20ec77b40a","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":98.4866,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5F:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5F"}
{"@t":"2026-01-18T15:31:18.9523360Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"9d302f332836883a739bd74f98918372","@sp":"0a258fc44d46da88","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:31:18.9522725Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5F:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5F"}
{"@t":"2026-01-18T15:31:18.9723492Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"9d302f332836883a739bd74f98918372","@sp":"0a258fc44d46da88","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":19.9562,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5F:00000004","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5F"}
{"@t":"2026-01-18T15:31:49.0012678Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"5105cf7a47976c2962cd820ce4689321","@sp":"91e58532a5f8ae5b","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:31:49.0012242Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5G:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5G"}
{"@t":"2026-01-18T15:31:49.0557055Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"5105cf7a47976c2962cd820ce4689321","@sp":"91e58532a5f8ae5b","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":54.409,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5G:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5G"}
{"@t":"2026-01-18T15:32:19.0795708Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"8e2e104aef4b16770f47e98272b9ac0c","@sp":"ac02718e6e24d03c","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:32:19.0794640Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5G:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5G"}
{"@t":"2026-01-18T15:32:19.1050109Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"8e2e104aef4b16770f47e98272b9ac0c","@sp":"ac02718e6e24d03c","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":25.3922,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5G:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5G"}
{"@t":"2026-01-18T15:32:49.1227158Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0b5f794858810cb8138245c0778100fa","@sp":"d56c80e27bf1dbbc","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:32:49.1226619Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5G:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5G"}
{"@t":"2026-01-18T15:32:49.1561393Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0b5f794858810cb8138245c0778100fa","@sp":"d56c80e27bf1dbbc","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":33.444,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKJV3FB5G:00000003","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKJV3FB5G"}
{"@t":"2026-01-18T15:33:57.3780831Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T15:33:57.4638447Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T15:33:57.4659864Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.Api"}
{"@t":"2026-01-18T15:33:57.8183480Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T15:33:59.4303228Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:33:59.4348927Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:33:59.4388671Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:34:00.2198403Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:34:00.2232607Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:34:00.2272407Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:34:00.4748439Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T15:34:00.6024576Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T15:34:57.9724786Z","@mt":"JWT Config - Issuer: {Issuer}","Issuer":"RestaurantApp","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T15:34:58.0445242Z","@mt":"JWT Config - Audience: {Audience}","Audience":"RestaurantAppUsers","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T15:34:58.0510196Z","@mt":"JWT Config - Key Used: {Key}","Key":"Devel...","SourceContext":"RestaurantApp.API"}
{"@t":"2026-01-18T15:34:58.4040283Z","@mt":"Starting database seeding...","SourceContext":"Program"}
{"@t":"2026-01-18T15:34:59.8287621Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:34:59.8332001Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:34:59.8389100Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:35:00.6569525Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Favorite","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:35:00.6604030Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"LoyaltyPoints","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:35:00.6678031Z","@mt":"The foreign key property '{entityType}.{property}' was created in shadow state because a conflicting property with the simple name '{baseName}' exists in the entity type, but is either not mapped, is already used for another relationship, or is incompatible with the associated primary key type. See https://aka.ms/efcore-relationships for information on mapping relationships in EF Core.","@l":"Warning","entityType":"Review","property":"CustomerId1","baseName":"CustomerId","EventId":{"Id":10625,"Name":"Microsoft.EntityFrameworkCore.Model.Validation.ShadowForeignKeyPropertyCreated"},"SourceContext":"Microsoft.EntityFrameworkCore.Model.Validation"}
{"@t":"2026-01-18T15:35:00.9313718Z","@mt":"An error occurred while seeding the database.","@l":"Error","@x":"System.InvalidOperationException: An error was generated for warning 'Microsoft.EntityFrameworkCore.Migrations.PendingModelChangesWarning': The model for context 'ApplicationDbContext' has pending changes. Add a new migration before updating the database. See https://aka.ms/efcore-docs-pending-changes. This exception can be suppressed or logged by passing event ID 'RelationalEventId.PendingModelChangesWarning' to the 'ConfigureWarnings' method in 'DbContext.OnConfiguring' or 'AddDbContext'.\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.EventDefinition`1.Log[TLoggerCategory](IDiagnosticsLogger`1 logger, TParam arg)\r\n   at Microsoft.EntityFrameworkCore.Diagnostics.RelationalLoggerExtensions.PendingModelChangesWarning(IDiagnosticsLogger`1 diagnostics, Type contextType)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.ValidateMigrations(Boolean useTransaction, String targetMigration)\r\n   at Microsoft.EntityFrameworkCore.Migrations.Internal.Migrator.MigrateAsync(String targetMigration, CancellationToken cancellationToken)\r\n   at DbInitializer.InitializeAsync(IServiceProvider serviceProvider) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\DbInitializer.cs:line 15\r\n   at Program.<Main>$(String[] args) in H:\\Restaurant APP\\src\\RestaurantApp.Api\\Program.cs:line 359","SourceContext":"Program"}
{"@t":"2026-01-18T15:35:01.0504538Z","@mt":"The WebRootPath was not found: {WebRootPath}. Static files may be unavailable.","@l":"Warning","WebRootPath":"H:\\Restaurant APP\\src\\RestaurantApp.Api\\wwwroot","EventId":{"Id":16,"Name":"WebRootPathNotFound"},"SourceContext":"Microsoft.AspNetCore.StaticFiles.StaticFileMiddleware"}
{"@t":"2026-01-18T15:35:12.5961049Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d0ad386af9ea7f2074b53fa29f84037b","@sp":"210fb0fcebb33f83","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:35:12.5900735Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:35:12.6361949Z","@mt":"Failed to determine the https port for redirect.","@l":"Warning","@tr":"d0ad386af9ea7f2074b53fa29f84037b","@sp":"210fb0fcebb33f83","EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HNIMKSLP5SB5:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5","CorrelationId":"937f4dc5-e9f8-45d6-8bd9-61d550a164ff"}
{"@t":"2026-01-18T15:35:18.6047713Z","@mt":"Compiling a query which loads related collections for more than one collection navigation, either via 'Include' or through projection, but no 'QuerySplittingBehavior' has been configured. By default, Entity Framework will use 'QuerySplittingBehavior.SingleQuery', which can potentially result in slow query performance. See https://go.microsoft.com/fwlink/?linkid=2134277 for more information. To identify the query that's triggering this warning call 'ConfigureWarnings(w => w.Throw(RelationalEventId.MultipleCollectionIncludeWarning))'.","@l":"Warning","@tr":"d0ad386af9ea7f2074b53fa29f84037b","@sp":"210fb0fcebb33f83","EventId":{"Id":20504,"Name":"Microsoft.EntityFrameworkCore.Query.MultipleCollectionIncludeWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"aa9ce187-aabf-451f-ad81-37b85769a550","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.GetAllOrders (RestaurantApp.API)","RequestId":"0HNIMKSLP5SB5:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5","CorrelationId":"937f4dc5-e9f8-45d6-8bd9-61d550a164ff"}
{"@t":"2026-01-18T15:35:19.7826471Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d0ad386af9ea7f2074b53fa29f84037b","@sp":"210fb0fcebb33f83","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":7191.8529,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000001","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:35:20.9417543Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d0ad386af9ea7f2074b53fa29f84037b","@sp":"0c2929ca6f97319e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:35:20.9413490Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB6:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SB6"}
{"@t":"2026-01-18T15:35:21.0630600Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d0ad386af9ea7f2074b53fa29f84037b","@sp":"0c2929ca6f97319e","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":91.676,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB6:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SB6"}
{"@t":"2026-01-18T15:35:21.2918224Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d0ad386af9ea7f2074b53fa29f84037b","@sp":"e65179d4f32b17bf","Method":"GET","Path":"/hubs/orders","Query":"?id=k0BG5TSLlrk8K-c8AO-Tlg","Time":"2026-01-18T15:35:21.2916506Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB7:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKSLP5SB7"}
{"@t":"2026-01-18T15:35:21.6754535Z","@mt":"Client connected: {ConnectionId}","@tr":"d0ad386af9ea7f2074b53fa29f84037b","@sp":"e65179d4f32b17bf","ConnectionId":"f1TOUJpCK6OuI8iJOxCf3Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"f1TOUJpCK6OuI8iJOxCf3Q","RequestId":"0HNIMKSLP5SB7:00000001","RequestPath":"/hubs/orders","CorrelationId":"c4b4f796-7377-4bfd-8736-d98f85246f1c"}
{"@t":"2026-01-18T15:35:21.7773472Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"f1TOUJpCK6OuI8iJOxCf3Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"f1TOUJpCK6OuI8iJOxCf3Q","RequestId":"0HNIMKSLP5SB7:00000001","RequestPath":"/hubs/orders","CorrelationId":"c4b4f796-7377-4bfd-8736-d98f85246f1c"}
{"@t":"2026-01-18T15:35:22.1210297Z","@mt":"Client disconnected: {ConnectionId}","@tr":"d0ad386af9ea7f2074b53fa29f84037b","@sp":"e65179d4f32b17bf","ConnectionId":"f1TOUJpCK6OuI8iJOxCf3Q","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"f1TOUJpCK6OuI8iJOxCf3Q","RequestId":"0HNIMKSLP5SB7:00000001","RequestPath":"/hubs/orders","CorrelationId":"c4b4f796-7377-4bfd-8736-d98f85246f1c"}
{"@t":"2026-01-18T15:35:22.1553628Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"d0ad386af9ea7f2074b53fa29f84037b","@sp":"e65179d4f32b17bf","Method":"GET","Path":"/hubs/orders","Query":"?id=k0BG5TSLlrk8K-c8AO-Tlg","StatusCode":101,"Duration":863.5024,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB7:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKSLP5SB7"}
{"@t":"2026-01-18T15:35:22.9230011Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7dffebe10ab1b94b4abde789a6f618fd","@sp":"f90394b6cfac8676","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:35:22.9228847Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:35:23.2460974Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"7dffebe10ab1b94b4abde789a6f618fd","@sp":"f90394b6cfac8676","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":323.0561,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000002","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:35:23.2717652Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"6c554f5e1219c1a96f6273144e8c5baa","@sp":"6eac6024855e5bae","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:35:23.2716805Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SB8"}
{"@t":"2026-01-18T15:35:23.2785828Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"6c554f5e1219c1a96f6273144e8c5baa","@sp":"6eac6024855e5bae","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":6.7711,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB8:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SB8"}
{"@t":"2026-01-18T15:35:23.2850719Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"0aa6dacf7b225eaf704ac9b7e2b46ef0","@sp":"f47186873c5ec7dd","Method":"GET","Path":"/hubs/orders","Query":"?id=pjNhjSbSMVurZ2ZmalQDiA","Time":"2026-01-18T15:35:23.2849358Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKSLP5SB9"}
{"@t":"2026-01-18T15:35:23.3031460Z","@mt":"Client connected: {ConnectionId}","@tr":"0aa6dacf7b225eaf704ac9b7e2b46ef0","@sp":"f47186873c5ec7dd","ConnectionId":"aa-V-e_VikXWZDpPDxop4A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"aa-V-e_VikXWZDpPDxop4A","RequestId":"0HNIMKSLP5SB9:00000001","RequestPath":"/hubs/orders","CorrelationId":"466435f9-05ec-4cff-9cb9-56e9297cc239"}
{"@t":"2026-01-18T15:35:23.3097940Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"aa-V-e_VikXWZDpPDxop4A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"aa-V-e_VikXWZDpPDxop4A","RequestId":"0HNIMKSLP5SB9:00000001","RequestPath":"/hubs/orders","CorrelationId":"466435f9-05ec-4cff-9cb9-56e9297cc239"}
{"@t":"2026-01-18T15:35:26.0502234Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"deb823ca60103bd5ac2a5d35ea994880","@sp":"3b06cf48f0553aee","Method":"GET","Path":"/api/deliveries/available","Query":"","Time":"2026-01-18T15:35:26.0501007Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000003","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:35:26.1636279Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"deb823ca60103bd5ac2a5d35ea994880","@sp":"3b06cf48f0553aee","Method":"GET","Path":"/api/deliveries/available","Query":"","StatusCode":200,"Duration":113.4641,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000003","RequestPath":"/api/deliveries/available","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:35:31.0232274Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"bbbd5900a6b999eb3ff0a0a63b0123ae","@sp":"0a8fc0987646bfed","Method":"POST","Path":"/api/admin/orders/8/assign-delivery","Query":"","Time":"2026-01-18T15:35:31.0229165Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000004","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:35:31.2013851Z","@mt":"Assigning delivery {DeliveryId} to order {OrderId}","@tr":"bbbd5900a6b999eb3ff0a0a63b0123ae","@sp":"0a8fc0987646bfed","DeliveryId":2,"OrderId":8,"SourceContext":"RestaurantApp.API.Controllers.AdminOrdersController","ActionId":"b778dc2f-8216-4fe0-aec6-732b3410c9c5","ActionName":"RestaurantApp.API.Controllers.AdminOrdersController.AssignDelivery (RestaurantApp.API)","RequestId":"0HNIMKSLP5SB5:00000004","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMKSLP5SB5","CorrelationId":"e206ced4-b0ee-4b7d-9c55-196f9e99a3f5"}
{"@t":"2026-01-18T15:35:31.8717159Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"bbbd5900a6b999eb3ff0a0a63b0123ae","@sp":"0a8fc0987646bfed","Method":"POST","Path":"/api/admin/orders/8/assign-delivery","Query":"","StatusCode":200,"Duration":848.5966,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000004","RequestPath":"/api/admin/orders/8/assign-delivery","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:35:34.9021449Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"527d888cdf248fc64f11721dad2a8f28","@sp":"821221cf88deae48","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:35:34.9019681Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:35:34.9835721Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"527d888cdf248fc64f11721dad2a8f28","@sp":"821221cf88deae48","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":81.4616,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000005","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:11.0607505Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"d4918136c27333dac2c0c632f45876f7","@sp":"44d486cfc94706f4","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T15:36:11.0603684Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000006","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:11.0866704Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"d4918136c27333dac2c0c632f45876f7","@sp":"44d486cfc94706f4","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":401,"Duration":26.0696,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000006","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:11.1178888Z","@mt":"Client disconnected: {ConnectionId}","@tr":"0aa6dacf7b225eaf704ac9b7e2b46ef0","@sp":"f47186873c5ec7dd","ConnectionId":"aa-V-e_VikXWZDpPDxop4A","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"aa-V-e_VikXWZDpPDxop4A","RequestId":"0HNIMKSLP5SB9:00000001","RequestPath":"/hubs/orders","CorrelationId":"466435f9-05ec-4cff-9cb9-56e9297cc239"}
{"@t":"2026-01-18T15:36:11.1234018Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"0aa6dacf7b225eaf704ac9b7e2b46ef0","@sp":"f47186873c5ec7dd","Method":"GET","Path":"/hubs/orders","Query":"?id=pjNhjSbSMVurZ2ZmalQDiA","StatusCode":101,"Duration":47838.3739,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB9:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKSLP5SB9"}
{"@t":"2026-01-18T15:36:11.1307545Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1d3681913f9f4552d9d16596032aa86a","@sp":"0a6f5de187428b8a","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T15:36:11.1304721Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000007","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:11.2277395Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1d3681913f9f4552d9d16596032aa86a","@sp":"0a6f5de187428b8a","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":200,"Duration":97.0998,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000007","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:15.2287272Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"3099b83ba6f126eb7f7d3f2d6e89a2d5","@sp":"1e11e3000fa57e4c","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T15:36:15.2285800Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000008","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:15.2662815Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@l":"Warning","@tr":"3099b83ba6f126eb7f7d3f2d6e89a2d5","@sp":"1e11e3000fa57e4c","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":401,"Duration":37.5895,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000008","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:15.3695079Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"b8ba7e132bda8af576de537dd8f63da9","@sp":"34db5bdc880876a1","Method":"GET","Path":"/api/deliveries","Query":"","Time":"2026-01-18T15:36:15.3693798Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000009","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:15.4709978Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"b8ba7e132bda8af576de537dd8f63da9","@sp":"34db5bdc880876a1","Method":"GET","Path":"/api/deliveries","Query":"","StatusCode":200,"Duration":101.3832,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:00000009","RequestPath":"/api/deliveries","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:17.4587124Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"04bb126cc6ce0641eb642a2e852261c7","@sp":"b5d4df349722f084","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:36:17.4585189Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:17.8106504Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"04bb126cc6ce0641eb642a2e852261c7","@sp":"b5d4df349722f084","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":352.0161,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:0000000A","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:17.8345659Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"04bb126cc6ce0641eb642a2e852261c7","@sp":"51d7ca69ae8750d6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:36:17.8344555Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBA:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SBA"}
{"@t":"2026-01-18T15:36:17.8432990Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"04bb126cc6ce0641eb642a2e852261c7","@sp":"51d7ca69ae8750d6","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":8.5306,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBA:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SBA"}
{"@t":"2026-01-18T15:36:17.8516303Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"04bb126cc6ce0641eb642a2e852261c7","@sp":"75ebdb9d0331cb40","Method":"GET","Path":"/hubs/orders","Query":"?id=wEf6w5Y21OjMGIufNXdgLA","Time":"2026-01-18T15:36:17.8514574Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBB:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKSLP5SBB"}
{"@t":"2026-01-18T15:36:17.8793213Z","@mt":"Client connected: {ConnectionId}","@tr":"04bb126cc6ce0641eb642a2e852261c7","@sp":"75ebdb9d0331cb40","ConnectionId":"hyGpP-PdObSHv9U96H6yhA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"hyGpP-PdObSHv9U96H6yhA","RequestId":"0HNIMKSLP5SBB:00000001","RequestPath":"/hubs/orders","CorrelationId":"0b10f22d-546a-46d0-8751-3d14fde29f68"}
{"@t":"2026-01-18T15:36:17.8934011Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"hyGpP-PdObSHv9U96H6yhA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"hyGpP-PdObSHv9U96H6yhA","RequestId":"0HNIMKSLP5SBB:00000001","RequestPath":"/hubs/orders","CorrelationId":"0b10f22d-546a-46d0-8751-3d14fde29f68"}
{"@t":"2026-01-18T15:36:17.9335622Z","@mt":"Client disconnected: {ConnectionId}","@tr":"04bb126cc6ce0641eb642a2e852261c7","@sp":"75ebdb9d0331cb40","ConnectionId":"hyGpP-PdObSHv9U96H6yhA","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"hyGpP-PdObSHv9U96H6yhA","RequestId":"0HNIMKSLP5SBB:00000001","RequestPath":"/hubs/orders","CorrelationId":"0b10f22d-546a-46d0-8751-3d14fde29f68"}
{"@t":"2026-01-18T15:36:17.9421088Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"04bb126cc6ce0641eb642a2e852261c7","@sp":"75ebdb9d0331cb40","Method":"GET","Path":"/hubs/orders","Query":"?id=wEf6w5Y21OjMGIufNXdgLA","StatusCode":101,"Duration":90.5216,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBB:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKSLP5SBB"}
{"@t":"2026-01-18T15:36:17.9707140Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"a45e412363d8ad223c52e5c8221a0c82","@sp":"ff661ed0bdb6bbb9","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:36:17.9705975Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:18.0512867Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"a45e412363d8ad223c52e5c8221a0c82","@sp":"ff661ed0bdb6bbb9","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":80.5795,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:0000000B","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:18.1071912Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"31f821cd40508af3ee7db2e44c464094","@sp":"56de2bf35152390a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T15:36:18.1065784Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBC:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SBC"}
{"@t":"2026-01-18T15:36:18.1730874Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"31f821cd40508af3ee7db2e44c464094","@sp":"56de2bf35152390a","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":66.4037,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBC:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SBC"}
{"@t":"2026-01-18T15:36:18.1812500Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"37ee0a013646b65d33f96d3f65f83fa8","@sp":"0b4dfba8fe481237","Method":"GET","Path":"/hubs/orders","Query":"?id=rgTNOFKdyohP2Nf7_Ung9g","Time":"2026-01-18T15:36:18.1811402Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBD:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKSLP5SBD"}
{"@t":"2026-01-18T15:36:18.1973264Z","@mt":"Client connected: {ConnectionId}","@tr":"37ee0a013646b65d33f96d3f65f83fa8","@sp":"0b4dfba8fe481237","ConnectionId":"Q9kFzul2Oh0H5QeA0sl0Eg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Q9kFzul2Oh0H5QeA0sl0Eg","RequestId":"0HNIMKSLP5SBD:00000001","RequestPath":"/hubs/orders","CorrelationId":"3bda357b-9bdd-40bb-b1be-1621d630531c"}
{"@t":"2026-01-18T15:36:18.2042924Z","@mt":"Client {ConnectionId} joined admin group","ConnectionId":"Q9kFzul2Oh0H5QeA0sl0Eg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Q9kFzul2Oh0H5QeA0sl0Eg","RequestId":"0HNIMKSLP5SBD:00000001","RequestPath":"/hubs/orders","CorrelationId":"3bda357b-9bdd-40bb-b1be-1621d630531c"}
{"@t":"2026-01-18T15:36:37.3041648Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"74cf07a87cea6de1ddebd1c101024e0a","@sp":"1ea5a24a9895c217","Method":"GET","Path":"/api/admin/orders","Query":"","Time":"2026-01-18T15:36:37.3040351Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T15:36:37.4071595Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"74cf07a87cea6de1ddebd1c101024e0a","@sp":"1ea5a24a9895c217","Method":"GET","Path":"/api/admin/orders","Query":"","StatusCode":200,"Duration":102.9073,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SB5:0000000C","RequestPath":"/api/admin/orders","ConnectionId":"0HNIMKSLP5SB5"}
{"@t":"2026-01-18T16:06:59.0582914Z","@mt":"Client disconnected: {ConnectionId}","@tr":"37ee0a013646b65d33f96d3f65f83fa8","@sp":"0b4dfba8fe481237","ConnectionId":"Q9kFzul2Oh0H5QeA0sl0Eg","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"Q9kFzul2Oh0H5QeA0sl0Eg","RequestId":"0HNIMKSLP5SBD:00000001","RequestPath":"/hubs/orders","CorrelationId":"3bda357b-9bdd-40bb-b1be-1621d630531c"}
{"@t":"2026-01-18T16:06:59.0605793Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"37ee0a013646b65d33f96d3f65f83fa8","@sp":"0b4dfba8fe481237","Method":"GET","Path":"/hubs/orders","Query":"?id=rgTNOFKdyohP2Nf7_Ung9g","StatusCode":101,"Duration":1840879.3681,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBD:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKSLP5SBD"}
{"@t":"2026-01-18T16:07:00.9444494Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1040c3bbe1565aa40c6f320dd280c3d8","@sp":"07584bccec7e7d56","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T16:07:00.9443958Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBE:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SBE"}
{"@t":"2026-01-18T16:07:02.0492858Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1040c3bbe1565aa40c6f320dd280c3d8","@sp":"07584bccec7e7d56","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":1104.8241,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBE:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SBE"}
{"@t":"2026-01-18T16:07:02.0721882Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"4556d7940eb8537da0fabefaa8bdeb2d","@sp":"48dbfb0a6e415280","Method":"GET","Path":"/hubs/orders","Query":"?id=WZ5PYYuyKPMIi3E4XLqURA","Time":"2026-01-18T16:07:02.0721378Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBF:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKSLP5SBF"}
{"@t":"2026-01-18T16:07:02.3101571Z","@mt":"Client connected: {ConnectionId}","@tr":"4556d7940eb8537da0fabefaa8bdeb2d","@sp":"48dbfb0a6e415280","ConnectionId":"SzftZv_EC7YWHkEYtvSf4g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"SzftZv_EC7YWHkEYtvSf4g","RequestId":"0HNIMKSLP5SBF:00000001","RequestPath":"/hubs/orders","CorrelationId":"39f8a773-69aa-4f32-9e09-35535c600519"}
{"@t":"2026-01-18T19:26:59.1516555Z","@mt":"Client disconnected: {ConnectionId}","@tr":"4556d7940eb8537da0fabefaa8bdeb2d","@sp":"48dbfb0a6e415280","ConnectionId":"SzftZv_EC7YWHkEYtvSf4g","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"SzftZv_EC7YWHkEYtvSf4g","RequestId":"0HNIMKSLP5SBF:00000001","RequestPath":"/hubs/orders","CorrelationId":"39f8a773-69aa-4f32-9e09-35535c600519"}
{"@t":"2026-01-18T19:26:59.1538992Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"4556d7940eb8537da0fabefaa8bdeb2d","@sp":"48dbfb0a6e415280","Method":"GET","Path":"/hubs/orders","Query":"?id=WZ5PYYuyKPMIi3E4XLqURA","StatusCode":101,"Duration":11997081.6679,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBF:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKSLP5SBF"}
{"@t":"2026-01-18T19:27:00.0102935Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"1e48de6054e007aa917afa6dd4922347","@sp":"dffd79a722181da9","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","Time":"2026-01-18T19:27:00.0102339Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBG:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SBG"}
{"@t":"2026-01-18T19:27:01.0570191Z","@mt":"HTTP {Method} {Path}{Query} responded {StatusCode} in {Duration}ms","@tr":"1e48de6054e007aa917afa6dd4922347","@sp":"dffd79a722181da9","Method":"POST","Path":"/hubs/orders/negotiate","Query":"?negotiateVersion=1","StatusCode":200,"Duration":1046.7199,"SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBG:00000001","RequestPath":"/hubs/orders/negotiate","ConnectionId":"0HNIMKSLP5SBG"}
{"@t":"2026-01-18T19:27:01.0617433Z","@mt":"HTTP {Method} {Path}{Query} started at {Time}","@tr":"7f6ff99182dae0c7539e85118cd8aaa3","@sp":"df1493c9040433a1","Method":"GET","Path":"/hubs/orders","Query":"?id=kQOvTtMuAZEfg5bYfOoPzQ","Time":"2026-01-18T19:27:01.0617021Z","SourceContext":"RestaurantApp.API.Middleware.RequestResponseLoggingMiddleware","RequestId":"0HNIMKSLP5SBH:00000001","RequestPath":"/hubs/orders","ConnectionId":"0HNIMKSLP5SBH"}
{"@t":"2026-01-18T19:27:01.0766066Z","@mt":"Client connected: {ConnectionId}","@tr":"7f6ff99182dae0c7539e85118cd8aaa3","@sp":"df1493c9040433a1","ConnectionId":"MvvXqiQTP7NuqZtu9kXnnQ","SourceContext":"RestaurantApp.API.Hubs.OrderHub","TransportConnectionId":"MvvXqiQTP7NuqZtu9kXnnQ","RequestId":"0HNIMKSLP5SBH:00000001","RequestPath":"/hubs/orders","CorrelationId":"f6396a81-3bb9-4a86-b102-65d15420a9bf"}
